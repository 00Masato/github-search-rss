{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/12642?u=76645b9234fbbeb252f789a670b62927cf998541&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Otherwise join queries doesn't recognize the registered custom predicate handlers for the original class.</p>",
            "url": "https://github.com/rails/rails/pull/53365",
            "title": "Preserve custom predicate handlers for joins",
            "date_modified": "2024-10-18T11:54:25.000Z",
            "date_published": "2024-10-18T11:54:20.000Z",
            "author": {
                "name": "kamipo",
                "url": "https://github.com/kamipo"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/46014?u=ada22f75c3a41f5a766cb474addae9bc54a67052&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Summary</h3>\n<p dir=\"auto\">Optimistic locking raises <code class=\"notranslate\">NoMethodError: undefined method '+' for nil</code> on an attempt to <code class=\"notranslate\">#update</code> the lock column (eg <code class=\"notranslate\">lock_version</code>) to <code class=\"notranslate\">nil</code> (and the model has no validation to prevent it).</p>\n<p dir=\"auto\">This PR proposes to handle this situation more gracefully, by raising a more helpful error where appropriate.</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This was happening in an app where a bug was causing an <code class=\"notranslate\">#update</code> attempt with <code class=\"notranslate\">lock_version: nil</code>. The model had no validations on the <code class=\"notranslate\">lock_version</code> column. The raised error was not particularly helpful:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"NoMethodError: undefined method `+' for nil\n    lib/active_record/locking/optimistic.rb:104:in `_update_row'\n    lib/active_record/persistence.rb:907:in `_update_record'\n    ...\"><pre class=\"notranslate\"><code class=\"notranslate\">NoMethodError: undefined method `+' for nil\n    lib/active_record/locking/optimistic.rb:104:in `_update_row'\n    lib/active_record/persistence.rb:907:in `_update_record'\n    ...\n</code></pre></div>\n<p dir=\"auto\">Hence, I thought a more useful error message would be nice, since it is possible that an app might contain a model whose lock has no AR validations on the lock version column. Also, other cases where the lock column has no default say are handled gracefully already by the implementation.</p>\n<p dir=\"auto\">The proposal is to raise before attempting to increment the version, with a suggestion to check if there is a missing a validation. For example:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"For optimistic locking, 'lock_version' should not be set to `nil`/`NULL`. Are you missing a default value or validation on 'lock_version'?\"><pre class=\"notranslate\"><code class=\"notranslate\">For optimistic locking, 'lock_version' should not be set to `nil`/`NULL`. Are you missing a default value or validation on 'lock_version'?\n</code></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Consider the model (taken from the ActiveRecord test suite)</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"create_table :lock_without_defaults, force: true do |t|\n  t.column :title, :string\n  t.column :lock_version, :integer\n  t.timestamps null: true\nend\"><pre class=\"notranslate\"><code class=\"notranslate\">create_table :lock_without_defaults, force: true do |t|\n  t.column :title, :string\n  t.column :lock_version, :integer\n  t.timestamps null: true\nend\n</code></pre></div>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"class LockWithoutDefault &lt; ActiveRecord::Base; end\"><pre class=\"notranslate\"><code class=\"notranslate\">class LockWithoutDefault &lt; ActiveRecord::Base; end\n</code></pre></div>\n<p dir=\"auto\">One can <a href=\"https://github.com/rails/rails/blob/ee661852313ff697d5f3a73a68aab99101ea3ead/activerecord/test/cases/locking_test.rb#L280\">create a record</a> without any initial value for the <code class=\"notranslate\">lock_version</code> column. If one accidentally attempts to <code class=\"notranslate\">update</code> the <code class=\"notranslate\">lock_version</code> to <code class=\"notranslate\">nil</code>, it raises.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"t1 = LockWithoutDefault.create!(title: &quot;title1&quot;)\nt1.update(lock_version: nil)\"><pre class=\"notranslate\"><code class=\"notranslate\">t1 = LockWithoutDefault.create!(title: \"title1\")\nt1.update(lock_version: nil)\n</code></pre></div>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"NoMethodError: undefined method `+' for nil\n    lib/active_record/locking/optimistic.rb:104:in `_update_row'\n    lib/active_record/persistence.rb:907:in `_update_record'\n    ...\"><pre class=\"notranslate\"><code class=\"notranslate\">NoMethodError: undefined method `+' for nil\n    lib/active_record/locking/optimistic.rb:104:in `_update_row'\n    lib/active_record/persistence.rb:907:in `_update_record'\n    ...\n</code></pre></div>\n<p dir=\"auto\">After the proposed change, the error will instead be</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"RuntimeError: For optimistic locking, 'lock_version' should not be set to `nil`/`NULL`. Are you missing a default value or validation on 'lock_version'?\n    lib/active_record/locking/optimistic.rb:105:in `_update_row'\n    lib/active_record/persistence.rb:907:in `_update_record'\n    ...\"><pre class=\"notranslate\"><code class=\"notranslate\">RuntimeError: For optimistic locking, 'lock_version' should not be set to `nil`/`NULL`. Are you missing a default value or validation on 'lock_version'?\n    lib/active_record/locking/optimistic.rb:105:in `_update_row'\n    lib/active_record/persistence.rb:907:in `_update_record'\n    ...\n</code></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">The error I chose is a <code class=\"notranslate\">RuntimeError</code>, following what is generated by <a href=\"https://github.com/stevegeek/rails/blob/2d1ec4bf09381af24a336f0e1923369eb050864a/activerecord/lib/active_record/locking/pessimistic.rb#L72\">pessimistic locking here</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>\n<hr>\n<p dir=\"auto\">Let me know if this is something that might be considered useful and what other changes might be needed.</p>\n<p dir=\"auto\">Thanks for all your work on Rails!</p>",
            "url": "https://github.com/rails/rails/pull/53364",
            "title": "Improve error handling on attempt to update optimistic lock version to `nil`",
            "date_modified": "2024-10-18T10:46:45.000Z",
            "date_published": "2024-10-18T10:46:41.000Z",
            "author": {
                "name": "stevegeek",
                "url": "https://github.com/stevegeek"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/19192189?u=dd60737844a9db7f1475bab21fc3e5258a405e15&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">No longer supporting it will allow us to evolve the internal representation of Active Record objects without breaking compatibility.</p>\n<p dir=\"auto\">Unfortunately I don't see any realistic solution for emitting deprecation warnings if the format is still in use by an application.</p>\n<p dir=\"auto\">For now loading 6.1 record will still work, so I left the associated tests, but we might break it at any point when evolving the various <code class=\"notranslate\">Attribute</code> / <code class=\"notranslate\">AttributeSet</code> private APIs.</p>",
            "url": "https://github.com/rails/rails/pull/53362",
            "title": "Remove support for Rails 6.1 Active Record Marshal format",
            "date_modified": "2024-10-18T11:53:58.000Z",
            "date_published": "2024-10-18T08:31:25.000Z",
            "author": {
                "name": "casperisfine",
                "url": "https://github.com/casperisfine"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/12642?u=76645b9234fbbeb252f789a670b62927cf998541&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">When <code class=\"notranslate\">time_zone_aware_attributes = true</code> and a type is included in <code class=\"notranslate\">time_zone_aware_types</code>, that type is wrapped by <code class=\"notranslate\">TimeZoneConverter</code>.</p>\n<p dir=\"auto\"></p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/e71a6d410e57589fc9e4b13c918eed427c936152/activerecord/lib/active_record/attribute_methods/time_zone_conversion.rb#L77-L90\">rails/activerecord/lib/active_record/attribute_methods/time_zone_conversion.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 77 to 90\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/e71a6d410e57589fc9e4b13c918eed427c936152\">e71a6d4</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L77\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"77\"></td>\n          <td id=\"LC77\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">hook_attribute_type</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">name</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">cast_type</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L78\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"78\"></td>\n          <td id=\"LC78\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">if</span> <span class=\"pl-en\">create_time_zone_conversion_attribute?</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">name</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">cast_type</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L79\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"79\"></td>\n          <td id=\"LC79\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-s1\">cast_type</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">TimeZoneConverter</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">cast_type</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L80\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"80\"></td>\n          <td id=\"LC80\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">end</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L81\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"81\"></td>\n          <td id=\"LC81\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L82\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"82\"></td>\n          <td id=\"LC82\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-smi\">super</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L83\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"83\"></td>\n          <td id=\"LC83\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L84\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"84\"></td>\n          <td id=\"LC84\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L85\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"85\"></td>\n          <td id=\"LC85\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">create_time_zone_conversion_attribute?</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">name</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">cast_type</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L86\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"86\"></td>\n          <td id=\"LC86\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">enabled_for_column</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">time_zone_aware_attributes</span> &amp;&amp; </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L87\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"87\"></td>\n          <td id=\"LC87\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     !<span class=\"pl-en\">skip_time_zone_conversion_for_attributes</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">include?</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">name</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_sym</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L88\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"88\"></td>\n          <td id=\"LC88\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L89\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"89\"></td>\n          <td id=\"LC89\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">enabled_for_column</span> &amp;&amp; <span class=\"pl-en\">time_zone_aware_types</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">include?</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">cast_type</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">type</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L90\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"90\"></td>\n          <td id=\"LC90\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\"><a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/302e92359cc88258ae15a82454c58408a4b8157e/hovercard\" href=\"https://github.com/rails/rails/commit/302e92359cc88258ae15a82454c58408a4b8157e\"><tt>302e923</tt></a> was to work <code class=\"notranslate\">TimeZoneConverter</code> on <code class=\"notranslate\">tsrange</code> and <code class=\"notranslate\">tstzrange</code> types, but that commit mistakenly yield the subtype processing even for types other than array/range, causing an infinite recursion.</p>\n<p dir=\"auto\">To address that infinite recursion, <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/5bb26008ce7c979a87f0d8aef0dd10514838787f/hovercard\" href=\"https://github.com/rails/rails/commit/5bb26008ce7c979a87f0d8aef0dd10514838787f\"><tt>5bb2600</tt></a> introduced the circuit breaker <code class=\"notranslate\">map_avoiding_infinite_recursion</code>, hitting the circuit breaker unintentionally is why wrapped <code class=\"notranslate\">custom_type.cast(timestamp.to_i)</code> for a time zone-aware custom type in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2588833434\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/53317\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/53317/hovercard\" href=\"https://github.com/rails/rails/issues/53317\">#53317</a> returns nil when <code class=\"notranslate\">time_zone_aware_attributes = true</code>.</p>\n<p dir=\"auto\">This makes that yield the subtype processing only for array/range types, and removes the circuit breaker <code class=\"notranslate\">map_avoiding_infinite_recursion</code>, so that <code class=\"notranslate\">type.cast(...)</code> on a time zone-aware type returns a consistent value whether or not <code class=\"notranslate\">time_zone_aware_attributes = true</code> is set.</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #53317.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2588833434\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/53317\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/53317/hovercard\" href=\"https://github.com/rails/rails/issues/53317\">#53317</a>.</p>",
            "url": "https://github.com/rails/rails/pull/53359",
            "title": "Fix time zone-aware custom attributes not to hit the circuit breaker for infinite recursion",
            "date_modified": "2024-10-18T10:12:22.000Z",
            "date_published": "2024-10-18T05:30:24.000Z",
            "author": {
                "name": "kamipo",
                "url": "https://github.com/kamipo"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Considering a schema like the following:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"ActiveRecord::Schema.define do\n  create_table :posts, force: true do |t|\n    t.boolean :published, null: false, default: true\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Schema</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">define</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">create_table</span> <span class=\"pl-pds\">:posts</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">force</span>: <span class=\"pl-c1\">true</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">boolean</span> <span class=\"pl-pds\">:published</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">null</span>: <span class=\"pl-c1\">false</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">default</span>: <span class=\"pl-c1\">true</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">Creating a Post with an explicitly set <code class=\"notranslate\">published: nil</code> raises an exception:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Post.create! published: nil # =&gt; raises ActiveRecord::NotNullViolation: SQLite3::ConstraintException: NOT NULL constraint failed: posts.published\"><pre class=\"notranslate\"><code class=\"notranslate\">Post.create! published: nil # =&gt; raises ActiveRecord::NotNullViolation: SQLite3::ConstraintException: NOT NULL constraint failed: posts.published\n</code></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\"><a href=\"https://github.com/rails/rails/pull/53352\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/53352/hovercard\">#53352</a> aimed to change that behavior, but was rejected. This change aims to document both Active Record and Active Model's behavior when assigning <code class=\"notranslate\">nil</code> to attributes with a <code class=\"notranslate\">default</code> value (and a column with both <code class=\"notranslate\">null: false</code> and a <code class=\"notranslate\">default</code> option).</p>",
            "url": "https://github.com/rails/rails/pull/53355",
            "title": "Document how `nil` overrides an attribute default [ci skip]",
            "date_modified": "2024-10-18T06:36:10.000Z",
            "date_published": "2024-10-17T19:32:14.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/8207?u=b696c885624fac0e15405b8713a770e888f26a96&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2593365975\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/53348\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/53348/hovercard\" href=\"https://github.com/rails/rails/issues/53348\">#53348</a> describes an issue where, after adding Solid Cache to an application, running <code class=\"notranslate\">db:prepare</code> in production re-loaded the seeds, potentially leading to data loss.</p>\n<p dir=\"auto\">This PR proposes that any databases that are managed by Rails should behave differently in this case, and seeds should not be run when a Solid {Cache,Queue,Cable} database is added to the config and initialized.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Specifically, this PR adds a new method <code class=\"notranslate\">DatabaseConfig#framework?</code> which defaults to <code class=\"notranslate\">false</code>, but is set to <code class=\"notranslate\">true</code> for the Solid-* databases in Rails's default production database config.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">If this proposal is merged, the docs for the Solid-* gems should be updated to inform users to add the <code class=\"notranslate\">framework: true</code> value to their database config.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li>[?] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/53354",
            "title": "Skip loading seeds for databases that are managed by Rails",
            "date_modified": "2024-10-18T04:35:17.000Z",
            "date_published": "2024-10-17T17:28:25.000Z",
            "author": {
                "name": "flavorjones",
                "url": "https://github.com/flavorjones"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Commits <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/0f43feda04d45aec064aedc312d265a529e4915d/hovercard\" href=\"https://github.com/rails/rails/commit/0f43feda04d45aec064aedc312d265a529e4915d\"><tt>0f43fed</tt></a> and <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/adec7e7ba87e3d268149d0020d54dc211eb02ada/hovercard\" href=\"https://github.com/rails/rails/commit/adec7e7ba87e3d268149d0020d54dc211eb02ada\"><tt>adec7e7</tt></a> removed setting <code class=\"notranslate\">config.assets.quiet</code> and <code class=\"notranslate\">config.assets.debug</code> to <code class=\"notranslate\">true</code> in <code class=\"notranslate\">config/environments/development.rb</code>.<br>\nThe guide has been updated to reflect that.</p>\n<p dir=\"auto\">The defaults for other <code class=\"notranslate\">config.assets</code> configs are set by either <code class=\"notranslate\">propshaft</code> or <code class=\"notranslate\">sprocket-rails</code>. So the guides should mention that.</p>\n<ul dir=\"auto\">\n<li>propshaft <a href=\"https://github.com/rails/propshaft/blob/993c67d843cd544927cce150cddc160b9c5607e3/lib/propshaft/railtie.rb\">https://github.com/rails/propshaft/blob/993c67d843cd544927cce150cddc160b9c5607e3/lib/propshaft/railtie.rb</a></li>\n<li>sprocket-rails <a href=\"https://github.com/rails/sprockets-rails/blob/2c04236faaacd021b7810289cbac93e962ff14da/lib/sprockets/railtie.rb\">https://github.com/rails/sprockets-rails/blob/2c04236faaacd021b7810289cbac93e962ff14da/lib/sprockets/railtie.rb</a></li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/53351",
            "title": "Update `config.assets` documentation in Configuring guide [ci-skip]",
            "date_modified": "2024-10-18T11:51:54.000Z",
            "date_published": "2024-10-17T12:30:57.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/131752?u=32ddf1119b1d189c9bd241a721b36ea01c29f61e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This adds a small script to format the advisories from GitHub to be more suitable to posting on our discourse mailing list rather than the manual formatting I did last time.</p>\n<p dir=\"auto\">The most notable formatting changes from what we did previously is:</p>\n<ul dir=\"auto\">\n<li>Versions affected is generated from a different format</li>\n<li>The CVE and GHSA identifier are just added at the end of the summary. This should allow us to drop the \"This vulnerability has been assigned the CVE identifier ...\" line.</li>\n<li>Patches are found through the tag of the patched versions noted in the GHSA, the commit is identified by the CVE appearing in its message, and it's linked to on GitHub rather than made by <code class=\"notranslate\">git format-patch</code> and made a discourse attachment.</li>\n</ul>\n<p dir=\"auto\">I'm almost sure this has issues/bugs 😅, but I think they'll be easy to fix/patch as they come up in the future. This is run post-release and doesn't need to be on a specific branch to work it just needs the tags to exist in the local git repo.</p>\n<p dir=\"auto\">An example from yesterday's security release: (Compare to <a href=\"https://discuss.rubyonrails.org/t/cve-2024-47889-possible-redos-vulnerability-in-block-format-in-action-mailer/87695\" rel=\"nofollow\">my hand-edited post</a>)</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"❯ ruby tools/cve_announcement.rb\nUsage: tools/cve_announcement.rb CVE-YYYY-XXXXX...\n\nrecent CVEs:\n  CVE-2024-47889 - Possible ReDoS vulnerability in block_format in Action Mailer\n  CVE-2024-47888 - Possible ReDoS vulnerability in plain_text_for_blockquote_node in Action Text\n----8&lt;----\n\n❯ ruby tools/cve_announcement.rb CVE-2024-47889\n# Possible ReDoS vulnerability in block_format in Action Mailer\n\nThere is a possible ReDoS vulnerability in the block_format helper in Action Mailer. This vulnerability has been assigned the CVE identifier CVE-2024-47889.\n\nCVE-2024-47889\nGHSA-h47h-mwp9-c6q6\n\nVersions affected\n-----------------\n* actionmailer &gt;= 3.0.0, &lt; 6.1.7.9 (patched in 6.1.7.9)\n* actionmailer &gt;= 7.0.0, &lt; 7.0.8.5 (patched in 7.0.8.5)\n* actionmailer &gt;= 7.1.0, &lt; 7.1.4.1 (patched in 7.1.4.1)\n* actionmailer &gt;= 7.2.0, &lt; 7.2.1.1 (patched in 7.2.1.1)\n\nImpact\n------\nCarefully crafted text can cause the block_format helper to take an unexpected amount of time, possibly resulting in a DoS vulnerability. All users running an affected release should either upgrade or apply the relevant patch immediately.\n\nRuby 3.2 has mitigations for this problem, so Rails applications using Ruby 3.2 or newer are unaffected. Rails 8.0.0.beta1 requires Ruby 3.2 or greater so is unaffected.\n\nReleases\n--------\nThe fixed releases are available at the normal locations.\n\nWorkarounds\n-----------\nUsers can avoid calling the `block_format` helper or upgrade to Ruby 3.2\n\nCredits\n-------\nThanks to [ooooooo_q](https://hackerone.com/ooooooo_q) for the report!\n\nPatches\n-------\n* 6.1 - https://github.com/rails/rails/commit/985f1923fa62806ff676e41de67c3b4552131ab9.patch\n* 7.0 - https://github.com/rails/rails/commit/0e5694f4d32544532d2301a9b4084eacb6986e94.patch\n* 7.1 - https://github.com/rails/rails/commit/3612e3eb3fbafed4f85e1c6ea4c7b6addbb0fdd3.patch\n* 7.2 - https://github.com/rails/rails/commit/be898cc996986decfe238341d96b2a6573b8fd2e.patch\"><pre class=\"notranslate\"><code class=\"notranslate\">❯ ruby tools/cve_announcement.rb\nUsage: tools/cve_announcement.rb CVE-YYYY-XXXXX...\n\nrecent CVEs:\n  CVE-2024-47889 - Possible ReDoS vulnerability in block_format in Action Mailer\n  CVE-2024-47888 - Possible ReDoS vulnerability in plain_text_for_blockquote_node in Action Text\n----8&lt;----\n\n❯ ruby tools/cve_announcement.rb CVE-2024-47889\n# Possible ReDoS vulnerability in block_format in Action Mailer\n\nThere is a possible ReDoS vulnerability in the block_format helper in Action Mailer. This vulnerability has been assigned the CVE identifier CVE-2024-47889.\n\nCVE-2024-47889\nGHSA-h47h-mwp9-c6q6\n\nVersions affected\n-----------------\n* actionmailer &gt;= 3.0.0, &lt; 6.1.7.9 (patched in 6.1.7.9)\n* actionmailer &gt;= 7.0.0, &lt; 7.0.8.5 (patched in 7.0.8.5)\n* actionmailer &gt;= 7.1.0, &lt; 7.1.4.1 (patched in 7.1.4.1)\n* actionmailer &gt;= 7.2.0, &lt; 7.2.1.1 (patched in 7.2.1.1)\n\nImpact\n------\nCarefully crafted text can cause the block_format helper to take an unexpected amount of time, possibly resulting in a DoS vulnerability. All users running an affected release should either upgrade or apply the relevant patch immediately.\n\nRuby 3.2 has mitigations for this problem, so Rails applications using Ruby 3.2 or newer are unaffected. Rails 8.0.0.beta1 requires Ruby 3.2 or greater so is unaffected.\n\nReleases\n--------\nThe fixed releases are available at the normal locations.\n\nWorkarounds\n-----------\nUsers can avoid calling the `block_format` helper or upgrade to Ruby 3.2\n\nCredits\n-------\nThanks to [ooooooo_q](https://hackerone.com/ooooooo_q) for the report!\n\nPatches\n-------\n* 6.1 - https://github.com/rails/rails/commit/985f1923fa62806ff676e41de67c3b4552131ab9.patch\n* 7.0 - https://github.com/rails/rails/commit/0e5694f4d32544532d2301a9b4084eacb6986e94.patch\n* 7.1 - https://github.com/rails/rails/commit/3612e3eb3fbafed4f85e1c6ea4c7b6addbb0fdd3.patch\n* 7.2 - https://github.com/rails/rails/commit/be898cc996986decfe238341d96b2a6573b8fd2e.patch\n</code></pre></div>",
            "url": "https://github.com/rails/rails/pull/53350",
            "title": "Add tools/cve_announcement.rb",
            "date_modified": "2024-10-17T20:51:13.000Z",
            "date_published": "2024-10-17T06:19:47.000Z",
            "author": {
                "name": "jhawthorn",
                "url": "https://github.com/jhawthorn"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/131752?u=32ddf1119b1d189c9bd241a721b36ea01c29f61e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This makes a few small incremental improvements to our release process:</p>\n<ul dir=\"auto\">\n<li>Adds <code class=\"notranslate\">--verify-tag</code> to <code class=\"notranslate\">gh release create</code> command so that we error if the tag wasn't pushed correctly</li>\n<li>Checks that a default repo is configured in <code class=\"notranslate\">check_gh_client</code>, which is required to create a release, before performing the bump, tagging, commit, pushing</li>\n<li>Runs <code class=\"notranslate\">build</code> and prints checksums of the built gems before starting to push gems. This should move any build errors earlier into the process, before we start pushing. Checksums should have the same output as running <code class=\"notranslate\">sha1sum pkg/*.gem</code> (other than a different order)</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/53349",
            "title": "Small improvements to releaser",
            "date_modified": "2024-10-17T06:05:58.000Z",
            "date_published": "2024-10-17T06:05:58.000Z",
            "author": {
                "name": "jhawthorn",
                "url": "https://github.com/jhawthorn"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/12185788?u=811e797d549d1fe7e32162419ea075ceaaa9eb1d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">We put a change into production that broke one of our <code class=\"notranslate\">LogSubscriber</code>, and it took us a while to realize it. We now know that an error log is issued, but to improve discoverability, it might be worth reporting an error through the ErrorReporter?</p>\n<h3 dir=\"auto\">Detail</h3>\n<h3 dir=\"auto\">Additional information</h3>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/53346",
            "title": "Report ActiveSupport::LogSubscriber errors to Rails.error",
            "date_modified": "2024-10-18T08:40:32.000Z",
            "date_published": "2024-10-16T23:14:22.000Z",
            "author": {
                "name": "beauraF",
                "url": "https://github.com/beauraF"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/3124?u=6ece6a5a8b8ea32c5fa94c325d151bc01d1e44e8&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Just doing some refactoring on the AttributeSet classes</p>",
            "url": "https://github.com/rails/rails/pull/53344",
            "title": "Refactoring on AttributeSet",
            "date_modified": "2024-10-17T19:12:42.000Z",
            "date_published": "2024-10-16T19:59:58.000Z",
            "author": {
                "name": "tenderlove",
                "url": "https://github.com/tenderlove"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/12777550?u=415303ec1c626279c440cf729435fc0ee833d1c9&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This PR updates the ENV check for the solid_queue plugin to ensure it is only activated when <code class=\"notranslate\">ENV[\"SOLID_QUEUE_IN_PUMA\"]</code> is explicitly set to <code class=\"notranslate\">true</code>.</p>\n<p dir=\"auto\">The current check activates solid_queue as long as there is any value in <code class=\"notranslate\">ENV[\"SOLID_QUEUE_IN_PUMA\"]</code>, even if the value is <code class=\"notranslate\">false</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/53340",
            "title": "[ci skip] Fix ENV check for solid_queue plugin",
            "date_modified": "2024-10-16T13:56:49.000Z",
            "date_published": "2024-10-16T13:56:40.000Z",
            "author": {
                "name": "Jay0921",
                "url": "https://github.com/Jay0921"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6528?u=415877b00c554982144cb6708028656e8c9ec8e2&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR modifies the configuration for ActiveJob's <code class=\"notranslate\">enqueue_after_transaction_commit</code> option to accept only boolean values and defaulting to <code class=\"notranslate\">true</code>.</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #52675.\">Closes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2478991974\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52675\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52675/hovercard\" href=\"https://github.com/rails/rails/issues/52675\">#52675</a></p>",
            "url": "https://github.com/rails/rails/pull/53336",
            "title": "Update ActiveJob's enqueue_after_transaction_commit config",
            "date_modified": "2024-10-16T12:25:45.000Z",
            "date_published": "2024-10-16T12:05:08.000Z",
            "author": {
                "name": "xuanxu",
                "url": "https://github.com/xuanxu"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/7427365?u=67ed8ab4a2204734e6d97e9ebbe4a963512a0fda&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>",
            "url": "https://github.com/rails/rails/pull/53335",
            "title": "Deprecate built-in snekaers adapter",
            "date_modified": "2024-10-16T11:41:35.000Z",
            "date_published": "2024-10-16T11:40:40.000Z",
            "author": {
                "name": "dixpac",
                "url": "https://github.com/dixpac"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/7427365?u=67ed8ab4a2204734e6d97e9ebbe4a963512a0fda&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>",
            "url": "https://github.com/rails/rails/pull/53334",
            "title": "Deprecate built-in ActiveJob backburner adapter",
            "date_modified": "2024-10-16T11:36:07.000Z",
            "date_published": "2024-10-16T11:33:27.000Z",
            "author": {
                "name": "dixpac",
                "url": "https://github.com/dixpac"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/9696?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">When <code class=\"notranslate\">cache_versioning</code> is enabled (which is the default), <code class=\"notranslate\">#cache_key</code> raises an error when there is no <code class=\"notranslate\">updated_at</code> attribute on the record instance.</p>\n<p dir=\"auto\">However, if the attribute is there, it returns a string without the <code class=\"notranslate\">updated_at</code> inside it.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"User.select(:id).first.cache_key\n# =&gt; ActiveModel::MissingAttributeError: missing attribute 'updated_at' for User\n\nUser.select(:id, :updated_at).first.cache_key \n# =&gt; &quot;users/006a09a1-c846-45e7-883b-8165391eb4ac&quot;\"><pre class=\"notranslate\"><span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">select</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:id</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">first</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">cache_key</span>\n<span class=\"pl-c\"># =&gt; ActiveModel::MissingAttributeError: missing attribute 'updated_at' for User</span>\n\n<span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">select</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:id</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:updated_at</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">first</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">cache_key</span> \n<span class=\"pl-c\"># =&gt; \"users/006a09a1-c846-45e7-883b-8165391eb4ac\"</span></pre></div>\n<p dir=\"auto\">The value of <code class=\"notranslate\">updated_at</code> is not needed to generate the cache key for the record and therefore it shouldn't raise an error when it is missing.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the check for cache versioning in the <code class=\"notranslate\">cache_key</code> method to check for <code class=\"notranslate\">cache_versioning</code> instead of <code class=\"notranslate\">cache_version</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/53333",
            "title": "Don't require a `updated_at` attribute for `cache_key` when cache versioning is enabled",
            "date_modified": "2024-10-16T11:23:41.000Z",
            "date_published": "2024-10-16T11:23:37.000Z",
            "author": {
                "name": "benedikt",
                "url": "https://github.com/benedikt"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/20733264?u=2e9e530c48a1400507f4b8747b49577919155d0e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">When previewing mailers if the mailer content is longer than the screen double scrollbars appear. These double scrollbars cause usability issues which can lead to hidden content and general frustration.</p>\n<markdown-accessiblity-table><table role=\"table\">\n<thead>\n<tr>\n<th>Before</th>\n<th>After</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/20733264/376890581-67e1dd9b-157e-43ad-988a-d4d496d967e6.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjkyNTMyNDksIm5iZiI6MTcyOTI1Mjk0OSwicGF0aCI6Ii8yMDczMzI2NC8zNzY4OTA1ODEtNjdlMWRkOWItMTU3ZS00M2FkLTk4OGEtZDRkNDk2ZDk2N2U2LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDEwMTglMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQxMDE4VDEyMDIyOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWM3ZDYzMzE4MDU3YTZjYmUwOTRiOGM4MWZiNzczZjk2MjkyY2YxN2IyOTVhYTJkMmJkM2VlYmZjNDg1MzA2MmQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.XjXMcjepT_MC_5eH1TwyPG-SL-Cs3ZXjR3jDBrOwi0U\"><img src=\"https://private-user-images.githubusercontent.com/20733264/376890581-67e1dd9b-157e-43ad-988a-d4d496d967e6.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjkyNTMyNDksIm5iZiI6MTcyOTI1Mjk0OSwicGF0aCI6Ii8yMDczMzI2NC8zNzY4OTA1ODEtNjdlMWRkOWItMTU3ZS00M2FkLTk4OGEtZDRkNDk2ZDk2N2U2LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDEwMTglMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQxMDE4VDEyMDIyOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWM3ZDYzMzE4MDU3YTZjYmUwOTRiOGM4MWZiNzczZjk2MjkyY2YxN2IyOTVhYTJkMmJkM2VlYmZjNDg1MzA2MmQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.XjXMcjepT_MC_5eH1TwyPG-SL-Cs3ZXjR3jDBrOwi0U\" alt=\"image\" style=\"max-width: 100%;\"></a></td>\n<td><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/20733264/376893089-559f4653-c0e3-4fe9-8315-728fb21aa4b3.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjkyNTMyNDksIm5iZiI6MTcyOTI1Mjk0OSwicGF0aCI6Ii8yMDczMzI2NC8zNzY4OTMwODktNTU5ZjQ2NTMtYzBlMy00ZmU5LTgzMTUtNzI4ZmIyMWFhNGIzLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDEwMTglMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQxMDE4VDEyMDIyOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWI0MjY2MzlhZTFmNjdiNTgzMjE3NzdmNDZmNzQzZDhhMTYzMjY0MWJhN2E5MzI4ZjI1OTVlZWY5YTQwODE1YTQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.h9dwYnl_ICFlXkUGP2hm3y-t34ZJvhTVIxxV2zI6rYI\"><img src=\"https://private-user-images.githubusercontent.com/20733264/376893089-559f4653-c0e3-4fe9-8315-728fb21aa4b3.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjkyNTMyNDksIm5iZiI6MTcyOTI1Mjk0OSwicGF0aCI6Ii8yMDczMzI2NC8zNzY4OTMwODktNTU5ZjQ2NTMtYzBlMy00ZmU5LTgzMTUtNzI4ZmIyMWFhNGIzLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDEwMTglMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQxMDE4VDEyMDIyOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWI0MjY2MzlhZTFmNjdiNTgzMjE3NzdmNDZmNzQzZDhhMTYzMjY0MWJhN2E5MzI4ZjI1OTVlZWY5YTQwODE1YTQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.h9dwYnl_ICFlXkUGP2hm3y-t34ZJvhTVIxxV2zI6rYI\" alt=\"image\" style=\"max-width: 100%;\"></a></td>\n</tr>\n</tbody>\n</table></markdown-accessiblity-table>\n\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the CSS on the mailer screen such that a flex layout with <code class=\"notranslate\">flex-direction: column</code> is used. This neatly stacks the header on top of the iframe content and prevents the double scrollbars.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">It's worth noting that this change also makes the header fixed to the top of the screen with the iframe scrolling below. This is expected behaviour with the new CSS and I think is a useful feature.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/53328",
            "title": "Prevent double scrollbar issue on mailer previews",
            "date_modified": "2024-10-16T04:54:10.000Z",
            "date_published": "2024-10-16T04:50:51.000Z",
            "author": {
                "name": "bloycey",
                "url": "https://github.com/bloycey"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1518299?u=d3dda61ebb16317ded64f166b59e35e1e160b9b1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Kamal requires Docker to run. The <a href=\"https://github.com/devcontainers/features/tree/main/src/docker-in-docker\">docker-in-docker</a> devcontainer feature allows running Docker inside the container.</p>\n<h3 dir=\"auto\">VS Code Docker Credential Issue</h3>\n<p dir=\"auto\">There is an issue that prevents Docker from running as a non-root user in a VS Code devcontainer. VS Code tries to forward Docker credentials inside the container, but this prevents using Docker as a non-root user.</p>\n<p dir=\"auto\">To resolve this, you need to disable the <code class=\"notranslate\">Docker Credential Helper</code> in the VS Code devcontainer extension settings:<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/1518299/376881450-4dc2ec1b-5e45-4393-9d93-7396b7e8077e.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjkyNTMyNDksIm5iZiI6MTcyOTI1Mjk0OSwicGF0aCI6Ii8xNTE4Mjk5LzM3Njg4MTQ1MC00ZGMyZWMxYi01ZTQ1LTQzOTMtOWQ5My03Mzk2YjdlODA3N2UucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTAxOCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDEwMThUMTIwMjI5WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MjIwZGEzODU1YjBhM2Q2N2FlYmJkYTA2M2M4N2RkYzIyM2ZmMTVkMjBiODA5YzgxNDE5Mjc4ZDg4Y2NjYWQ3YiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.Nqz86SFFpDhssFXg-4yo1ThJfpplzxZlMAW-Pzqu3Dk\"><img src=\"https://private-user-images.githubusercontent.com/1518299/376881450-4dc2ec1b-5e45-4393-9d93-7396b7e8077e.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjkyNTMyNDksIm5iZiI6MTcyOTI1Mjk0OSwicGF0aCI6Ii8xNTE4Mjk5LzM3Njg4MTQ1MC00ZGMyZWMxYi01ZTQ1LTQzOTMtOWQ5My03Mzk2YjdlODA3N2UucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTAxOCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDEwMThUMTIwMjI5WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MjIwZGEzODU1YjBhM2Q2N2FlYmJkYTA2M2M4N2RkYzIyM2ZmMTVkMjBiODA5YzgxNDE5Mjc4ZDg4Y2NjYWQ3YiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.Nqz86SFFpDhssFXg-4yo1ThJfpplzxZlMAW-Pzqu3Dk\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">Related issues:<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1519421738\" data-permission-text=\"Title is private\" data-url=\"https://github.com/devcontainers/features/issues/376\" data-hovercard-type=\"issue\" data-hovercard-url=\"/devcontainers/features/issues/376/hovercard\" href=\"https://github.com/devcontainers/features/issues/376\">devcontainers/features#376</a><br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1583772284\" data-permission-text=\"Title is private\" data-url=\"https://github.com/devcontainers/features/issues/453\" data-hovercard-type=\"issue\" data-hovercard-url=\"/devcontainers/features/issues/453/hovercard\" href=\"https://github.com/devcontainers/features/issues/453\">devcontainers/features#453</a><br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1572646356\" data-permission-text=\"Title is private\" data-url=\"https://github.com/microsoft/vscode-remote-release/issues/7982\" data-hovercard-type=\"issue\" data-hovercard-url=\"/microsoft/vscode-remote-release/issues/7982/hovercard\" href=\"https://github.com/microsoft/vscode-remote-release/issues/7982\">microsoft/vscode-remote-release#7982</a></p>\n<p dir=\"auto\">I can include this in the Rails guide under the devcontainer section.</p>\n<h3 dir=\"auto\"><code class=\"notranslate\">docker-in-docker</code> vs <code class=\"notranslate\">docker-outside-docker</code></h3>\n<p dir=\"auto\">Alternatively, we could use the <a href=\"https://github.com/devcontainers/features/tree/main/src/docker-outside-of-docker\">docker-outside-docker feature</a> instead of <a href=\"https://github.com/devcontainers/features/tree/main/src/docker-in-docker\">docker-in-docker</a> (docker docker docker...). This would expose the host Docker socket to the container, offering better performance but at the cost of security.</p>\n<p dir=\"auto\">It might make sense to prioritize performance here. However, since this feature will likely be used by beginners who may not have much experience with Docker, it seems reasonable to prioritize security.</p>\n<p dir=\"auto\">I don’t have a strong opinion. I can switch to the <code class=\"notranslate\">docker-outside-docker</code> feature if preferred.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR, make sure the following items are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message includes a detailed description of what changed and why. If this PR fixes a related issue, include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/53327",
            "title": "Add support for using Kamal inside of the generated devcontainer",
            "date_modified": "2024-10-16T04:21:28.000Z",
            "date_published": "2024-10-16T04:03:03.000Z",
            "author": {
                "name": "JoeDupuis",
                "url": "https://github.com/JoeDupuis"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/236461?u=cd87f40664f26021ba65daabaf812a036c1f4c8e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Follow-up to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2273741190\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51704\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51704/hovercard\" href=\"https://github.com/rails/rails/pull/51704\">#51704</a>.</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because some parts of <code class=\"notranslate\">FormHelper</code>'s API docs could be seen as implicitly recommending the use of <code class=\"notranslate\">form_for</code>, but it is <a href=\"https://guides.rubyonrails.org/form_helpers.html#using-form-tag-and-form-for\" rel=\"nofollow\">soft deprecated</a>, so the API docs should ideally avoid mentioning it.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Stop recommending <code class=\"notranslate\">form_for</code> in the API docs, since <code class=\"notranslate\">form_with</code> can be used instead.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/53324",
            "title": "Avoid recommending `form_for` in API docs",
            "date_modified": "2024-10-17T03:34:45.000Z",
            "date_published": "2024-10-16T00:00:36.000Z",
            "author": {
                "name": "jeromedalbert",
                "url": "https://github.com/jeromedalbert"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/236461?u=cd87f40664f26021ba65daabaf812a036c1f4c8e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Follow-up to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2273741190\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51704\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51704/hovercard\" href=\"https://github.com/rails/rails/pull/51704\">#51704</a>.</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because <code class=\"notranslate\">form_for</code> and <code class=\"notranslate\">form_tag</code> are <a href=\"https://guides.rubyonrails.org/form_helpers.html#using-form-tag-and-form-for\" rel=\"nofollow\">soft deprecated</a> in the guides, but they are not marked as soft deprecated in the API docs, which is inconsistent.</p>\n<p dir=\"auto\">There are precedents for explicitly documenting soft deprecation in API docs:</p>\n<p dir=\"auto\"></p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/8c7e55338df54d52d50fb4dd9e355bc8526c7611/activerecord/lib/active_record/connection_handling.rb#L273-L274\">rails/activerecord/lib/active_record/connection_handling.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 273 to 274\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/8c7e55338df54d52d50fb4dd9e355bc8526c7611\">8c7e553</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L273\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"273\"></td>\n          <td id=\"LC273\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c\"># Soft deprecated. Use +#with_connection+ or +#lease_connection+ instead.</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L274\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"274\"></td>\n          <td id=\"LC274\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">connection</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">and</p>\n<p dir=\"auto\"></p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/8c7e55338df54d52d50fb4dd9e355bc8526c7611/actionpack/lib/action_controller/metal/redirecting.rb#L118-L121\">rails/actionpack/lib/action_controller/metal/redirecting.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 118 to 121\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/8c7e55338df54d52d50fb4dd9e355bc8526c7611\">8c7e553</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L118\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"118\"></td>\n          <td id=\"LC118\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c\"># Soft deprecated alias for #redirect_back_or_to where the `fallback_location`</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L119\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"119\"></td>\n          <td id=\"LC119\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c\"># location is supplied as a keyword argument instead of the first positional</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L120\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"120\"></td>\n          <td id=\"LC120\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c\"># argument.</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L121\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"121\"></td>\n          <td id=\"LC121\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">redirect_back</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">fallback_location</span>:<span class=\"pl-kos\">,</span> <span class=\"pl-s1\">allow_other_host</span>: <span class=\"pl-en\">_allow_other_host</span><span class=\"pl-kos\">,</span> **<span class=\"pl-s1\">args</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<br>\n<p dir=\"auto\">Also, while PR <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2273741190\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51704\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51704/hovercard\" href=\"https://github.com/rails/rails/pull/51704\">#51704</a> was a good start and highlighted using <code class=\"notranslate\">form_with</code> over <code class=\"notranslate\">form_for</code>, it did not explicitly document <code class=\"notranslate\">form_for</code> as soft deprecated, and it did not address <code class=\"notranslate\">form_tag</code>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request documents both <code class=\"notranslate\">form_for</code> and <code class=\"notranslate\">form_tag</code>'s soft deprecation in the API docs in a similar fashion as other soft deprecations.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/53323",
            "title": "Document `form_for` and `form_tag` soft deprecation in API docs",
            "date_modified": "2024-10-15T23:40:12.000Z",
            "date_published": "2024-10-15T23:29:55.000Z",
            "author": {
                "name": "jeromedalbert",
                "url": "https://github.com/jeromedalbert"
            }
        }
    ]
}