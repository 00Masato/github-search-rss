{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">See <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2053506521\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50427\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50427/hovercard\" href=\"https://github.com/rails/rails/pull/50427\">#50427</a> for context.</p>",
            "url": "https://github.com/rails/rails/pull/50429",
            "title": "[ActionMailbox] Replace test/dummy with railtie-like test harness",
            "date_modified": "2023-12-22T07:30:56.000Z",
            "date_published": "2023-12-22T07:30:52.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">See <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2053506521\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50427\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50427/hovercard\" href=\"https://github.com/rails/rails/pull/50427\">#50427</a> for context.</p>",
            "url": "https://github.com/rails/rails/pull/50428",
            "title": "[ActionText] Replace test/dummy with railtie-like test harness",
            "date_modified": "2023-12-22T07:30:34.000Z",
            "date_published": "2023-12-22T07:30:30.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR is a proof-of-concept for removing the dummy applications from [Active Storage, Action Mailbox, and Action Text]. I've split them up into separate PRs so that they are easier to review and rebase when necessary.</p>\n<h2 dir=\"auto\">Callouts</h2>\n<ul dir=\"auto\">\n<li>This code is intended for feedback, on the approach and determine what follow-up work could be done</li>\n<li>There is still need for polish, like removing unnecessary boiler-plate, fixing CI, making sure we don't leak logs, etc.</li>\n<li>This doesn't replace the need for a true integration test where the application is generated at test time</li>\n</ul>\n<h2 dir=\"auto\">Motivation</h2>\n<p dir=\"auto\">The dummy apps were last updated in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1571763815\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47259\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/47259/hovercard\" href=\"https://github.com/rails/rails/pull/47259\">#47259</a> and previously in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"900075864\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/42286\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/42286/hovercard\" href=\"https://github.com/rails/rails/pull/42286\">#42286</a>.</p>\n<p dir=\"auto\">There is an interest from inside the core team to get rid of them.</p>\n<blockquote>\n<p dir=\"auto\">In my option, It doesn't make sense to upgrade dummy apps inside the framework every time we change the framework itself. Probably those dummy apps get outdated daily, and it is very likely we will change Rails in a way that would break those frameworks but the test will not catch because the dummy app is outdated.</p>\n<p dir=\"auto\">If you want to work in that direction, it would be great.</p>\n</blockquote>",
            "url": "https://github.com/rails/rails/pull/50427",
            "title": "[ActiveStorage] Replace test/dummy with railtie-like test harness",
            "date_modified": "2023-12-22T12:16:52.000Z",
            "date_published": "2023-12-22T07:29:48.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Allow <code class=\"notranslate\">explain</code> to take an operation and column name as argument:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"User.all.explain(:count)\n# =&gt; &quot;EXPLAIN SELECT COUNT(*) FROM `users`&quot;\n\nUser.all.explain(:maximum, :id)\n# =&gt; &quot;EXPLAIN SELECT MAX(`users`.`id`) FROM `users`&quot;\"><pre class=\"notranslate\"><span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">explain</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:count</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># =&gt; \"EXPLAIN SELECT COUNT(*) FROM `users`\"</span>\n\n<span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">explain</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:maximum</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:id</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># =&gt; \"EXPLAIN SELECT MAX(`users`.`id`) FROM `users`\"</span></pre></div>\n<p dir=\"auto\">This breaks passing options like <code class=\"notranslate\">:analyze</code> and <code class=\"notranslate\">:buffers</code> as arguments.<br>\nThese can be passed as named argument instead:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"User.all.explain(options: [:analyze, :buffers])\n# =&gt; &quot;EXPLAIN ANALYZE BUFFERS SELECT ...\"><pre class=\"notranslate\"><span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">explain</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">options</span>: <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:analyze</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:buffers</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># =&gt; \"EXPLAIN ANALYZE BUFFERS SELECT ...</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50424",
            "title": "Add `explain` support for calculation methods like `count`",
            "date_modified": "2023-12-21T21:17:40.000Z",
            "date_published": "2023-12-21T19:56:56.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">We can link to the recently added queries as edge guides <a href=\"https://edgeguides.rubyonrails.org/ruby_on_rails_guides_guidelines.html#linking-to-the-api\" rel=\"nofollow\">link </a>to edge API docs.<br>\nFor readability the links are extracted.</p>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/fatkodima/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/fatkodima\">@fatkodima</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/siaw23/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/siaw23\">@siaw23</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50423",
            "title": "Link to query assertions in testing guide [ci-skip]",
            "date_modified": "2023-12-22T09:36:05.000Z",
            "date_published": "2023-12-21T17:03:39.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/204146?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">When View tests were added to rails, the directory containing them was not added to the list of directories that are analyzed by the <code class=\"notranslate\">stats</code> task. This adds them to the list.</p>\n<p dir=\"auto\">There are no tests covering the set of directories analyzed or such, so no additional tests are added in this.</p>",
            "url": "https://github.com/rails/rails/pull/50422",
            "title": "Include view tests in rake stats",
            "date_modified": "2023-12-22T01:03:43.000Z",
            "date_published": "2023-12-21T16:47:06.000Z",
            "author": {
                "name": "nhorton",
                "url": "https://github.com/nhorton"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/13457494?u=fb7971eda2d2680c27e7d2e5a4db7b430745f04d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">While debugging the memory issue in our app, we noticed that a large amount of strings were generated and then thrown away when uploading the file. It was done while generating the checksum for the blob.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Optimize memory utilization by using a buffer while reading in chunks.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">Benchmark on a new rails project, while uploading 500 mb file on disk storage.</p>\n<p dir=\"auto\">Before:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Total allocated: 527552462 bytes (24333 objects)\nTotal retained:  460335 bytes (3386 objects)\"><pre class=\"notranslate\"><code class=\"notranslate\">Total allocated: 527552462 bytes (24333 objects)\nTotal retained:  460335 bytes (3386 objects)\n</code></pre></div>\n<p dir=\"auto\">After:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Total allocated: 8503524 bytes (24239 objects)\nTotal retained:  460367 bytes (3386 objects)\"><pre class=\"notranslate\"><code class=\"notranslate\">Total allocated: 8503524 bytes (24239 objects)\nTotal retained:  460367 bytes (3386 objects)\n</code></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50418",
            "title": "Use buffered read while generating Blob checksum to improve memory",
            "date_modified": "2023-12-22T03:14:08.000Z",
            "date_published": "2023-12-21T14:54:58.000Z",
            "author": {
                "name": "the-spectator",
                "url": "https://github.com/the-spectator"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">As the calculation methods directly return a result, it's not possible to call <code class=\"notranslate\">to_sql</code> on the query.</p>\n<p dir=\"auto\">By allowing <code class=\"notranslate\">to_sql</code> to take an operation and column name as argument we can return the SQL:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"User.all.to_sql(:count)\n# =&gt; &quot;SELECT COUNT(*) FROM `users`&quot;\n\nUser.all.to_sql(:maximum, :id)\n# =&gt; &quot;SELECT MAX(`users`.`id`) FROM `users`&quot;\"><pre class=\"notranslate\"><span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_sql</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:count</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># =&gt; \"SELECT COUNT(*) FROM `users`\"</span>\n\n<span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_sql</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:maximum</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:id</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># =&gt; \"SELECT MAX(`users`.`id`) FROM `users`\"</span></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Combining <code class=\"notranslate\">count</code> with a <code class=\"notranslate\">group</code> is not yet supported.<br>\nI'd like to add the same functionality to <code class=\"notranslate\">explain</code>.<br>\nRelated issue adding <code class=\"notranslate\">:delete_all</code>: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"537998843\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/37975\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/37975/hovercard\" href=\"https://github.com/rails/rails/pull/37975\">#37975</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50417",
            "title": "Add `to_sql` support for calculation methods like `count`",
            "date_modified": "2023-12-21T20:20:36.000Z",
            "date_published": "2023-12-21T10:53:01.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Introduce the <code class=\"notranslate\">ActionText::RichTextEditorTest</code> to exercise Action Text's integration with Active Storage. First, assert that Action Text renders an Active Storage blob preview of the image within the <code class=\"notranslate\">&lt;trix-editor&gt;</code> element prior to persisting the rich-text record. Next, assert that Active Storage renders the uploaded file within the rendered rich-text content.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">In addition to expanding System Test coverage, this commit also alters the existing <code class=\"notranslate\">ActionText::SystemTestHelperTest</code> coverage to utilize Capybara's built-in <a href=\"https://rubydoc.info/github/teamcapybara/capybara/master/Capybara/Selector\" rel=\"nofollow\">:element</a> selector as an alternative to CSS. The <code class=\"notranslate\">:element</code> selector supports arbitrary keyword arguments as HTML attribute filters. For example, <code class=\"notranslate\">input: true</code> as a filter translates to asserting the presence of any <code class=\"notranslate\">[input]</code> attribute. Similarly, it enables assertions with Ruby strings instead of interpolating Ruby strings <strong>into</strong> CSS selectors.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1931267992\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49527\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49527/hovercard\" href=\"https://github.com/rails/rails/pull/49527\">#49527</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1509704604\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46807\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/46807/hovercard\" href=\"https://github.com/rails/rails/pull/46807\">#46807</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50414",
            "title": "Improve Action Text System Test coverage",
            "date_modified": "2023-12-21T01:41:58.000Z",
            "date_published": "2023-12-21T01:41:54.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50411.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2051382563\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50411\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50411/hovercard\" href=\"https://github.com/rails/rails/issues/50411\">#50411</a>.</p>\n<p dir=\"auto\">Array values are ignored in line 281 in <code class=\"notranslate\">StatementCache.unsupported_value?(value)</code> so we can safely just skip array primary keys.</p>",
            "url": "https://github.com/rails/rails/pull/50412",
            "title": "Fix `find_by` for finding by associations with composite primary keys",
            "date_modified": "2023-12-21T21:46:25.000Z",
            "date_published": "2023-12-21T00:17:06.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Previously, because the 7.2 header was missing from configuring.md, railspect was not checking that newly introduced 7.2 framework defaults are listed.</p>\n<p dir=\"auto\">This commit adds the header to ensure they get checked, and then also fixes an issue that occurs if a versioned section has no defaults listed.</p>",
            "url": "https://github.com/rails/rails/pull/50408",
            "title": "Fix ensuring 7.2 defaults listed in configuring",
            "date_modified": "2023-12-21T22:20:20.000Z",
            "date_published": "2023-12-20T19:04:06.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Previously, this value was listed as a regular configuration that could be applied by uncommenting a line in new_framework_defaults. However, the autoloader is configured before initializers run so configuring this value here will have no effect.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit fixes the issue by suggesting to add the configuration to config/application.rb instead of new_framework_defaults.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50407",
            "title": "Fix NFD for add_autoload_paths_to_load_path",
            "date_modified": "2023-12-21T22:40:15.000Z",
            "date_published": "2023-12-20T18:44:00.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5122678?u=204301f9f9fe8930fd26fe3bfe65b6ffaffd8b59&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Follow-up to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"325444637\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/32956\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/32956/hovercard\" href=\"https://github.com/rails/rails/pull/32956\">#32956</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"427064394\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/35789\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/35789/hovercard\" href=\"https://github.com/rails/rails/pull/35789\">#35789</a></p>\n<p dir=\"auto\">The introduction of this configuration in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"325444637\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/32956\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/32956/hovercard\" href=\"https://github.com/rails/rails/pull/32956\">#32956</a> stated that:</p>\n<blockquote>\n<p dir=\"auto\">The goal of this PR is to make it easier for an app to transition from<br>\na #{attribute} #{message} to a #{message}, full_message error format.</p>\n</blockquote>\n<p dir=\"auto\">However, because the default value was set to <code class=\"notranslate\">false</code>, this feature was difficult to discover.</p>\n<p dir=\"auto\">Moving forward, consumers will be able to <a href=\"https://guides.rubyonrails.org/configuring.html#config-active-model-i18n-customize-full-message\" rel=\"nofollow\">override the format of an individual attribute</a> by default.</p>\n<div class=\"highlight highlight-source-yaml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"en:\n  activemodel: # or activerecord:\n    errors:\n      models:\n        person:\n          # Override the format for all Person attributes:\n          format: &quot;Invalid %{attribute} (%{message})&quot;\n          attributes:\n            age:\n              # Override the format for the age attribute:\n              format: &quot;%{message}&quot;\n              blank: &quot;Please fill in your %{attribute}&quot;\"><pre class=\"notranslate\"><span class=\"pl-ent\">en</span>:\n  <span class=\"pl-ent\">activemodel</span>: <span class=\"pl-c\"><span class=\"pl-c\">#</span> or activerecord:</span>\n    <span class=\"pl-ent\">errors</span>:\n      <span class=\"pl-ent\">models</span>:\n        <span class=\"pl-ent\">person</span>:\n          <span class=\"pl-c\"><span class=\"pl-c\">#</span> Override the format for all Person attributes:</span>\n          <span class=\"pl-ent\">format</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Invalid %{attribute} (%{message})<span class=\"pl-pds\">\"</span></span>\n          <span class=\"pl-ent\">attributes</span>:\n            <span class=\"pl-ent\">age</span>:\n              <span class=\"pl-c\"><span class=\"pl-c\">#</span> Override the format for the age attribute:</span>\n              <span class=\"pl-ent\">format</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>%{message}<span class=\"pl-pds\">\"</span></span>\n              <span class=\"pl-ent\">blank</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Please fill in your %{attribute}<span class=\"pl-pds\">\"</span></span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\"><code class=\"notranslate\">config.active_model.i18n_customize_full_message</code> defaults to <code class=\"notranslate\">true</code> for <code class=\"notranslate\">config.load_defaults 7.2</code> and above</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50406",
            "title": "Change `active_model.i18n_customize_full_message` default from `false` to `true`",
            "date_modified": "2023-12-20T13:21:12.000Z",
            "date_published": "2023-12-20T13:18:26.000Z",
            "author": {
                "name": "stevepolitodesign",
                "url": "https://github.com/stevepolitodesign"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Previously, it was very easy to accidentally leak a database password in production logs if an error ends up calling inspect on a ConnectionPool or an individual connection (Adapter). This is due to the default <code class=\"notranslate\">#inspect</code> output for Pools and Adapters being unnecessarily large, and both currently including passwords (through the DatabaseConfig of a Pool, and the internal configuration of an Adapter).</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit addresses these issues by defining a custom <code class=\"notranslate\">#inspect</code> for ConnectionPool, AbstractAdapter, and DatabaseConfig. The condensed <code class=\"notranslate\">#inspect</code> only includes a few valuable fields instead of all of the internals, which prevents both the large output and passwords from being included.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50405",
            "title": "Add condensed #inspect for Pool, Adapter, Config",
            "date_modified": "2023-12-20T04:25:17.000Z",
            "date_published": "2023-12-20T04:21:25.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22918438?u=bb0e029cc4992c777cb2926b3647ab8ac20b0bf5&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Take two of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2015306971\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50205\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50205/hovercard\" href=\"https://github.com/rails/rails/pull/50205\">#50205</a>, reverted <a href=\"https://github.com/rails/rails/pull/50231\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50231/hovercard\">here</a>.</p>\n<p dir=\"auto\">As discussed in the revert PR, forward-dated migrations are the main reason hand-edited migrations can be problematic.<br>\nRather than validating that a timestamp is a \"real\" timestamp in the form we expect, as proposed in the first PR, we reject any migrations with timestamp prefixes greater than \"one day from the current timestamp\". The <code class=\"notranslate\">1.day</code> allows us to forward date migrations within a narrow range, when e.g. copying engine migrations, while preventing prefixes that would actually pose problems for future migration generation.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Adds an <code class=\"notranslate\">active_record.config.validate_migration_timestamps</code> config option. When set, an <code class=\"notranslate\">ActiveRecord::InvalidMigrationTimestampError</code> will be raised if the timestamp prefix for a migration is more than a day ahead of the timestamp associated with the current time. This is done to prevent forward-dating of migration files, which can impact migration generation and other migration commands.</p>\n<p dir=\"auto\">It is turned off by default, but will be turned on for applications starting in Rails 7.2.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">There was some discussion in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2021284789\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50231\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50231/hovercard\" href=\"https://github.com/rails/rails/pull/50231\">#50231</a> about string vs numeric based maxes. We are inconsistent with which one we use: <code class=\"notranslate\">#next_migration_version</code> uses a string-based max:<br>\n</p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/b0048c787ae44700ab4194251342dfe6f9fb0059/activerecord/lib/active_record/migration.rb#L1118-L1120\">rails/activerecord/lib/active_record/migration.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 1118 to 1120\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/b0048c787ae44700ab4194251342dfe6f9fb0059\">b0048c7</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L1118\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1118\"></td>\n          <td id=\"LC1118\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">next_migration_number</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">number</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1119\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1119\"></td>\n          <td id=\"LC1119\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">if</span> <span class=\"pl-v\">ActiveRecord</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">timestamped_migrations</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1120\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1120\"></td>\n          <td id=\"LC1120\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-kos\">[</span><span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">now</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">utc</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">strftime</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"%Y%m%d%H%M%S\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"%.14d\"</span> % <span class=\"pl-s1\">number</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">max</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">But <code class=\"notranslate\">#current_version</code> uses a numeric one:<br>\n</p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/b0048c787ae44700ab4194251342dfe6f9fb0059/activerecord/lib/active_record/migration.rb#L1302-L1305\">rails/activerecord/lib/active_record/migration.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 1302 to 1305\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/b0048c787ae44700ab4194251342dfe6f9fb0059\">b0048c7</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L1302\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1302\"></td>\n          <td id=\"LC1302\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">current_version</span> <span class=\"pl-c\"># :nodoc:</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1303\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1303\"></td>\n          <td id=\"LC1303\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">get_all_versions</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">max</span> || <span class=\"pl-c1\">0</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1304\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1304\"></td>\n          <td id=\"LC1304\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">rescue</span> <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">NoDatabaseError</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1305\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1305\"></td>\n          <td id=\"LC1305\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">For the purposes of this PR, I believe we should compare using numeric-based maxes: this ensures that migration prefixes that are too long (ie. more than 14 digits) will be flagged as invalid. There was a <a href=\"https://github.com/rails/rails/pull/43604\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/43604/hovercard\">previous PR</a> that changed <code class=\"notranslate\">#next_migration_version</code> to use an integer-based maxed, but it was reverted because it broke existing migrations with timestamps that were too long (one of the cases we're trying to prevent with this PR). We may want to consider bringing in those changes so that we consistently assume \"current migration\" to mean \"migration with numeric-based max version\".</p>\n<p dir=\"auto\">It's also worth noting that it's hard for existing applications to opt-into this if they already have problematic migrations (as we do at Shopify). Should we enforce that applications roll these migrations up, or modify the filenames?</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/eileencodes/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/eileencodes\">@eileencodes</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewd/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewd\">@matthewd</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/fxn/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/fxn\">@fxn</a></p>",
            "url": "https://github.com/rails/rails/pull/50400",
            "title": "Add `active_record.config.validate_migration_timestamps` config option.",
            "date_modified": "2023-12-19T20:06:30.000Z",
            "date_published": "2023-12-19T19:50:45.000Z",
            "author": {
                "name": "adrianna-chang-shopify",
                "url": "https://github.com/adrianna-chang-shopify"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/19192189?u=dd60737844a9db7f1475bab21fc3e5258a405e15&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">In <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2048368294\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50395\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50395/hovercard\" href=\"https://github.com/rails/rails/pull/50395\">#50395</a> I noticed lots of methods are delegated from <code class=\"notranslate\">Relation</code> to the model. The intent of this code is to allow using use defined class methods like scopes.</p>\n<p dir=\"auto\">But because of this autmated delegation it allowed calling any <code class=\"notranslate\">ActiveRecord::Base</code> class method on a <code class=\"notranslate\">Relation</code>, which in itself may be desireable, however we very wastefully define the delegator on the first call, and worse we wrap it with a current scope setter.</p>\n<p dir=\"auto\">So I think we should be more strict about it.</p>\n<p dir=\"auto\">NB: this of course breaks a tons of test, so I need to find more time to finish this, and it likely need a config flag and a deprecation notice of some sort. Or alternatively we can just accept this API, but delegate all the <code class=\"notranslate\">AR::Base</code> class methods eagerly and without the scoping overhead. TBD.</p>",
            "url": "https://github.com/rails/rails/pull/50396",
            "title": "Make the Relation -> Model delegation stricter",
            "date_modified": "2023-12-22T12:32:05.000Z",
            "date_published": "2023-12-19T10:50:01.000Z",
            "author": {
                "name": "casperisfine",
                "url": "https://github.com/casperisfine"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/39980734?u=d74e4445138b4753c03c1b9f5f086d3f9eafec13&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created to fix a bug <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2047203880\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50391\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50391/hovercard\" href=\"https://github.com/rails/rails/issues/50391\">#50391</a></p>\n<p dir=\"auto\">Whille executing command, in case when database already dosen't exist.</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bin/rails db:drop\nDropped database 'storage/development.sqlite3'\nDatabase 'storage/test.sqlite3' does not exist\"><pre class=\"notranslate\">bin/rails db:drop\nDropped database <span class=\"pl-s\"><span class=\"pl-pds\">'</span>storage/development.sqlite3<span class=\"pl-pds\">'</span></span>\nDatabase <span class=\"pl-s\"><span class=\"pl-pds\">'</span>storage/test.sqlite3<span class=\"pl-pds\">'</span></span> does not exist</pre></div>\n<p dir=\"auto\">It is observed that for the non-existing database <code class=\"notranslate\">storage/development.sqlite3</code> on the disk, the command output displays <code class=\"notranslate\">Dropped database 'storage/development.sqlite3'</code>. Instead, it should state <code class=\"notranslate\">Database 'storage/development.sqlite3' does not exist</code>.</p>\n<hr>\n<p dir=\"auto\">In the ActiveRecord SQLite3 adapter code at</p>\n<p dir=\"auto\"></p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/462e8e8b1c74d46a78e7077c5b07bfbc6fab08b0/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb#L31-L39\">rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 31 to 39\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/462e8e8b1c74d46a78e7077c5b07bfbc6fab08b0\">462e8e8</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L31\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"31\"></td>\n          <td id=\"LC31\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">new_client</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">config</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L32\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"32\"></td>\n          <td id=\"LC32\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   ::<span class=\"pl-v\">SQLite3</span>::<span class=\"pl-v\">Database</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">config</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:database</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_s</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">config</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L33\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"33\"></td>\n          <td id=\"LC33\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">rescue</span> <span class=\"pl-v\">Errno</span>::<span class=\"pl-c1\">ENOENT</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-en\">error</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L34\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"34\"></td>\n          <td id=\"LC34\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">if</span> <span class=\"pl-en\">error</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">message</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">include?</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"No such file or directory\"</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L35\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"35\"></td>\n          <td id=\"LC35\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-en\">raise</span> <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">NoDatabaseError</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L36\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"36\"></td>\n          <td id=\"LC36\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">else</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L37\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"37\"></td>\n          <td id=\"LC37\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-en\">raise</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L38\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"38\"></td>\n          <td id=\"LC38\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">end</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L39\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"39\"></td>\n          <td id=\"LC39\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">It appears that every time a new connection to SQLite3 is established, an attempt is made to create a database due to the default configuration settings.</p>\n<p dir=\"auto\">This behavior is defined in the SQLite3 Ruby gem code, specifically at</p>\n<p dir=\"auto\"><a href=\"https://github.com/sparklemotion/sqlite3-ruby/blob/302e9c0328bff2bb04e1d4a54614140ca06f3648/lib/sqlite3/database.rb#L91-L101\">https://github.com/sparklemotion/sqlite3-ruby/blob/302e9c0328bff2bb04e1d4a54614140ca06f3648/lib/sqlite3/database.rb#L91-L101</a></p>\n<p dir=\"auto\">You can also refer to the relevant documentation <a href=\"https://rubydoc.info/gems/sqlite3/SQLite3%2FDatabase:initialize\" rel=\"nofollow\">here</a>, which outlines supported permission options.</p>\n<p dir=\"auto\">Each time a new connection to the database is established (used for dropping the database or executing other commands), the connection first attempts to create a database and then proceeds to drop it.</p>\n<p dir=\"auto\">An issue arises when an exception is raised in the code snippet below, as it doesn't work as intended. The SQLite3 database is created with the default mode of <code class=\"notranslate\">READWRITE | CREATE</code>. Consequently, a new database is created every time, even if it already exists.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"rescue Errno::ENOENT =&gt; error \n   if error.message.include?(&quot;No such file or directory&quot;) \n     raise ActiveRecord::NoDatabaseError \n   else \n     raise \n   end \n end \"><pre class=\"notranslate\"><span class=\"pl-en\">rescue</span> <span class=\"pl-v\">Errno</span>::<span class=\"pl-c1\">ENOENT</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-en\">error</span> \n   <span class=\"pl-k\">if</span> <span class=\"pl-en\">error</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">message</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">include?</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"No such file or directory\"</span><span class=\"pl-kos\">)</span> \n     <span class=\"pl-en\">raise</span> <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">NoDatabaseError</span> \n   <span class=\"pl-k\">else</span> \n     <span class=\"pl-en\">raise</span> \n   <span class=\"pl-k\">end</span> \n <span class=\"pl-en\">end</span> </pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">In this PR, I have made a modification to the default mode of SQLite3 from <code class=\"notranslate\">READWRITE|CREATE</code> to just <code class=\"notranslate\">READWRITE</code>. Consequently, if the database does not exist, it will now raise an exception <code class=\"notranslate\">SQLite3::CantOpenException</code>.</p>\n<p dir=\"auto\">This adjustment aligns with a similar approach used for MySQL and Postgres. Specifically, when establishing a connection, the database is not created automatically; instead, it is handled separately to ensure consistent behavior across different database systems.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<ol dir=\"auto\">\n<li>Default Mode in Sqlite3: <a href=\"https://rubydoc.info/gems/sqlite3/SQLite3%2FDatabase:initialize\" rel=\"nofollow\">https://rubydoc.info/gems/sqlite3/SQLite3%2FDatabase:initialize</a></li>\n<li>Why Sqlite3 have not made it READWRITE as default mode?: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"116643574\" data-permission-text=\"Title is private\" data-url=\"https://github.com/sparklemotion/sqlite3-ruby/issues/174\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/sparklemotion/sqlite3-ruby/pull/174/hovercard\" href=\"https://github.com/sparklemotion/sqlite3-ruby/pull/174\">sparklemotion/sqlite3-ruby#174</a></li>\n</ol>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #50391 50391]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50392",
            "title": "[FIX] For Sqlite3 db:drop command output",
            "date_modified": "2023-12-21T04:56:59.000Z",
            "date_published": "2023-12-18T18:24:47.000Z",
            "author": {
                "name": "maniSHarma7575",
                "url": "https://github.com/maniSHarma7575"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50345.\">Closes</span> <a href=\"https://github.com/rails/rails/issues/50345\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50345/hovercard\">#50345</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">First, handle the exception mentioned in <a href=\"https://github.com/rails/rails/issues/50345\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50345/hovercard\">#50345</a>:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"BugTest#test_params_with_htm_content_type:\nNoMethodError: undefined method `to_html' for {:name=&gt;&quot;Muad'Dib&quot;}:Hash\n    .../actionpack/lib/action_dispatch/testing/request_encoder.rb:39:in `encode_params'\n    .../actionpack/lib/action_dispatch/testing/integration.rb:251:in `process'\"><pre class=\"notranslate\"><code class=\"notranslate\">BugTest#test_params_with_htm_content_type:\nNoMethodError: undefined method `to_html' for {:name=&gt;\"Muad'Dib\"}:Hash\n    .../actionpack/lib/action_dispatch/testing/request_encoder.rb:39:in `encode_params'\n    .../actionpack/lib/action_dispatch/testing/integration.rb:251:in `process'\n</code></pre></div>\n<p dir=\"auto\">When an <code class=\"notranslate\">ActionDispatch::Testing::RequestEncoder</code> registered through a call to <code class=\"notranslate\">register_encoder</code> does not define a <code class=\"notranslate\">:param_encoder</code> keyword argument <strong>and</strong> the params do not respond to a <code class=\"notranslate\">to_$MIME</code> method, fallback to returning the <code class=\"notranslate\">params</code> themselves, unchanged. This behavior is what's implemented by the private <code class=\"notranslate\">IdentityEncoder</code> class, so mimic it for defined encoders.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Next, special case handling requests with <code class=\"notranslate\">as: :html</code>. Passing <code class=\"notranslate\">as: :html</code> implies that the request parameters will come from a <code class=\"notranslate\">POST</code> body encoded as <code class=\"notranslate\">text/html</code>. That isn't entirely true -- browsers will encode <code class=\"notranslate\">POST</code> parameters as with the <code class=\"notranslate\">Content-Type:</code> header set to either <a href=\"https://developer.mozilla.org/en-US/docs/Learn/Forms/Sending_and_retrieving_form_data#the_post_method\" rel=\"nofollow\">application/x-www-form-urlencoded</a> or <a href=\"https://developer.mozilla.org/en-US/docs/Learn/Forms/Sending_and_retrieving_form_data#the_enctype_attribute\" rel=\"nofollow\">multipart/form-data</a>. This commit skips setting the <code class=\"notranslate\">CONTENT_TYPE</code> Rack header when processed with <code class=\"notranslate\">as: :html</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50390",
            "title": "Handle `as: :html` in `IntegrationTest`",
            "date_modified": "2023-12-18T19:47:45.000Z",
            "date_published": "2023-12-18T16:06:17.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #49520.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1930884133\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49520\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49520/hovercard\" href=\"https://github.com/rails/rails/issues/49520\">#49520</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Updates <code class=\"notranslate\">ActiveRecord::Relation#exec_queries</code> to raise or log on a strict loading violation. This gets called when association queries are executed with query methods.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50389",
            "title": "[Fix #49520] `strict_loading` violations ignored on `has_many` with query methods",
            "date_modified": "2023-12-19T09:19:16.000Z",
            "date_published": "2023-12-18T10:50:06.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/99301559?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created in order to fix issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2038038338\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50338\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50338/hovercard\" href=\"https://github.com/rails/rails/issues/50338\">#50338</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request provides a working solution for the destroy function for the cases of RestartParentTransaction and SavepointTransaction.</p>\n<p dir=\"auto\">Previously, the destroy function was not properly removing entries from the database for the RestartParentTransaction and SavepointTransaction. If @_trigger_destroy_callback is true at the beginning of the destroy function, destroy_row would never be invoked.</p>\n<p dir=\"auto\">This Pull Request will ensure destroy_row is invoked when @_trigger_destroy_callback is true at the beginning of the destroy function. This will remove the corresponding row from the database. Otherwise, if @_trigger_destroy_callback is false, destroy_row is only invoked if persisted? is true.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50386",
            "title": "Fix issue with destroy after RestartParentTransaction and SavepointTransaction rollback",
            "date_modified": "2023-12-21T22:37:02.000Z",
            "date_published": "2023-12-18T00:03:36.000Z",
            "author": {
                "name": "mguan2020",
                "url": "https://github.com/mguan2020"
            }
        }
    ]
}