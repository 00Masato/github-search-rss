{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5294464?u=e2754ad8dcc82f6e65b07bac4a31928faf3df6fe&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Rails provides great templates for running applications with Docker. However, when running Rails apps with the default <code class=\"notranslate\">docker-entrypoint</code>, containers may fail to restart if they crashed (e.g. because of OOM). This is becuase the <code class=\"notranslate\">/rails/tmp/pids/server.pid</code> file is already present.</p>\n<p dir=\"auto\">Such failed containers will require manual intervention (e.g. remove the faulty container) to get up-and-running again. To allow containers to restart the server.pid file must be removed on container start.</p>\n<p dir=\"auto\">This Pull Request has been created to incorporate this improvement into the default <code class=\"notranslate\">docker-entrypoint</code> template.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the <code class=\"notranslate\">docker-entrypoint</code> template used when generating a new Rails application. A new line to remove any existing server PID files has been added.</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"rm -f /rails/tmp/pids/server.pid\"><pre class=\"notranslate\">rm -f /rails/tmp/pids/server.pid</pre></div>\n<p dir=\"auto\">The <code class=\"notranslate\">-f</code> flag is required to avoid failing the command if the file is not present (as should be the case for any new container).</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">The abovementioned issue can be reproduced by running a Rails application container, killing it, and trying to start the same container again. I'd be happy to create a separate bug report if additional details or reproduction steps are required.</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# Start container\ndocker run -p 3000:3000 --name rails-demo -e RAILS_ENV=production -e RAILS_MASTER_KEY=key rails-demo:latest\n# Kill from separate terminal\ndocker kill --signal=9 rails-demo\n# Try restarting the container\ndocker start -a rails-demo\nW, [2024-01-07T13:22:14.105941 #7]  WARN -- : You are running SQLite in production, this is generally not recommended. You can disable this warning by setting &quot;config.active_record.sqlite3_production_warning=false&quot;.\n=&gt; Booting Puma\n=&gt; Rails 7.1.2 application starting in production\n=&gt; Run `bin/rails server --help` for more startup options\nExiting\nA server is already running (pid: 1, file: /rails/tmp/pids/server.pid).\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> Start container</span>\ndocker run -p 3000:3000 --name rails-demo -e RAILS_ENV=production -e RAILS_MASTER_KEY=key rails-demo:latest\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> Kill from separate terminal</span>\ndocker <span class=\"pl-c1\">kill</span> --signal=9 rails-demo\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> Try restarting the container</span>\ndocker start -a rails-demo\nW, [2024-01-07T13:22:14.105941 <span class=\"pl-c\"><span class=\"pl-c\">#</span>7]  WARN -- : You are running SQLite in production, this is generally not recommended. You can disable this warning by setting \"config.active_record.sqlite3_production_warning=false\".</span>\n<span class=\"pl-k\">=&gt;</span> Booting Puma\n<span class=\"pl-k\">=&gt;</span> Rails 7.1.2 application starting <span class=\"pl-k\">in</span> production\n<span class=\"pl-k\">=&gt;</span> Run <span class=\"pl-s\"><span class=\"pl-pds\">`</span>bin/rails server --help<span class=\"pl-pds\">`</span></span> <span class=\"pl-k\">for</span> more startup options\nExiting\nA server is already running (pid: 1, file: /rails/tmp/pids/server.pid).</pre></div>\n<p dir=\"auto\">There is no alternative solution that I know of. I can't think of any side effects caused by removing the server.pid file if its present either. After all, containers are <em>supposed</em> to be ephermal, and the file should actually never be there in the first place.</p>\n<p dir=\"auto\">The fix proposed in this PR is commonplace see for example <a href=\"https://github.com/docker/compose/issues/1393\" data-hovercard-type=\"issue\" data-hovercard-url=\"/docker/compose/issues/1393/hovercard\">GitHub discussion</a> or <a href=\"https://github.com/docker-library/httpd/blob/7ef8528047b6d344b32009572b9b61285c30e73a/2.4/httpd-foreground#L5\">the Entrypoint for httpd default image</a>.</p>",
            "url": "https://github.com/rails/rails/pull/50628",
            "title": "Update docker-entrypoint template to avoid failing container restarts",
            "date_modified": "2024-01-07T13:51:36.000Z",
            "date_published": "2024-01-07T13:51:32.000Z",
            "author": {
                "name": "hschne",
                "url": "https://github.com/hschne"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/87183507?u=1374c66fb72815a8d824ed1a4b80b9f0ebc2d72e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I deleted a FIXME annotation that did not need to be corrected.</p>\n<h3 dir=\"auto\">Detail</h3>\n<blockquote>\n<p dir=\"auto\">FIXME: is this a desired behavior?</p>\n</blockquote>\n<p dir=\"auto\">I think YES!</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50627",
            "title": "Delete FIXME annotation in dispatch/mapper_test.rb",
            "date_modified": "2024-01-07T14:39:45.000Z",
            "date_published": "2024-01-07T12:51:46.000Z",
            "author": {
                "name": "koya1616",
                "url": "https://github.com/koya1616"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22231095?u=fc75f9764434943effe06d6c1dc48d40a5003b0c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">An extra blank line is creating in gemfile, when adding <code class=\"notranslate\">rubocop-rails-omakase</code> and <code class=\"notranslate\">brakeman</code> gem by default for new rails applications.</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/22231095/294744168-2a87c3e7-e2e3-4be3-a589-0ffbe7d544a5.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQ2NDcyMDEsIm5iZiI6MTcwNDY0NjkwMSwicGF0aCI6Ii8yMjIzMTA5NS8yOTQ3NDQxNjgtMmE4N2MzZTctZTJlMy00YmUzLWE1ODktMGZmYmU3ZDU0NGE1LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMDclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTA3VDE3MDE0MVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWUxN2M0OWMyNGY5NTlmMGE1ZjQwNzZjZjhlOWQwY2QyYTM4M2Y3ZDdkZGM0ZDljZmM2YWQ4MzY0ZjdlNDdlZmYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.DbSCif6OrIQ56tJGU5FDnb71bJpvj2l5vFoVDa7hosY\"><img src=\"https://private-user-images.githubusercontent.com/22231095/294744168-2a87c3e7-e2e3-4be3-a589-0ffbe7d544a5.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQ2NDcyMDEsIm5iZiI6MTcwNDY0NjkwMSwicGF0aCI6Ii8yMjIzMTA5NS8yOTQ3NDQxNjgtMmE4N2MzZTctZTJlMy00YmUzLWE1ODktMGZmYmU3ZDU0NGE1LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMDclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTA3VDE3MDE0MVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWUxN2M0OWMyNGY5NTlmMGE1ZjQwNzZjZjhlOWQwY2QyYTM4M2Y3ZDdkZGM0ZDljZmM2YWQ4MzY0ZjdlNDdlZmYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.DbSCif6OrIQ56tJGU5FDnb71bJpvj2l5vFoVDa7hosY\" alt=\"Screenshot 2024-01-07 at 12 56 17 PM\" style=\"max-width: 100%;\"></a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request removes the extra blank lines from gemfile, when creating new rails applications.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50626",
            "title": "Fix extra blank line when adding rubocop-rails-omakase and brakeman",
            "date_modified": "2024-01-07T07:37:35.000Z",
            "date_published": "2024-01-07T07:37:30.000Z",
            "author": {
                "name": "akhilgkrishnan",
                "url": "https://github.com/akhilgkrishnan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22231095?u=fc75f9764434943effe06d6c1dc48d40a5003b0c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request updates the Ruby versions of all github worflows to use Ruby 3.3.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50625",
            "title": "Use Ruby 3.3 for github workflows",
            "date_modified": "2024-01-07T05:49:48.000Z",
            "date_published": "2024-01-07T05:49:48.000Z",
            "author": {
                "name": "akhilgkrishnan",
                "url": "https://github.com/akhilgkrishnan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22004610?u=8b285b31d33b20555541d5dda4c5ed77477eea3b&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The current documentation of the class reads a bit too verbose with motivation, context, and details all in a few, packed paragraphs.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit proposes to improve the documentation by changing the wordy style to the declarative one.</p>\n<p dir=\"auto\">Also it provides the documentation of the <code class=\"notranslate\">BACKTRACE=1</code> command which was recently introduced at <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2064656399\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50563\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50563/hovercard\" href=\"https://github.com/rails/rails/pull/50563\">#50563</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50624",
            "title": "Rephrase the docs of ActiveSupport::BacktraceCleaner [ci-skip]",
            "date_modified": "2024-01-07T16:52:52.000Z",
            "date_published": "2024-01-07T05:23:31.000Z",
            "author": {
                "name": "sato11",
                "url": "https://github.com/sato11"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes pull request #45432.\">Closes</span> <a href=\"https://github.com/rails/rails/pull/45432\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/45432/hovercard\">#45432</a></p>\n<p dir=\"auto\">Support for objects that respond to <code class=\"notranslate\">#render_in</code> was introduced in <a href=\"https://github.com/rails/rails/pull/36388\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/36388/hovercard\">#36388</a> and <a href=\"https://github.com/rails/rails/pull/37919\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/37919/hovercard\">#37919</a>. Those implementations assume that the instance will all the context it needs to render itself. That assumption doesn't account for call-site arguments like <code class=\"notranslate\">locals: { ... }</code> or a block.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit expands support for rendering with a <code class=\"notranslate\">:renderable</code> option to incorporate locals and blocks. For example:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Greeting\n  def render_in(view_context, **options, &amp;block)\n    if block\n      view_context.render html: block.call\n    else\n      view_context.render inline: &lt;&lt;~ERB.strip, **options\n        Hello, &lt;%= name %&gt;\n      ERB\n    end\n  end\nend\n\nrender(Greeting.new)                    # =&gt; &quot;Hello, World&quot;\nrender(Greeting.new, name: &quot;Local&quot;)     # =&gt; &quot;Hello, Local&quot;\nrender(Greeting.new) { &quot;Hello, Block&quot; } # =&gt; &quot;Hello, Block&quot;\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Greeting</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">render_in</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">view_context</span><span class=\"pl-kos\">,</span> **<span class=\"pl-s1\">options</span><span class=\"pl-kos\">,</span> &amp;<span class=\"pl-s1\">block</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-k\">if</span> <span class=\"pl-s1\">block</span>\n      <span class=\"pl-s1\">view_context</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">render</span> <span class=\"pl-pds\">html</span>: <span class=\"pl-s1\">block</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">call</span>\n    <span class=\"pl-k\">else</span>\n      <span class=\"pl-s1\">view_context</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">render</span> <span class=\"pl-pds\">inline</span>: <span class=\"pl-s\">&lt;&lt;~ERB</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">strip</span><span class=\"pl-kos\">,</span> **<span class=\"pl-s1\">options</span><span class=\"pl-s\"></span>\n<span class=\"pl-s\">        Hello, <span class=\"pl-k\">&lt;%=</span> <span class=\"pl-en\">name</span> <span class=\"pl-k\">%&gt;</span></span>\n<span class=\"pl-s\">      ERB</span>\n    <span class=\"pl-k\">end</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">render</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">Greeting</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">)</span>                    <span class=\"pl-c\"># =&gt; \"Hello, World\"</span>\n<span class=\"pl-en\">render</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">Greeting</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"Local\"</span><span class=\"pl-kos\">)</span>     <span class=\"pl-c\"># =&gt; \"Hello, Local\"</span>\n<span class=\"pl-en\">render</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">Greeting</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span> <span class=\"pl-s\">\"Hello, Block\"</span> <span class=\"pl-kos\">}</span> <span class=\"pl-c\"># =&gt; \"Hello, Block\"</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50623",
            "title": "Pass render options and block to calls to `#render_in`",
            "date_modified": "2024-01-07T04:26:11.000Z",
            "date_published": "2024-01-06T20:46:09.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Provide examples for rendering objects that respond to <code class=\"notranslate\">render_in</code>. Also highlight that the object can also define a <code class=\"notranslate\">#format</code> method to control how the rendered String should be treated.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Add test coverage for both Action View's and Action Pack's support for <code class=\"notranslate\">render</code> with <code class=\"notranslate\">:renderable</code> options.</p>",
            "url": "https://github.com/rails/rails/pull/50622",
            "title": "Document rendering `:renderable` and `#render_in`",
            "date_modified": "2024-01-06T22:57:09.000Z",
            "date_published": "2024-01-06T20:42:44.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/7427365?u=67ed8ab4a2204734e6d97e9ebbe4a963512a0fda&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">If app uses MSSQL Server we can configure Github CI to use sql server for the tests.<br>\nHere is the <a href=\"https://github.com/dixpac/demo_ms/actions/runs/7433034257\">link to working CI</a> that uses same config</p>",
            "url": "https://github.com/rails/rails/pull/50619",
            "title": "Add support for MSSQLServer on the CI",
            "date_modified": "2024-01-06T17:53:49.000Z",
            "date_published": "2024-01-06T17:53:45.000Z",
            "author": {
                "name": "dixpac",
                "url": "https://github.com/dixpac"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/87183507?u=1374c66fb72815a8d824ed1a4b80b9f0ebc2d72e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I fixed <a href=\"https://github.com/rails/rails/blob/fb5687491254511bc8e0d330adfeef4c1a8a7289/railties/lib/rails/generators/named_base.rb#L37\">FIXME</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The <code class=\"notranslate\">singular_name</code> method in <code class=\"notranslate\">railties/lib/rails/generators/named_base.rb</code> is an alias for <code class=\"notranslate\">file_name</code>. But we are avoiding to use alias because a bug on thor that make this method public and add it to the task list. So, I replaced <code class=\"notranslate\">singular_name</code> method with <code class=\"notranslate\">file_name</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50616",
            "title": "Delete singular_name method in named_base.rb",
            "date_modified": "2024-01-06T14:27:21.000Z",
            "date_published": "2024-01-06T12:33:05.000Z",
            "author": {
                "name": "koya1616",
                "url": "https://github.com/koya1616"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/41361100?u=cd2a9b0270a884579970aa58d204befb6d0d9f86&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This pull request updates the Dockerfile for the Rails application to improve clarity and maintainability. Specifically, it modifies the section responsible for copying the bundle from the build stage to the final stage.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The modification ensures consistency and avoids hardcoding the bundle path in the COPY command. Instead, it now utilizes the BUNDLE_PATH environment variable for both the source and destination paths. This approach enhances readability and makes it easier to update the bundle path in the future if needed.</p>\n<p dir=\"auto\">This change contributes to a cleaner and more maintainable Dockerfile</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50615",
            "title": "Use existing bundle path that already declared",
            "date_modified": "2024-01-06T16:22:35.000Z",
            "date_published": "2024-01-06T10:49:37.000Z",
            "author": {
                "name": "anonychun",
                "url": "https://github.com/anonychun"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22004610?u=8b285b31d33b20555541d5dda4c5ed77477eea3b&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because  the documentation guidelines favor the use of \"an\" for \"SQL\" and there are a handful of instances which go against it.</p>\n<h3 dir=\"auto\">Detail</h3>\n<blockquote>\n<p dir=\"auto\">Use the article \"an\" for \"SQL\", as in \"an SQL statement\". Also \"an SQLite database\".</p>\n</blockquote>\n<p dir=\"auto\"><a href=\"https://guides.rubyonrails.org/api_documentation_guidelines.html\" rel=\"nofollow\">https://guides.rubyonrails.org/api_documentation_guidelines.html</a>.</p>\n<p dir=\"auto\">So I followed it.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50612",
            "title": "Use the article \"an\" for \"SQL\"",
            "date_modified": "2024-01-06T18:22:10.000Z",
            "date_published": "2024-01-06T00:53:19.000Z",
            "author": {
                "name": "sato11",
                "url": "https://github.com/sato11"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4910785?u=bb262553df264faad2f515f6ea75067266e0d129&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50600.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2067401862\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50600\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50600/hovercard\" href=\"https://github.com/rails/rails/issues/50600\">#50600</a> by parsing the string content-type before comparing it to the <code class=\"notranslate\">Mime::Type</code>. This comparison will ignore the parameters.</p>\n<p dir=\"auto\"><a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/alexandergitter/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/alexandergitter\">@alexandergitter</a> I added you as co-author for the reproduction test case.</p>",
            "url": "https://github.com/rails/rails/pull/50610",
            "title": "Don't fail for uploads with content-type parameters in the ActiveStorage::DiskController",
            "date_modified": "2024-01-05T23:32:38.000Z",
            "date_published": "2024-01-05T23:32:34.000Z",
            "author": {
                "name": "codergeek121",
                "url": "https://github.com/codergeek121"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/3733470?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><code class=\"notranslate\">Array#intersect?</code> was introduced in Ruby 3.1.0 and it's more efficient and useful when the result of the intersection is not needed as the benchmarks in the next sections show. It's also better for clarity and readability.</p>\n<p dir=\"auto\"><a href=\"https://bugs.ruby-lang.org/issues/15198\" rel=\"nofollow\">https://bugs.ruby-lang.org/issues/15198</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\"><code class=\"notranslate\">Array#intersect?</code> is equivalent to <code class=\"notranslate\">!(a1 &amp; a2).empty?</code>, this PR replaces cases like this and other similar ones where the result is only a predicate.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Benchmark:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"require &quot;bundler/inline&quot;\n\ngemfile(true) do\n  source &quot;https://rubygems.org&quot;\n\n  git_source(:github) { |repo| &quot;https://github.com/#{repo}.git&quot; }\n\n  gem &quot;rails&quot;, path: &quot;./&quot;\n  # If you want to test against edge Rails replace the previous line with this:\n  # gem &quot;rails&quot;, github: &quot;rails/rails&quot;, branch: &quot;main&quot;\n  gem &quot;benchmark-ips&quot;\nend\n\nrequire &quot;active_support&quot;\n\nSCENARIOS = [\n  [(1..100).to_a, (90..200).to_a],    # Case 1\n  [(&quot;a&quot;..&quot;m&quot;).to_a, (&quot;j&quot;..&quot;z&quot;).to_a], # Case 2\n  [(1..100).to_a, (101..200).to_a],   # Case 3\n]\n\nSCENARIOS.each_with_index do |values, n|\n  puts\n  puts &quot; Case #{n + 1} &quot;.center(80, &quot;=&quot;)\n  puts\n  Benchmark.ips do |x|\n    x.report(&quot;Array#?&quot;) { !(values[0] &amp; values[1]).empty? }\n    x.report(&quot;Array#intersect?&quot;) { values[0].intersect?(values[1]) }\n    x.compare!\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-en\">require</span> <span class=\"pl-s\">\"bundler/inline\"</span>\n\n<span class=\"pl-en\">gemfile</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">true</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">source</span> <span class=\"pl-s\">\"https://rubygems.org\"</span>\n\n  <span class=\"pl-en\">git_source</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:github</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span> |<span class=\"pl-s1\">repo</span>| <span class=\"pl-s\">\"https://github.com/<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">repo</span><span class=\"pl-kos\">}</span></span>.git\"</span> <span class=\"pl-kos\">}</span>\n\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">\"rails\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">path</span>: <span class=\"pl-s\">\"./\"</span>\n  <span class=\"pl-c\"># If you want to test against edge Rails replace the previous line with this:</span>\n  <span class=\"pl-c\"># gem \"rails\", github: \"rails/rails\", branch: \"main\"</span>\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">\"benchmark-ips\"</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"active_support\"</span>\n\n<span class=\"pl-c1\">SCENARIOS</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span>\n  <span class=\"pl-kos\">[</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span>..<span class=\"pl-c1\">100</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_a</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-c1\">90</span>..<span class=\"pl-c1\">200</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_a</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>    <span class=\"pl-c\"># Case 1</span>\n  <span class=\"pl-kos\">[</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"a\"</span>..<span class=\"pl-s\">\"m\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_a</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-s\">\"j\"</span>..<span class=\"pl-s\">\"z\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_a</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-c\"># Case 2</span>\n  <span class=\"pl-kos\">[</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span>..<span class=\"pl-c1\">100</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_a</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-c1\">101</span>..<span class=\"pl-c1\">200</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_a</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>   <span class=\"pl-c\"># Case 3</span>\n<span class=\"pl-kos\">]</span>\n\n<span class=\"pl-c1\">SCENARIOS</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">each_with_index</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">values</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">n</span>|\n  <span class=\"pl-en\">puts</span>\n  <span class=\"pl-en\">puts</span> <span class=\"pl-s\">\" Case <span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">n</span> + <span class=\"pl-c1\">1</span><span class=\"pl-kos\">}</span></span> \"</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">center</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">80</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"=\"</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-en\">puts</span>\n  <span class=\"pl-v\">Benchmark</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">ips</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">x</span>|\n    <span class=\"pl-s1\">x</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">report</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Array#?\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span> !<span class=\"pl-kos\">(</span><span class=\"pl-s1\">values</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">]</span> &amp; <span class=\"pl-s1\">values</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">empty?</span> <span class=\"pl-kos\">}</span>\n    <span class=\"pl-s1\">x</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">report</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Array#intersect?\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span> <span class=\"pl-s1\">values</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">0</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">intersect?</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">values</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">}</span>\n    <span class=\"pl-s1\">x</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">compare!</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">Results:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"==================================== Case 1 ====================================\n\nruby 3.2.2 (2023-03-30 revision e51014f9c0) [arm64-darwin21]\nWarming up --------------------------------------\n             Array#?    34.221k i/100ms\n    Array#intersect?    62.035k i/100ms\nCalculating -------------------------------------\n             Array#?    343.119k (± 1.1%) i/s -      1.745M in   5.087078s\n    Array#intersect?    615.394k (± 1.1%) i/s -      3.102M in   5.040838s\n\nComparison:\n    Array#intersect?:   615393.7 i/s\n             Array#?:   343119.4 i/s - 1.79x  slower\n\n==================================== Case 2 ====================================\n\nruby 3.2.2 (2023-03-30 revision e51014f9c0) [arm64-darwin21]\nWarming up --------------------------------------\n             Array#?   103.256k i/100ms\n    Array#intersect?   185.104k i/100ms\nCalculating -------------------------------------\n             Array#?      1.039M (± 1.3%) i/s -      5.266M in   5.066847s\n    Array#intersect?      1.873M (± 1.6%) i/s -      9.440M in   5.041740s\n\nComparison:\n    Array#intersect?:  1872932.7 i/s\n             Array#?:  1039482.4 i/s - 1.80x  slower\n\n==================================== Case 3 ====================================\n\nruby 3.2.2 (2023-03-30 revision e51014f9c0) [arm64-darwin21]\nWarming up --------------------------------------\n             Array#?    37.070k i/100ms\n    Array#intersect?    41.438k i/100ms\nCalculating -------------------------------------\n             Array#?    370.902k (± 0.8%) i/s -      1.891M in   5.097584s\n    Array#intersect?    409.902k (± 1.0%) i/s -      2.072M in   5.055185s\n\nComparison:\n    Array#intersect?:   409901.8 i/s\n             Array#?:   370902.3 i/s - 1.11x  slower\"><pre class=\"notranslate\"><code class=\"notranslate\">==================================== Case 1 ====================================\n\nruby 3.2.2 (2023-03-30 revision e51014f9c0) [arm64-darwin21]\nWarming up --------------------------------------\n             Array#?    34.221k i/100ms\n    Array#intersect?    62.035k i/100ms\nCalculating -------------------------------------\n             Array#?    343.119k (± 1.1%) i/s -      1.745M in   5.087078s\n    Array#intersect?    615.394k (± 1.1%) i/s -      3.102M in   5.040838s\n\nComparison:\n    Array#intersect?:   615393.7 i/s\n             Array#?:   343119.4 i/s - 1.79x  slower\n\n==================================== Case 2 ====================================\n\nruby 3.2.2 (2023-03-30 revision e51014f9c0) [arm64-darwin21]\nWarming up --------------------------------------\n             Array#?   103.256k i/100ms\n    Array#intersect?   185.104k i/100ms\nCalculating -------------------------------------\n             Array#?      1.039M (± 1.3%) i/s -      5.266M in   5.066847s\n    Array#intersect?      1.873M (± 1.6%) i/s -      9.440M in   5.041740s\n\nComparison:\n    Array#intersect?:  1872932.7 i/s\n             Array#?:  1039482.4 i/s - 1.80x  slower\n\n==================================== Case 3 ====================================\n\nruby 3.2.2 (2023-03-30 revision e51014f9c0) [arm64-darwin21]\nWarming up --------------------------------------\n             Array#?    37.070k i/100ms\n    Array#intersect?    41.438k i/100ms\nCalculating -------------------------------------\n             Array#?    370.902k (± 0.8%) i/s -      1.891M in   5.097584s\n    Array#intersect?    409.902k (± 1.0%) i/s -      2.072M in   5.055185s\n\nComparison:\n    Array#intersect?:   409901.8 i/s\n             Array#?:   370902.3 i/s - 1.11x  slower\n</code></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50609",
            "title": "Replace usage of `Array#?` with `Array#intersect?` for efficiency",
            "date_modified": "2024-01-06T09:26:04.000Z",
            "date_published": "2024-01-05T20:19:40.000Z",
            "author": {
                "name": "ricardotk002",
                "url": "https://github.com/ricardotk002"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/820759?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h1 dir=\"auto\">Context</h1>\n<p dir=\"auto\">See also: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1766292000\" data-permission-text=\"Title is private\" data-url=\"https://github.com/hotwired/turbo-rails/issues/476\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/hotwired/turbo-rails/pull/476/hovercard\" href=\"https://github.com/hotwired/turbo-rails/pull/476\">hotwired/turbo-rails#476</a></p>\n<p dir=\"auto\"><a href=\"https://github.com/hotwired/turbo-rails/pull/476\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/hotwired/turbo-rails/pull/476/hovercard\">hotwired/turbo-rails/pull/476</a> removed the ability to pass multiple ids/models to the <code class=\"notranslate\">turbo_frame_tag</code> helper method. In that PR it was suggested by <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/skipkayhil/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/skipkayhil\">@skipkayhil</a> that this ability be passed down to the <code class=\"notranslate\">dom_id</code> method (which is a part of rails core) method rather than the <code class=\"notranslate\">turbo_frame_tag</code> helper (which is a part of turbo-rails).</p>\n<p dir=\"auto\">ref: <a href=\"https://discuss.rubyonrails.org/t/allow-dom-id-method-to-accept-multiple-ids-models/84408\" rel=\"nofollow\">https://discuss.rubyonrails.org/t/allow-dom-id-method-to-accept-multiple-ids-models/84408</a></p>\n<h1 dir=\"auto\">Changes</h1>\n<p dir=\"auto\">If the first argument of the <code class=\"notranslate\">dom_id</code> is an array, this change will loop through each value and form a singular dom ID, then join the parts together. This change will allow turbo frame tags to accept multiple models (similar to the <code class=\"notranslate\">cache</code> helper from ActionView).</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"&lt;%= turbo_frame_tag [customer, field] do %&gt;\n  &lt;!-- code --&gt;\n&lt;% end %&gt;\"><pre class=\"notranslate\"><code class=\"notranslate\">&lt;%= turbo_frame_tag [customer, field] do %&gt;\n  &lt;!-- code --&gt;\n&lt;% end %&gt;\n</code></pre></div>\n<hr>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50608",
            "title": "allow dom_id method to accept an array of records_or_classes",
            "date_modified": "2024-01-05T19:28:14.000Z",
            "date_published": "2024-01-05T19:12:49.000Z",
            "author": {
                "name": "jwilsjustin",
                "url": "https://github.com/jwilsjustin"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/58582?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50604.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2067789909\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50604\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50604/hovercard\" href=\"https://github.com/rails/rails/issues/50604\">#50604</a></p>\n<p dir=\"auto\">This Pull Request fixes a source of incompatibility between the loading order of Active Record Encryption configs and the loading of AR models in eager loading mode.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request removes an occurrence of <code class=\"notranslate\">after_initialize</code> introduced in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1765439665\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48530\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48530/hovercard\" href=\"https://github.com/rails/rails/pull/48530\">#48530</a>, which is not fully compatible with the eager loading mode.</p>\n<p dir=\"auto\">Previous concerns were raised in <a href=\"https://github.com/rails/rails/pull/48530/files#r1237624233\">a discussion from the same PR</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50606",
            "title": "[Fix #50604] Restore compatibility of Active Record Encryption configs with eager loading mode",
            "date_modified": "2024-01-07T12:18:20.000Z",
            "date_published": "2024-01-05T18:03:09.000Z",
            "author": {
                "name": "maximerety",
                "url": "https://github.com/maximerety"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/80978?u=1793cf2a2945d245ee5c1ce7d64cafa7856497f3&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">I've stumbled on this when writing an <code class=\"notranslate\">upsert</code> call that must produce a <code class=\"notranslate\">ON CONFLICT () DO NOTHING</code> fragment.</p>\n<p dir=\"auto\">Using <code class=\"notranslate\">update_only: []</code> didn't worked as it does update all columns on the table, but reading <code class=\"notranslate\">InsertAll</code> I noticed the use of <code class=\"notranslate\">:skip</code> internally that worked for this scenario, but it isn't mentioned on the public docs.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50598",
            "title": "Document `upsert`/`upsert_all` `on_duplicate: :skip` option",
            "date_modified": "2024-01-05T13:49:11.000Z",
            "date_published": "2024-01-05T13:49:07.000Z",
            "author": {
                "name": "lucasmazza",
                "url": "https://github.com/lucasmazza"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">The \"English\" and \"Oxford Comma\" sections currently have 1 or 2 sentences, which makes it difficult to justify their own top sections.</p>\n<p dir=\"auto\">Moving the \"English\" section under the \"Wording\" section makes sense, as we already have a \"Naming\" section.<br>\nAs the \"Wording\" section also mentions punctuation, we can move the \"Oxford Comma\" section there as well.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50593",
            "title": "Move \"English\" and \"Oxford Comma\" sections under \"Wording\" [ci-skip]",
            "date_modified": "2024-01-05T14:25:19.000Z",
            "date_published": "2024-01-05T11:40:45.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2064763177\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50568\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50568/hovercard\" href=\"https://github.com/rails/rails/issues/50568\">#50568</a></p>\n<p dir=\"auto\">The backport of <a href=\"https://github.com/rails/rails/commit/83f543b8760308081ab1b58c25804c45c2597844\">type_for_attribute</a> from Active Record to Active Model enables the backport of <code class=\"notranslate\">ActiveRecord::AttributeMethods::Query</code> to define predicate methods for both Active Model and Active Record using the same code paths.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit renames <code class=\"notranslate\">Active{Record,Model}::AttributeMethods::Query</code> then includes it into both into the original<br>\n<code class=\"notranslate\">ActiveRecord::AttributeMethods::Query</code> and into<br>\n<code class=\"notranslate\">ActiveModel::Attributes</code> by default.</p>\n<p dir=\"auto\">The test coverage was copied directly from the <a href=\"https://github.com/rails/rails/blob/a73cbbea6a082cdd320ecc92e3c6f1d46fe6af74/activerecord/test/cases/attribute_methods_test.rb#L494-L596\">Active Record test suite</a>, then modified to work in a database-less environment.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">The <code class=\"notranslate\">_query_attribute</code> method defined in<br>\n<code class=\"notranslate\">ActiveRecord::AttributeMethods::Query</code> is specific to Active Record, so do not include it in the migration.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50580",
            "title": "Port `ActiveRecord::AttributeMethods::Query` to Active Model",
            "date_modified": "2024-01-04T17:01:36.000Z",
            "date_published": "2024-01-04T16:07:32.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/12740?u=334294a0f17ff1044b837804468aedad6cbe917d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because contributing to rails documentation says: Explore and document edge cases.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes activerecord/lib/active_record/relation/finder_methods.rb (documentation only). The % symbol should NOT be there to use the method. The syntax mistake has been corrected.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Edge cases has been tested with:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frozen_string_literal: true\n\nrequire 'bundler/inline'\n\ngemfile(true) do\n  source 'https://rubygems.org'\n\n  git_source(:github) { |repo| &quot;https://github.com/#{repo}.git&quot; }\n\n  gem 'rails', github: 'rails/rails'\n  gem 'sqlite3'\nend\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new($stdout)\n\nActiveRecord::Schema.define do\n  create_table :articles, force: true do |t|\n    t.string :title\n    t.integer :rating\n  \n    t.datetime :published_at  \n  end\nend\n\nclass Article &lt; ActiveRecord::Base\nend\n\n# \n# Input\n# \n# In `ActiveRecord find_sole_by(arg, *args)`, the input parameters are:\n#\n# - `arg`: Typically a hash specifying the attributes and their values to match in a record. \n#          For example, `{name: 'John', status: 'active'}`.\n# - `*args`: A splat operator allowing additional arguments, often used for more complex queries \n#            with SQL conditions and placeholders. \n#            For example, `find_sole_by(&quot;created_at &gt; ?&quot;, Date.yesterday)`.\n\n# The `find_sole_by` method returns the only record matching the criteria or \n# raises an error if multiple records match or no record matches.\n\nclass FindSoleBy &lt; Minitest::Test\n  def setup\n    Article.create!(title: 'First Article', published_at: Time.now - 5.days, rating: 5)\n  end\n\n  def teardown\n    Article.destroy_all\n  end\n\n  # Documents the input and output of the method.\n  #\n  # @param input [Integer, String, Array&lt;Integer&gt;, Array&lt;String&gt;] The input to be passed to the find method.\n  # @return ActiveRecord the output type is ActiveRecord object.\n  def test_interface\n    result = Article.find_sole_by([&quot;rating = ?&quot;, 5])\n\n    assert_equal Article, result.class\n  end\n\n  # Tests the behavior of the method when a non-existent record ID is passed as an argument.\n  #\n  # @raise [ActiveRecord::RecordNotFound] if the record with the given ID does not exist.\n  def test_non_existent_record\n    assert_raises(ActiveRecord::RecordNotFound) do\n      Article.find_sole_by([&quot;rating = ?&quot;, 1])\n    end\n  end\n\n  # Tests the behavior of the method when nil is passed as an argument.\n  #\n  # @return ActiveRecord object if the argument is nil.\n  # Generated SQL: SELECT &quot;articles&quot;.* FROM &quot;articles&quot; ORDER BY &quot;articles&quot;.&quot;id&quot; ASC LIMIT ?  [[&quot;LIMIT&quot;, 2]]\n  def test_find_with_nil\n    result = Article.find_sole_by(nil)\n\n    assert_equal 'First Article', result.title\n  end\n\n  # Tests the behavior of the method when no argument is passed.\n  # \n  # The first argument is required. \n  # The second argument is optional.\n  # \n  # @raise ArgumentError Message: &lt;&quot;wrong number of arguments (given 0, expected 1+)&quot;&gt; if no argument is provided.\n  def test_find_with_no_argument\n    assert_raises(ArgumentError) do\n      Article.find_sole_by\n    end\n  end\n\n  # Tests the behavior of the method when an empty array is passed as an argument.\n  #\n  # @return [Array] An empty array.\n  def test_find_with_empty_array\n    result = Article.find_sole_by([])\n\n    assert_equal 'First Article', result.title\n  end\n\n  # Tests the behavior of the method when there are multiple records that match the search criteria.\n  #\n  # @raise [ActiveRecord::SoleRecordExceeded] if multiple records match the search criteria.\n  def test_multiple_records_case\n    Article.create!(title: 'First Article', published_at: Time.now - 5.days, rating: 5)\n\n    assert_raises(ActiveRecord::SoleRecordExceeded) do\n      Article.find_sole_by([&quot;rating = ?&quot;, 5])\n    end\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-c\"># frozen_string_literal: true</span>\n\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">'bundler/inline'</span>\n\n<span class=\"pl-en\">gemfile</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">true</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">source</span> <span class=\"pl-s\">'https://rubygems.org'</span>\n\n  <span class=\"pl-en\">git_source</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:github</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span> |<span class=\"pl-s1\">repo</span>| <span class=\"pl-s\">\"https://github.com/<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">repo</span><span class=\"pl-kos\">}</span></span>.git\"</span> <span class=\"pl-kos\">}</span>\n\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">'rails'</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">github</span>: <span class=\"pl-s\">'rails/rails'</span>\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">'sqlite3'</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">'active_record'</span>\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">'minitest/autorun'</span>\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">'logger'</span>\n\n<span class=\"pl-c\"># This connection will do for database-independent bug reports.</span>\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">establish_connection</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">adapter</span>: <span class=\"pl-s\">'sqlite3'</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">database</span>: <span class=\"pl-s\">':memory:'</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">logger</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Logger</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span>$stdout<span class=\"pl-kos\">)</span>\n\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Schema</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">define</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">create_table</span> <span class=\"pl-pds\">:articles</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">force</span>: <span class=\"pl-c1\">true</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">string</span> <span class=\"pl-pds\">:title</span>\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">integer</span> <span class=\"pl-pds\">:rating</span>\n  \n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">datetime</span> <span class=\"pl-pds\">:published_at</span>  \n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Article</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-c\"># </span>\n<span class=\"pl-c\"># Input</span>\n<span class=\"pl-c\"># </span>\n<span class=\"pl-c\"># In `ActiveRecord find_sole_by(arg, *args)`, the input parameters are:</span>\n<span class=\"pl-c\">#</span>\n<span class=\"pl-c\"># - `arg`: Typically a hash specifying the attributes and their values to match in a record. </span>\n<span class=\"pl-c\">#          For example, `{name: 'John', status: 'active'}`.</span>\n<span class=\"pl-c\"># - `*args`: A splat operator allowing additional arguments, often used for more complex queries </span>\n<span class=\"pl-c\">#            with SQL conditions and placeholders. </span>\n<span class=\"pl-c\">#            For example, `find_sole_by(\"created_at &gt; ?\", Date.yesterday)`.</span>\n\n<span class=\"pl-c\"># The `find_sole_by` method returns the only record matching the criteria or </span>\n<span class=\"pl-c\"># raises an error if multiple records match or no record matches.</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">FindSoleBy</span> &lt; <span class=\"pl-v\">Minitest</span>::<span class=\"pl-v\">Test</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">setup</span>\n    <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">create!</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">title</span>: <span class=\"pl-s\">'First Article'</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">published_at</span>: <span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">now</span> - <span class=\"pl-c1\">5</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">days</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">rating</span>: <span class=\"pl-c1\">5</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">teardown</span>\n    <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">destroy_all</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-c\"># Documents the input and output of the method.</span>\n  <span class=\"pl-c\">#</span>\n  <span class=\"pl-c\"># @param input [Integer, String, Array&lt;Integer&gt;, Array&lt;String&gt;] The input to be passed to the find method.</span>\n  <span class=\"pl-c\"># @return ActiveRecord the output type is ActiveRecord object.</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_interface</span>\n    <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find_sole_by</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-s\">\"rating = ?\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">5</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>\n\n    <span class=\"pl-en\">assert_equal</span> <span class=\"pl-v\">Article</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">class</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-c\"># Tests the behavior of the method when a non-existent record ID is passed as an argument.</span>\n  <span class=\"pl-c\">#</span>\n  <span class=\"pl-c\"># @raise [ActiveRecord::RecordNotFound] if the record with the given ID does not exist.</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_non_existent_record</span>\n    <span class=\"pl-en\">assert_raises</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">RecordNotFound</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n      <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find_sole_by</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-s\">\"rating = ?\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-k\">end</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-c\"># Tests the behavior of the method when nil is passed as an argument.</span>\n  <span class=\"pl-c\">#</span>\n  <span class=\"pl-c\"># @return ActiveRecord object if the argument is nil.</span>\n  <span class=\"pl-c\"># Generated SQL: SELECT \"articles\".* FROM \"articles\" ORDER BY \"articles\".\"id\" ASC LIMIT ?  [[\"LIMIT\", 2]]</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_find_with_nil</span>\n    <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find_sole_by</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">nil</span><span class=\"pl-kos\">)</span>\n\n    <span class=\"pl-en\">assert_equal</span> <span class=\"pl-s\">'First Article'</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">title</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-c\"># Tests the behavior of the method when no argument is passed.</span>\n  <span class=\"pl-c\"># </span>\n  <span class=\"pl-c\"># The first argument is required. </span>\n  <span class=\"pl-c\"># The second argument is optional.</span>\n  <span class=\"pl-c\"># </span>\n  <span class=\"pl-c\"># @raise ArgumentError Message: &lt;\"wrong number of arguments (given 0, expected 1+)\"&gt; if no argument is provided.</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_find_with_no_argument</span>\n    <span class=\"pl-en\">assert_raises</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">ArgumentError</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n      <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find_sole_by</span>\n    <span class=\"pl-k\">end</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-c\"># Tests the behavior of the method when an empty array is passed as an argument.</span>\n  <span class=\"pl-c\">#</span>\n  <span class=\"pl-c\"># @return [Array] An empty array.</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_find_with_empty_array</span>\n    <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find_sole_by</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>\n\n    <span class=\"pl-en\">assert_equal</span> <span class=\"pl-s\">'First Article'</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">title</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-c\"># Tests the behavior of the method when there are multiple records that match the search criteria.</span>\n  <span class=\"pl-c\">#</span>\n  <span class=\"pl-c\"># @raise [ActiveRecord::SoleRecordExceeded] if multiple records match the search criteria.</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_multiple_records_case</span>\n    <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">create!</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">title</span>: <span class=\"pl-s\">'First Article'</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">published_at</span>: <span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">now</span> - <span class=\"pl-c1\">5</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">days</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">rating</span>: <span class=\"pl-c1\">5</span><span class=\"pl-kos\">)</span>\n\n    <span class=\"pl-en\">assert_raises</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">SoleRecordExceeded</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n      <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find_sole_by</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-s\">\"rating = ?\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">5</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-k\">end</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50578",
            "title": "Document find_sole_by edge cases and correct syntax mistake [skip ci]",
            "date_modified": "2024-01-05T16:27:24.000Z",
            "date_published": "2024-01-04T15:17:25.000Z",
            "author": {
                "name": "bparanj",
                "url": "https://github.com/bparanj"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Opening per recommendation in discord</p>",
            "url": "https://github.com/rails/rails/pull/50567",
            "title": "Backport adding dependencies for gems that warn in Ruby 3.3",
            "date_modified": "2024-01-04T00:14:10.000Z",
            "date_published": "2024-01-03T22:58:19.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        }
    ]
}