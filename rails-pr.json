{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><code class=\"notranslate\">eager_load</code> performs a single query using a <code class=\"notranslate\">LEFT OUTER JOIN</code> to load the associations. Loading the associations in a join can result in many rows that contain redundant data and it performs poorly at scale.</p>\n<p dir=\"auto\">With <code class=\"notranslate\">includes</code> a separate query is performed for each association, unless a join is required by conditions.</p>\n<p dir=\"auto\"><code class=\"notranslate\">includes</code> is also used by similar methods in Active Storage like <code class=\"notranslate\">with_attached_*</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50769",
            "title": "Use `includes` instead of `eager_load` for `with_all_rich_text`",
            "date_modified": "2024-01-16T17:51:55.000Z",
            "date_published": "2024-01-16T17:51:45.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/101501?u=b9368cd286f05d7b8998746f81d8cb3c2bd247c1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">In these last years we have been using a monkey patch at our company that smartly detects domain and subdomains according to the <a href=\"https://publicsuffix.org/\" rel=\"nofollow\">Public Suffix database</a>. There are a few gems in our ecosystems like <a href=\"https://github.com/weppos/publicsuffix-ruby\">public_suffix</a> and <a href=\"https://github.com/discourse/mini_suffix\">mini_suffix</a> that does exactly that. But Rails uses an older and primitive method that splits the domain tld using <code class=\"notranslate\">config.action_dispatch.tld_length</code> option. This pull request changes that by allowing developers to specify a custom domain extractor class.</p>\n<p dir=\"auto\">This is really useful for any SaaS company that offers custom domain and subdomains.</p>",
            "url": "https://github.com/rails/rails/pull/50763",
            "title": "Allow custom domain extractor class on ActionDispatch::Http::URL",
            "date_modified": "2024-01-16T15:14:29.000Z",
            "date_published": "2024-01-15T23:32:04.000Z",
            "author": {
                "name": "rainerborene",
                "url": "https://github.com/rainerborene"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50762",
            "title": "Document some ActionText methods [ci-skip]",
            "date_modified": "2024-01-15T21:22:39.000Z",
            "date_published": "2024-01-15T21:22:33.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The documenation of <code class=\"notranslate\">ActiveRecord::Core.configurations=</code> <a href=\"https://edgeapi.rubyonrails.org/classes/ActiveRecord/Core.html#method-c-configurations-3D\" rel=\"nofollow\">reads</a> like the documentation for the getter instead of the setter.<br>\nIt should not describe what is returned, but what arguments are expected.</p>\n<p dir=\"auto\">This changes moves the documentation of the setter to the getter and adds a new comment to the setter.</p>\n<p dir=\"auto\">This commit has 2 separate commits to make sure the diffs only apply to documentation and not the code.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50761",
            "title": "Improve documentation of ActiveRecord::Core.configurations",
            "date_modified": "2024-01-16T12:15:00.000Z",
            "date_published": "2024-01-15T21:18:15.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/3124?u=6ece6a5a8b8ea32c5fa94c325d151bc01d1e44e8&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">For non-image attachments (like videos), generated representations are<br>\ncreated as a preview_image_attachment instead of as normal variants, and<br>\nas a result aren't included in the <code class=\"notranslate\">with_attached_</code> scopes. This adds<br>\nthose preview image attachments to the <code class=\"notranslate\">includes</code> of these scopes to<br>\navoid an N+1 when iterating over a collection of attachments and<br>\nfetching the key of their representation (variants).</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50560.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2064535826\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50560\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50560/hovercard\" href=\"https://github.com/rails/rails/issues/50560\">#50560</a></p>",
            "url": "https://github.com/rails/rails/pull/50758",
            "title": "Eagerly load preview images (N+1)",
            "date_modified": "2024-01-16T17:36:53.000Z",
            "date_published": "2024-01-15T19:03:14.000Z",
            "author": {
                "name": "tenderlove",
                "url": "https://github.com/tenderlove"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/140281190?u=6cf5ab673ff117a6711ca41493b1258a7db44d9c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I've been following the <a href=\"https://edgeguides.rubyonrails.org/getting_started.html\" rel=\"nofollow\">getting started guide</a>. Upon reaching the end of section 8.4, I noticed several differences between the output displayed in the guide's screenshot and what appeared on my computer (rails version: Rails 7.1.2, ruby version: ruby 3.2.2):</p>\n<ul dir=\"auto\">\n<li>The positioning of \"Edit/Back\" differs.</li>\n<li>While the guide provides an explanation for \"Destroy,\" it doesn't offer one for \"Back.\"</li>\n<li>My output lacked the \"Title:\" and \"Text:\" elements.</li>\n<li>The text \"Rails is Awesome!\" appeared larger due to the h1 tag.</li>\n</ul>\n<p dir=\"auto\">I would like to update the existing screenshot.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes article_with_comments.png in /guides/assets/images/getting_started.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: [Fix #issue-number]</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50756",
            "title": "Update the screenshot in the section 8.4 of Getting Started with Rails [ci skip]",
            "date_modified": "2024-01-15T14:04:41.000Z",
            "date_published": "2024-01-15T12:52:53.000Z",
            "author": {
                "name": "Angy-h",
                "url": "https://github.com/Angy-h"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/8156?u=8390870c130426ed6ddd95cbe048005615658771&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Sometimes you want to build a transformation based on the user input, or information persisted in the database (i.e.: add a watermark to a picture, crop based on user input)</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR allow the transformations to be built based on user input:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class User &lt; ApplicationRecord\n  has_one_attached :photo do |attachable|\n    attachable.variant :default, crop: :crop_positions\n    attachable.variant :thumb, crop: :crop_positions,\n                               resize_to_limit: [100, 100]\n  end\n\n  def crop_positions\n    [crop_x1, crop_y1, crop_x2, crop_y2]\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">User</span> &lt; <span class=\"pl-v\">ApplicationRecord</span>\n  <span class=\"pl-en\">has_one_attached</span> <span class=\"pl-pds\">:photo</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">attachable</span>|\n    <span class=\"pl-s1\">attachable</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">variant</span> <span class=\"pl-pds\">:default</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">crop</span>: <span class=\"pl-pds\">:crop_positions</span>\n    <span class=\"pl-s1\">attachable</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">variant</span> <span class=\"pl-pds\">:thumb</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">crop</span>: <span class=\"pl-pds\">:crop_positions</span><span class=\"pl-kos\">,</span>\n                               <span class=\"pl-pds\">resize_to_limit</span>: <span class=\"pl-kos\">[</span><span class=\"pl-c1\">100</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">100</span><span class=\"pl-kos\">]</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">crop_positions</span>\n    <span class=\"pl-kos\">[</span><span class=\"pl-en\">crop_x1</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">crop_y1</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">crop_x2</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">crop_y2</span><span class=\"pl-kos\">]</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50754",
            "title": "Allow named variants to evaluate dynamic transformation options",
            "date_modified": "2024-01-15T01:28:27.000Z",
            "date_published": "2024-01-15T01:18:24.000Z",
            "author": {
                "name": "xjunior",
                "url": "https://github.com/xjunior"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/39912547?u=c7ab43d184bf5df318171d1dbc7ca933859dec48&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because comments in <code class=\"notranslate\">ActionView::Helpers::FormHelper</code> refer to the deprecated <code class=\"notranslate\">form_for</code> instead of the recommended <code class=\"notranslate\">form_with</code>. This could potentially cause confusion for developers consulting the Rails API documentation, such as <a href=\"https://api.rubyonrails.org/classes/ActionView/Helpers/FormBuilder.html\" rel=\"nofollow\">Action View Form Builder page</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes  the comments in <code class=\"notranslate\">ActionView::Helpers::FormHelper</code>, replacing instances of <code class=\"notranslate\">form_for</code> with <code class=\"notranslate\">form_with</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">The Rails guide has already documented the usage of <code class=\"notranslate\">form_with</code> on the <a href=\"https://guides.rubyonrails.org/form_helpers.html\" rel=\"nofollow\">form_helpers page</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50744",
            "title": "docs: Update FormHelper comments to use `form_with` instead of `form_for` [ci skip]",
            "date_modified": "2024-01-13T17:32:43.000Z",
            "date_published": "2024-01-13T17:32:39.000Z",
            "author": {
                "name": "takatea",
                "url": "https://github.com/takatea"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/87183507?u=1374c66fb72815a8d824ed1a4b80b9f0ebc2d72e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because <code class=\"notranslate\">arel/select_manager_test.rb</code> is failling test</p>\n<h3 dir=\"auto\">Detail</h3>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"vscode ➜ /workspaces/rails/activerecord (main) $ bin/test test/cases/arel/select_manager_test.rb\"><pre class=\"notranslate\"><code class=\"notranslate\">vscode ➜ /workspaces/rails/activerecord (main) $ bin/test test/cases/arel/select_manager_test.rb\n</code></pre></div>\n<p dir=\"auto\">I Run the above test.<br>\nAt that time, if this <code class=\"notranslate\">require \"active_model\"</code> is not in <code class=\"notranslate\">activerecord/lib/arel.rb</code>, the following error will occur</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"NameError: uninitialized constant Arel::Nodes::ActiveModel\n    lib/arel/nodes/casted.rb:50:in `build_quoted'\n    test/cases/arel/select_manager_test.rb:686:in `block (2 levels) in &lt;class:SelectManagerTest&gt;'\"><pre class=\"notranslate\"><code class=\"notranslate\">NameError: uninitialized constant Arel::Nodes::ActiveModel\n    lib/arel/nodes/casted.rb:50:in `build_quoted'\n    test/cases/arel/select_manager_test.rb:686:in `block (2 levels) in &lt;class:SelectManagerTest&gt;'\n</code></pre></div>\n<p dir=\"auto\">Maybe from <a href=\"https://github.com/rails/rails/pull/41577\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/41577/hovercard\">this change</a>, the test is failing.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50741",
            "title": "Fix failing test due to active_model not loading",
            "date_modified": "2024-01-15T18:37:28.000Z",
            "date_published": "2024-01-13T12:31:34.000Z",
            "author": {
                "name": "koya1616",
                "url": "https://github.com/koya1616"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Currently there's about a 35% difference between tags generated using the <code class=\"notranslate\">TagBuilder</code> and tags generated by passing a positional argument to <code class=\"notranslate\">#tag</code>.</p>\n<p dir=\"auto\">This commit optimizes <code class=\"notranslate\">TagBuilder</code> to reduce that difference down to 13%.</p>\n<p dir=\"auto\">The first change is to perform less hash allocations by not splatting the options twice in the <code class=\"notranslate\">TagBuilder</code> (one at the <code class=\"notranslate\">tag.a</code> invocation, and one at <code class=\"notranslate\">tag_string</code>). The extra splat for <code class=\"notranslate\">tag_string</code> was moved into <code class=\"notranslate\">method_missing</code> since that is the only other caller of this private method.</p>\n<p dir=\"auto\">The other change is to only escape the content in <code class=\"notranslate\">tag_string</code> if it a non-empty.</p>\n<p dir=\"auto\">Benchmark:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"require &quot;action_view&quot;\nrequire &quot;benchmark/ips&quot;\n\nclass Foo\n  include ActionView::Helpers\nend\n\nhelpers = Foo.new\n\nBenchmark.ips do |x|\n  x.report(&quot;tag&quot;) { helpers.tag(&quot;a&quot;, href: &quot;foo&quot;) }\n  x.report(&quot;tag_builder&quot;) { helpers.tag.a(href: &quot;foo&quot;) }\n  x.compare!\nend\"><pre class=\"notranslate\"><code class=\"notranslate\">require \"action_view\"\nrequire \"benchmark/ips\"\n\nclass Foo\n  include ActionView::Helpers\nend\n\nhelpers = Foo.new\n\nBenchmark.ips do |x|\n  x.report(\"tag\") { helpers.tag(\"a\", href: \"foo\") }\n  x.report(\"tag_builder\") { helpers.tag.a(href: \"foo\") }\n  x.compare!\nend\n</code></pre></div>\n<p dir=\"auto\">Before:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"ruby 3.2.2 (2023-03-30 revision e51014f9c0) [arm64-darwin22]\nWarming up --------------------------------------\n                 tag    67.180k i/100ms\n         tag_builder    50.267k i/100ms\nCalculating -------------------------------------\n                 tag    673.064k (± 0.4%) i/s -      3.426M in   5.090520s\n         tag_builder    504.971k (± 0.4%) i/s -      2.564M in   5.076842s\n\nComparison:\n                 tag:   673063.7 i/s\n         tag_builder:   504971.4 i/s - 1.33x  slower\"><pre class=\"notranslate\"><code class=\"notranslate\">ruby 3.2.2 (2023-03-30 revision e51014f9c0) [arm64-darwin22]\nWarming up --------------------------------------\n                 tag    67.180k i/100ms\n         tag_builder    50.267k i/100ms\nCalculating -------------------------------------\n                 tag    673.064k (± 0.4%) i/s -      3.426M in   5.090520s\n         tag_builder    504.971k (± 0.4%) i/s -      2.564M in   5.076842s\n\nComparison:\n                 tag:   673063.7 i/s\n         tag_builder:   504971.4 i/s - 1.33x  slower\n</code></pre></div>\n<p dir=\"auto\">After:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"ruby 3.2.2 (2023-03-30 revision e51014f9c0) [arm64-darwin22]\nWarming up --------------------------------------\n                 tag    67.374k i/100ms\n         tag_builder    59.702k i/100ms\nCalculating -------------------------------------\n                 tag    670.837k (± 0.4%) i/s -      3.369M in   5.021714s\n         tag_builder    592.727k (± 1.3%) i/s -      2.985M in   5.037088s\n\nComparison:\n                 tag:   670836.6 i/s\n         tag_builder:   592726.7 i/s - 1.13x  slower\"><pre class=\"notranslate\"><code class=\"notranslate\">ruby 3.2.2 (2023-03-30 revision e51014f9c0) [arm64-darwin22]\nWarming up --------------------------------------\n                 tag    67.374k i/100ms\n         tag_builder    59.702k i/100ms\nCalculating -------------------------------------\n                 tag    670.837k (± 0.4%) i/s -      3.369M in   5.021714s\n         tag_builder    592.727k (± 1.3%) i/s -      2.985M in   5.037088s\n\nComparison:\n                 tag:   670836.6 i/s\n         tag_builder:   592726.7 i/s - 1.13x  slower\n</code></pre></div>",
            "url": "https://github.com/rails/rails/pull/50737",
            "title": "Optimize TagBuilder tag generation",
            "date_modified": "2024-01-16T11:41:25.000Z",
            "date_published": "2024-01-12T21:17:07.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54689845?u=a04d67675e25feecde73a4d56495a71fbeb2ea4a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because the documentation for composite primary keys wasn't correct.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">While working on <code class=\"notranslate\">shoulda-matchers</code> I noticed that the documentation is not correct. We actually need to declare the <code class=\"notranslate\">query_constraints</code> option in the <code class=\"notranslate\">has_many</code> association using the same attribute name as the ones in the associated object.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Author &lt; ApplicationRecord\n  self.primary_key = [:first_name, :last_name]\n  # This was incorrect as `first_name` and `last_name` don't exist on the `Book` model.\n  has_many :books, query_constraints: [:first_name, :last_name] \n  \n  # Correct way\n  has_many :books, query_constraints: [:author_first_name, :author_last_name]\nend\n\nclass Book &lt; ApplicationRecord\n  belongs_to :author, query_constraints: [:author_first_name, :author_last_name]\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Author</span> &lt; <span class=\"pl-v\">ApplicationRecord</span>\n  <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">primary_key</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:first_name</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:last_name</span><span class=\"pl-kos\">]</span>\n  <span class=\"pl-c\"># This was incorrect as `first_name` and `last_name` don't exist on the `Book` model.</span>\n  <span class=\"pl-en\">has_many</span> <span class=\"pl-pds\">:books</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">query_constraints</span>: <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:first_name</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:last_name</span><span class=\"pl-kos\">]</span> \n  \n  <span class=\"pl-c\"># Correct way</span>\n  <span class=\"pl-en\">has_many</span> <span class=\"pl-pds\">:books</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">query_constraints</span>: <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:author_first_name</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:author_last_name</span><span class=\"pl-kos\">]</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Book</span> &lt; <span class=\"pl-v\">ApplicationRecord</span>\n  <span class=\"pl-en\">belongs_to</span> <span class=\"pl-pds\">:author</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">query_constraints</span>: <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:author_first_name</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:author_last_name</span><span class=\"pl-kos\">]</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50734",
            "title": "docs: Adjust composite primary keys documentation [skip ci]",
            "date_modified": "2024-01-12T20:09:11.000Z",
            "date_published": "2024-01-12T18:49:57.000Z",
            "author": {
                "name": "matsales28",
                "url": "https://github.com/matsales28"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/32605754?u=3b608ad77eb86591a0b71ee304b689057824e5ab&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50732.\">Closes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2079353057\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50732\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50732/hovercard\" href=\"https://github.com/rails/rails/issues/50732\">#50732</a></p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">MySQL 5.7.5+ supports generated columns, which can be used to create a column that is computed from an expression. If single quotes are used in the definition of a default generated column, the schema dump will escape the quotes twice.</p>\n<p dir=\"auto\">In a scenario such as the following:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"create_table :people, force: true do |t|\n  t.string :first_name\n  t.string :last_name\n  t.string :full_name, default: -&gt; { &quot;(concat(`first_name`,_utf8mb4'-',`last_name`))&quot; }\nend\"><pre class=\"notranslate\"><span class=\"pl-en\">create_table</span> <span class=\"pl-pds\">:people</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">force</span>: <span class=\"pl-c1\">true</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n  <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">string</span> <span class=\"pl-pds\">:first_name</span>\n  <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">string</span> <span class=\"pl-pds\">:last_name</span>\n  <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">string</span> <span class=\"pl-pds\">:full_name</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">default</span>: <span class=\"pl-c1\">-&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-s\">\"(concat(`first_name`,_utf8mb4'-',`last_name`))\"</span> <span class=\"pl-kos\">}</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">We want the schema dump to look like this:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"t.string &quot;full_name&quot;, default: -&gt; { &quot;(concat(`first_name`,_utf8mb4'-',`last_name`))&quot; }\"><pre class=\"notranslate\"><span class=\"pl-en\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">string</span> <span class=\"pl-s\">\"full_name\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">default</span>: <span class=\"pl-c1\">-&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-s\">\"(concat(`first_name`,_utf8mb4'-',`last_name`))\"</span> <span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">And not this, which is how it now it is now:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"t.string &quot;full_name&quot;, default: -&gt; { &quot;(concat(`first_name`,_utf8mb4\\\\'-\\\\',`last_name`))&quot; }\"><pre class=\"notranslate\"><span class=\"pl-en\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">string</span> <span class=\"pl-s\">\"full_name\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">default</span>: <span class=\"pl-c1\">-&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-s\">\"(concat(`first_name`,_utf8mb4<span class=\"pl-cce\">\\\\</span>'-<span class=\"pl-cce\">\\\\</span>',`last_name`))\"</span> <span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">See the related issue for more on this.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the schema statement generator under the <code class=\"notranslate\">elsif</code> block for a column with <code class=\"notranslate\">DEFAULT_GENERATED</code> in the metadata.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50733",
            "title": "Fix MySQL escapes on default generated columns",
            "date_modified": "2024-01-16T16:43:12.000Z",
            "date_published": "2024-01-12T17:36:51.000Z",
            "author": {
                "name": "yash",
                "url": "https://github.com/yash"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/99700?u=e57f2b28c7e5ba71d425bc4d4a26192f122125a6&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The <code class=\"notranslate\">id</code> keyword argument passed to <a href=\"https://api.rubyonrails.org/classes/ActiveRecord/ConnectionAdapters/SchemaStatements.html#method-i-create_table\" rel=\"nofollow\">create_table</a> method allow to receive a hash with options for column creation but it's not documented.</p>",
            "url": "https://github.com/rails/rails/pull/50731",
            "title": "Document passing hash as id option on create_table",
            "date_modified": "2024-01-12T17:21:36.000Z",
            "date_published": "2024-01-12T17:21:32.000Z",
            "author": {
                "name": "javierav",
                "url": "https://github.com/javierav"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Follow-up to <a href=\"https://github.com/rails/rails/pull/49819\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49819/hovercard\">#49819</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Since <a href=\"https://github.com/rails/rails/pull/49819\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49819/hovercard\">#49819</a> resolves an issue with<br>\n<code class=\"notranslate\">ActionDispatch::IntegrationTest#with_routing</code> helper support, Action View's <code class=\"notranslate\">test/abstract_unit.rb</code> file can rely on routing being reset within the block argument.</p>\n<p dir=\"auto\">This means that the <code class=\"notranslate\">RoutedRackApp</code> class and <code class=\"notranslate\">.build_app</code> method is can be made unnecessary.</p>",
            "url": "https://github.com/rails/rails/pull/50727",
            "title": "Action View Tests: Use `#with_routing` helper",
            "date_modified": "2024-01-12T16:57:46.000Z",
            "date_published": "2024-01-12T14:36:26.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1100408?u=4ee1778b7ad20f4434193baeb963b976f36d0665&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I noticed there is an inconsistency in the system test scaffold where the model name is sometimes capitalised. This fixes the two instances where the model name is humanised.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"test &quot;should create user&quot;\ntest &quot;should update User&quot;\ntest &quot;should destroy User&quot;\"><pre class=\"notranslate\"><span class=\"pl-en\">test</span> <span class=\"pl-s\">\"should create user\"</span>\n<span class=\"pl-en\">test</span> <span class=\"pl-s\">\"should update User\"</span>\n<span class=\"pl-en\">test</span> <span class=\"pl-s\">\"should destroy User\"</span></pre></div>\n<p dir=\"auto\">Considering all the other scaffolds use lowercase text I think it's right these two are downcased in the same way.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50722",
            "title": "Downcase the model name in the system scaffolds",
            "date_modified": "2024-01-15T02:43:38.000Z",
            "date_published": "2024-01-12T10:51:23.000Z",
            "author": {
                "name": "dwightwatson",
                "url": "https://github.com/dwightwatson"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1734607?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">For <a href=\"https://github.com/rails/solid_cache\">Solid Cache</a>, we want to be able to read and write from the cache database without using the query cache.</p>\n<p dir=\"auto\">We also don't want to expire the query cache on other connection pools when we write. Writing to the Rails cache shouldn't invalidate the main query cache.</p>\n<p dir=\"auto\">This is an alternative to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2074094584\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50695\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50695/hovercard\" href=\"https://github.com/rails/rails/pull/50695\">#50695</a>, based on <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/byroot/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/byroot\">@byroot</a>'s <a href=\"https://github.com/rails/rails/pull/50695#issuecomment-1885312807\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50695/hovercard\">suggestion here</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">After a database write we clear the query cache on all connection pools. The change here is that we will now only do that if either the connection pool or the connection itself has the query cache enabled.</p>\n<p dir=\"auto\">The query cache is <a href=\"https://github.com/rails/rails/blob/cff2eb1be11cb729382b3674e3caa2bd198ec55e/activerecord/lib/active_record/query_cache.rb#L28-L42\">enabled on all connection pools</a> by the executor hooks, so to take advantage of this we'll need to add another executor hook that disables the query cache on the Solid Cache connection pool (but only when it has a dedicated pool).</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50721",
            "title": "Pool disabled query cache handling",
            "date_modified": "2024-01-12T13:43:25.000Z",
            "date_published": "2024-01-12T09:06:56.000Z",
            "author": {
                "name": "djmb",
                "url": "https://github.com/djmb"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Splits the examples for <code class=\"notranslate\">#clone</code> into separate sections for easier scanability.</p>\n<p dir=\"auto\">Adds examples to <code class=\"notranslate\">#dup</code> to clarify the difference with <code class=\"notranslate\">#clone</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50717",
            "title": "Expand documentation for ActiveRecord::Core #dup and #clone",
            "date_modified": "2024-01-16T13:25:32.000Z",
            "date_published": "2024-01-11T19:46:53.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5122678?u=204301f9f9fe8930fd26fe3bfe65b6ffaffd8b59&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The previous recommendation to place constraints in <code class=\"notranslate\">lib/constraints</code> did not work in practice on a default Rails install, as it will raise the following:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"uninitialized constant Iphone (NameError)\"><pre class=\"notranslate\"><code class=\"notranslate\">uninitialized constant Iphone (NameError)\n</code></pre></div>\n<p dir=\"auto\">Instead, recommend placing constraints in <code class=\"notranslate\">app/constraints</code> such that they will be eager loaded.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Alternatively, we could update the documentation to elaborate that <code class=\"notranslate\">lib/constraints</code> would need to be explicitly eager loaded.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"config.eager_load_paths &lt;&lt; Rails.root.join(&quot;lib/constraints&quot;)\"><pre class=\"notranslate\"><span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">eager_load_paths</span> &lt;&lt; <span class=\"pl-v\">Rails</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">root</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">join</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"lib/constraints\"</span><span class=\"pl-kos\">)</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50710",
            "title": "Update `ActionDispatch::Routing::Mapper:Scoping#constraints` documentation",
            "date_modified": "2024-01-11T16:50:36.000Z",
            "date_published": "2024-01-11T16:50:31.000Z",
            "author": {
                "name": "stevepolitodesign",
                "url": "https://github.com/stevepolitodesign"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/19192189?u=dd60737844a9db7f1475bab21fc3e5258a405e15&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Ref: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2067221565\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50594\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50594/hovercard\" href=\"https://github.com/rails/rails/pull/50594\">#50594</a></p>\n<p dir=\"auto\">Opening a PR because the backport is non-trivial, so I want CI coverage. Also <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/ghiculescu/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ghiculescu\">@ghiculescu</a> pointed a possible issue in <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/d429bfb3b6fd2794f0d859b68e5dee24578d405f/hovercard\" href=\"https://github.com/rails/rails/commit/d429bfb3b6fd2794f0d859b68e5dee24578d405f\"><tt>d429bfb</tt></a> so I'd like to get to the bottom of that before merging the backport.</p>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/rafaelfranca/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rafaelfranca\">@rafaelfranca</a></p>",
            "url": "https://github.com/rails/rails/pull/50705",
            "title": "Backport: Define missing attribute methods from `method_missing`",
            "date_modified": "2024-01-11T08:26:29.000Z",
            "date_published": "2024-01-11T08:26:24.000Z",
            "author": {
                "name": "casperisfine",
                "url": "https://github.com/casperisfine"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4468155?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because I noticed that Rails does not warn the user when they specify a non-existing directory in the <code class=\"notranslate\">config.autoload_paths</code> or <code class=\"notranslate\">config.autoload_once_paths</code> settings. This can lead to confusion and hard-to-debug errors when the user expects some files to be loaded but they are not.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request add a warning message when specified paths for <code class=\"notranslate\">config.autoload_paths</code> and <code class=\"notranslate\">config.autoload_once_paths</code> are not existing directories.<br>\nBelow is the example message:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"config.autoload_paths must be existing directories.\n'/wrong/path/to/load' is not an existing directory.\"><pre class=\"notranslate\"><code class=\"notranslate\">config.autoload_paths must be existing directories.\n'/wrong/path/to/load' is not an existing directory.\n</code></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Since this PR does not change the behavior itself, I believe existing tests cover this PR.</p>\n<p dir=\"auto\">The warning message has been inspired by the following code.<br>\n</p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/91968e5a185927b8216b82c860a48b6367285456/railties/lib/rails/application/bootstrap.rb#L23-L30\">rails/railties/lib/rails/application/bootstrap.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 23 to 30\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/91968e5a185927b8216b82c860a48b6367285456\">91968e5</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L23\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"23\"></td>\n          <td id=\"LC23\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">           <span class=\"pl-en\">warn</span> <span class=\"pl-s\">&lt;&lt;~INFO</span><span class=\"pl-s\"></span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L24\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"24\"></td>\n          <td id=\"LC24\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s\">            config.eager_load is set to nil. Please update your config/environments/*.rb files accordingly:</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L25\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"25\"></td>\n          <td id=\"LC25\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s\"></span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L26\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"26\"></td>\n          <td id=\"LC26\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s\">              * development - set it to false</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L27\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"27\"></td>\n          <td id=\"LC27\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s\">              * test - set it to false (unless you use a tool that preloads your test environment)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L28\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"28\"></td>\n          <td id=\"LC28\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s\">              * production - set it to true</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L29\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"29\"></td>\n          <td id=\"LC29\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s\"></span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L30\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"30\"></td>\n          <td id=\"LC30\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s\">          INFO</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50703",
            "title": "Add warning for non-existent directories in autoload paths for Zeitwerk",
            "date_modified": "2024-01-15T04:29:05.000Z",
            "date_published": "2024-01-11T07:28:26.000Z",
            "author": {
                "name": "aeroastro",
                "url": "https://github.com/aeroastro"
            }
        }
    ]
}