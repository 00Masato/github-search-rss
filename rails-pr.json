{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Fixes CI:<br>\n<a href=\"https://buildkite.com/rails/rails/builds/103078\" rel=\"nofollow\">https://buildkite.com/rails/rails/builds/103078</a></p>\n<p dir=\"auto\">This gem is used in Railties tests so it must be a development dependency. Due to the fixture rails app tmp/rails/app_template faking Bundler and using the repo's Gemfile: </p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/0fb5f67ac413d62df64b8b59094b4fe85999b5c1/railties/test/isolation/abstract_unit.rb#L618-L622\">rails/railties/test/isolation/abstract_unit.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 618 to 622\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/0fb5f67ac413d62df64b8b59094b4fe85999b5c1\">0fb5f67</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L618\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"618\"></td>\n          <td id=\"LC618\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c\"># Fake 'Bundler.require' -- we run using the repo's Gemfile, not an</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L619\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"619\"></td>\n          <td id=\"LC619\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c\"># app-specific one: we don't want to require every gem that lists.</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L620\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"620\"></td>\n          <td id=\"LC620\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s1\">contents</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">File</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">read</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-en\">app_template_path</span><span class=\"pl-kos\">}</span></span>/config/application.rb\"</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L621\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"621\"></td>\n          <td id=\"LC621\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s1\">contents</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">sub!</span><span class=\"pl-kos\">(</span><span class=\"pl-sr\">/^Bundler<span class=\"pl-cce\">\\.</span>require.*/</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"%w(sprockets/railtie importmap-rails).each { |r| require r }\"</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L622\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"622\"></td>\n          <td id=\"LC622\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-v\">File</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">write</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-en\">app_template_path</span><span class=\"pl-kos\">}</span></span>/config/application.rb\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">contents</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">/cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewd/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewd\">@matthewd</a> as you wrote <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/e4b0488851c65d73433621263e66f1e4c295eec0/hovercard\" href=\"https://github.com/rails/rails/commit/e4b0488851c65d73433621263e66f1e4c295eec0\"><tt>e4b0488</tt></a></p>",
            "url": "https://github.com/rails/rails/pull/50495",
            "title": "Add rubocop-rails-omakase as development dependency",
            "date_modified": "2023-12-31T03:23:35.000Z",
            "date_published": "2023-12-31T03:07:40.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">When using async queries inside controllers, I noticed too large db runtime values and negative view runtime values in the logs, something like:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Completed 200 OK in 133ms (Views: -25271.4ms | ActiveRecord: 25329.3ms | Allocations: 29036)\"><pre class=\"notranslate\"><code class=\"notranslate\">Completed 200 OK in 133ms (Views: -25271.4ms | ActiveRecord: 25329.3ms | Allocations: 29036)\n</code></pre></div>\n<p dir=\"auto\">Turned out, that the problem is in a recent change from <a class=\"commit-link\" href=\"https://github.com/rails/rails/commit/f56b4187be56304857b57ec7159a8e2dc2b91dea#diff-fc921d14f4dc8556c4b8cd785f350ec728fe07c8b884fbc3a0b4cbc9ec5eafffR28\"><tt>f56b418</tt>#diff-fc921d14f4dc8556c4b8cd785f350ec728fe07c8b884fbc3a0b4cbc9ec5eafffR28</a><br>\nThere is no need to multiply by <code class=\"notranslate\">1000</code>, because the values are already in milliseconds.</p>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/byroot/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/byroot\">@byroot</a></p>",
            "url": "https://github.com/rails/rails/pull/50493",
            "title": "Fix calculation of Active Record :db_runtime metric",
            "date_modified": "2023-12-30T22:14:40.000Z",
            "date_published": "2023-12-30T22:14:36.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">After the <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2051330057\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50410\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50410/hovercard\" href=\"https://github.com/rails/rails/pull/50410\">#50410</a> merge, now <code class=\"notranslate\">load_async</code> is not working.<br>\nFor simple <code class=\"notranslate\">@users = User.all.load_async</code> int the controller and <code class=\"notranslate\">@users.each</code> in the view I got</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"undefined method `column_types' for #&lt;ActiveRecord::FutureResult::SelectAll:0x000000010b18abf8\"><pre class=\"notranslate\"><code class=\"notranslate\">undefined method `column_types' for #&lt;ActiveRecord::FutureResult::SelectAll:0x000000010b18abf8\n</code></pre></div>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/byroot/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/byroot\">@byroot</a></p>",
            "url": "https://github.com/rails/rails/pull/50492",
            "title": "Fix `load_async` to work with query cache",
            "date_modified": "2023-12-30T22:14:33.000Z",
            "date_published": "2023-12-30T22:14:29.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/44640?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Until now, Rails only droped compatibility with older rubies on new majors, but I propose to change this policy because it causes us to either keep compatibility with long EOLed rubies or to bump the Rails major more often, and to drop multiple Ruby versions at once when we bump the major.</p>\n<p dir=\"auto\">In my opinion it's a bad alignments of incentives. And we'd be much better to just drop support in new minors whenever they go EOL (so 3 years).</p>\n<p dir=\"auto\">Also Ruby being an upstream dependency, it's not even a semver violation AFAICT.</p>\n<p dir=\"auto\">Since Rails 7.2 isn't planned before a few months, we can already drop Ruby 3.0 as it will be EOL in March.</p>\n<p dir=\"auto\">FYI <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewd/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewd\">@matthewd</a> since I think I remember you having opinions about this.</p>",
            "url": "https://github.com/rails/rails/pull/50491",
            "title": "Bump the required Ruby version to 3.1.0",
            "date_modified": "2023-12-31T07:57:03.000Z",
            "date_published": "2023-12-30T18:56:03.000Z",
            "author": {
                "name": "byroot",
                "url": "https://github.com/byroot"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2741?u=387c085565dc648f11d835558ad1b6d524ddc91d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Add rate limiting API using Redis and the <a href=\"https://github.com/rails/kredis/blob/main/lib/kredis/types/limiter.rb\">Kredis limiter type</a>.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class SessionsController &lt; ApplicationController\n  rate_limit to: 10, within: 3.minutes, only: :create\nend\n\nclass SignupsController &lt; ApplicationController\n  rate_limit to: 1000, within: 10.seconds,\n    by: -&gt; { request.domain }, with: -&gt; { redirect_to busy_controller_url, alert: &quot;Too many signups!&quot; }, only: :new\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">SessionsController</span> &lt; <span class=\"pl-v\">ApplicationController</span>\n  <span class=\"pl-en\">rate_limit</span> <span class=\"pl-pds\">to</span>: <span class=\"pl-c1\">10</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">within</span>: <span class=\"pl-c1\">3</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">minutes</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">only</span>: <span class=\"pl-pds\">:create</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">SignupsController</span> &lt; <span class=\"pl-v\">ApplicationController</span>\n  <span class=\"pl-en\">rate_limit</span> <span class=\"pl-pds\">to</span>: <span class=\"pl-c1\">1000</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">within</span>: <span class=\"pl-c1\">10</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">seconds</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-pds\">by</span>: <span class=\"pl-c1\">-&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">request</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">domain</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">with</span>: <span class=\"pl-c1\">-&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">redirect_to</span> <span class=\"pl-en\">busy_controller_url</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">alert</span>: <span class=\"pl-s\">\"Too many signups!\"</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">only</span>: <span class=\"pl-pds\">:new</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">Note: Rate limiting relies on the application having an accessible Redis server and on Kredis 1.7.0+ being available in the bundle.</p>",
            "url": "https://github.com/rails/rails/pull/50490",
            "title": "Add rate limiting to Action Controller via the Kredis limiter type",
            "date_modified": "2023-12-31T07:56:57.000Z",
            "date_published": "2023-12-30T15:29:22.000Z",
            "author": {
                "name": "dhh",
                "url": "https://github.com/dhh"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/9440?u=a4eb4f17b0cb1b0ebe33461a97590fdc0340ba7f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">ActiveSupport::Deprecation used to <code class=\"notranslate\">include Singleton</code> which is why the require is here, but it was removed in <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/9812641891f1c9ba4c3f8ffb8549ec26fc2668c4/hovercard\" href=\"https://github.com/rails/rails/commit/9812641891f1c9ba4c3f8ffb8549ec26fc2668c4\"><tt>9812641</tt></a> (June 5 2023). Leaving the require seems to have been an oversight.</p>\n<p dir=\"auto\">However, module ActiveJob::Serializers::ObjectSerializer does require Singleton and was relying on AS:Deprecation to require it. This PR just moves the require to the place it's actually used, this is way less confusing.</p>\n<p dir=\"auto\">The case for moving it is that it's confusing where it is, and it requires additional code that isn't needed if people are just requiring activesupport. The require where it was may also have prevented activejob from being required independently.</p>\n<p dir=\"auto\">The danger is that people have code running out there that uses Singleton but are leaning on the require in activesupport to load it, and removing the require will break that code. They /shouldn't/ be doing this, but it's possible.</p>",
            "url": "https://github.com/rails/rails/pull/50488",
            "title": "Move singleton require",
            "date_modified": "2023-12-30T12:47:13.000Z",
            "date_published": "2023-12-30T11:53:41.000Z",
            "author": {
                "name": "wjessop",
                "url": "https://github.com/wjessop"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/699616?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">In Rails 7.0 despite api documention, <code class=\"notranslate\">readonly_attributes</code> returned a set:<br>\n<a href=\"https://github.com/rails/rails/blob/7-0-stable/activerecord/lib/active_record/readonly_attributes.rb#L26\">https://github.com/rails/rails/blob/7-0-stable/activerecord/lib/active_record/readonly_attributes.rb#L26</a></p>\n<p dir=\"auto\">This was fixed in 7.1:<br>\n<a href=\"https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/readonly_attributes.rb#L31\">https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/readonly_attributes.rb#L31</a></p>\n<p dir=\"auto\">However the usage of <code class=\"notranslate\">readonly_attributes</code> was guarded with a .to_a which is now no longer needed </p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/590a675c4ecfaa9b7b06787a30adeb0136524879/activerecord/lib/active_record/insert_all.rb#L195\">rails/activerecord/lib/active_record/insert_all.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 195\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/590a675c4ecfaa9b7b06787a30adeb0136524879\">590a675</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L195\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"195\"></td>\n          <td id=\"LC195\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-en\">primary_keys</span> + <span class=\"pl-en\">model</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">readonly_attributes</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_a</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes an unnecessary to_a call</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n</ul>\n<p dir=\"auto\">NA:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50487",
            "title": "Remove unnecessary to_a conversion for readonly_attributes method call",
            "date_modified": "2023-12-30T04:06:54.000Z",
            "date_published": "2023-12-30T04:06:50.000Z",
            "author": {
                "name": "jprosevear",
                "url": "https://github.com/jprosevear"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><code class=\"notranslate\">explain</code> can be called on a relation to explain how the database would execute a query.<br>\nCurrently <code class=\"notranslate\">explain</code> doesn't work for queries using <code class=\"notranslate\">last</code>, <code class=\"notranslate\">pluck</code> or <code class=\"notranslate\">count</code>, as these return the actual result instead of a relation. This makes it difficult to optimize these queries.</p>\n<p dir=\"auto\">By letting <code class=\"notranslate\">explain</code> return a proxy instead, we can support these methods.</p>\n<h3 dir=\"auto\">Detail</h3>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"User.all.explain.count\n# =&gt; &quot;EXPLAIN SELECT COUNT(*) FROM `users`&quot;\n\nUser.all.explain.maximum(:id)\n# =&gt; &quot;EXPLAIN SELECT MAX(`users`.`id`) FROM `users`&quot;\"><pre class=\"notranslate\"><span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">explain</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">count</span>\n<span class=\"pl-c\"># =&gt; \"EXPLAIN SELECT COUNT(*) FROM `users`\"</span>\n\n<span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">explain</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">maximum</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:id</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># =&gt; \"EXPLAIN SELECT MAX(`users`.`id`) FROM `users`\"</span></pre></div>\n<p dir=\"auto\">This breaks the existing behaviour in that it requires calling inspect after explain.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"User.all.explain.inspect\n# =&gt; &quot;EXPLAIN SELECT `users`.* FROM `users`&quot;\"><pre class=\"notranslate\"><span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">explain</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">inspect</span>\n<span class=\"pl-c\"># =&gt; \"EXPLAIN SELECT `users`.* FROM `users`\"</span></pre></div>\n<p dir=\"auto\">However, as <code class=\"notranslate\">explain</code> is mostly used from the commandline, this won't be a problem as inspect is called automatically in IRB.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This is a variation of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2052988237\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50424\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50424/hovercard\" href=\"https://github.com/rails/rails/pull/50424\">#50424</a> which used arguments instead of a proxy and method calls.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50482",
            "title": "Add `explain` support for methods like `last`, `pluck` and `count`",
            "date_modified": "2023-12-30T08:10:37.000Z",
            "date_published": "2023-12-29T15:15:27.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50448.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2056748267\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50448\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50448/hovercard\" href=\"https://github.com/rails/rails/issues/50448\">#50448</a></p>\n<p dir=\"auto\">NOTE: This is a proof-of-concept, that I came up with based on my understanding of ActiveRecord::DatabaseConfigurations and try to find a tiny seam to add support for this feature. Open to feedback and suggestions, but wanted to take a stab at this while it was fresh in my head.</p>",
            "url": "https://github.com/rails/rails/pull/50477",
            "title": "Active Storage can be configured by STORAGE_URL",
            "date_modified": "2023-12-29T06:38:11.000Z",
            "date_published": "2023-12-29T06:36:26.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/923418?u=adac721c7f9d008c9dedd36b7197c6a1e7e042a2&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background &amp; Detail</h3>\n<p dir=\"auto\"><a href=\"https://api.rubyonrails.org/v7.1.2/classes/ActiveRecord/ConnectionAdapters/SchemaStatements.html#method-i-create_table\" rel=\"nofollow\"><code class=\"notranslate\">create_table</code></a> provides an <code class=\"notranslate\">options:</code> key that allows you to append options to your table definition. One of the things you can do this way with PostgreSQL 12+ is use <a href=\"https://www.postgresql.org/docs/current/ddl-partitioning.html\" rel=\"nofollow\">native partitioning</a> to declare partitioning definitions:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"create_table :events, id: false, options: &quot;PARTITION BY LIST (account_id)&quot; do |t|\n  t.bigint :account_id, null: false\n  t.integer :kind, null: false\n  t.datetime :occurred_at, null: false\nend\"><pre class=\"notranslate\"><code class=\"notranslate\">create_table :events, id: false, options: \"PARTITION BY LIST (account_id)\" do |t|\n  t.bigint :account_id, null: false\n  t.integer :kind, null: false\n  t.datetime :occurred_at, null: false\nend\n</code></pre></div>\n<p dir=\"auto\">Adding this to a migration and running it will properly create the partitioned table in development, but the dumped schema will not persist the specified partitioning options. Therefore, if you run your test suite which loads from <code class=\"notranslate\">schema.rb</code>, your test database's table won't be properly partitioned.</p>\n<p dir=\"auto\">This PR extends the PostgeSQL adapter's schema statements so that it can dump this partitioning definition as defined in the relevant system tables.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50475",
            "title": "support dumping postgres partitioning options to schema",
            "date_modified": "2023-12-28T21:46:25.000Z",
            "date_published": "2023-12-28T21:23:47.000Z",
            "author": {
                "name": "waymondo",
                "url": "https://github.com/waymondo"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Since <code class=\"notranslate\">ActionText::Content</code> wraps an <code class=\"notranslate\">ActionText::Fragment</code>, and <code class=\"notranslate\">ActionText::Fragment</code> wraps a <code class=\"notranslate\">Nokogiri::XML::DocumentFragment</code>, then <code class=\"notranslate\">ActionText::Content</code> should be able to rely on the newer Ruby pattern matching introduced by <a href=\"https://nokogiri.org/CHANGELOG.html?h=pattern\" rel=\"nofollow\">nokogiri@1.16.0</a> (mainly the <a href=\"https://nokogiri.org/rdoc/Nokogiri/XML/DocumentFragment.html?h=deconstruct#method-i-deconstruct\" rel=\"nofollow\">DocumentFragment#deconstruct</a> method):</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"content = ActionText::Content.new &lt;&lt;~HTML\n  &lt;h1&gt;Hello, world&lt;/h1&gt;\n\n  &lt;div&gt;The body&lt;/div&gt;\nHTML\n\ncontent =&gt; [h1, div]\n\nassert_pattern { h1 =&gt; { content: &quot;Hello, world&quot; } }\nassert_pattern { div =&gt; { content: &quot;The body&quot; } }\"><pre class=\"notranslate\"><span class=\"pl-s1\">content</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">ActionText</span>::<span class=\"pl-v\">Content</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span> <span class=\"pl-s\">&lt;&lt;~HTML</span><span class=\"pl-s\"></span>\n<span class=\"pl-s\">  <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">h1</span><span class=\"pl-kos\">&gt;</span>Hello, world<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">h1</span><span class=\"pl-kos\">&gt;</span></span>\n<span class=\"pl-s\"></span>\n<span class=\"pl-s\">  <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">div</span><span class=\"pl-kos\">&gt;</span>The body<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">div</span><span class=\"pl-kos\">&gt;</span></span>\n<span class=\"pl-s\">HTML</span>\n\n<span class=\"pl-s1\">content</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">[</span><span class=\"pl-en\">h1</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">div</span><span class=\"pl-kos\">]</span>\n\n<span class=\"pl-en\">assert_pattern</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">h1</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">content</span>: <span class=\"pl-s\">\"Hello, world\"</span> <span class=\"pl-kos\">}</span> <span class=\"pl-kos\">}</span>\n<span class=\"pl-en\">assert_pattern</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">div</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">content</span>: <span class=\"pl-s\">\"The body\"</span> <span class=\"pl-kos\">}</span> <span class=\"pl-kos\">}</span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The implementation change relies on delegating from <code class=\"notranslate\">Content</code> to <code class=\"notranslate\">Fragment</code>, and from <code class=\"notranslate\">Fragment</code> to <code class=\"notranslate\">DocumentFragment#elements</code> (to deliberately exclude text nodes).</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50473",
            "title": "Delegate `ActionText::Content#deconstruct` to Nokogiri",
            "date_modified": "2023-12-28T14:26:21.000Z",
            "date_published": "2023-12-28T14:23:58.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Utilizing the <a href=\"https://edgeapi.rubyonrails.org/classes/ActionText/FixtureSet.html#method-c-attachment\" rel=\"nofollow\">ActionText::FixtureSet.attachment</a> method in consumer application's test suites relies on a hard-coded<br>\n<code class=\"notranslate\">action-text-attachment</code> element tag name. While it's uncommon for that value to change, it <em>is</em> possible to configure it with the <code class=\"notranslate\">config.action_text.attachment_tag_name</code> configuration.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit replaces the hard-coded name by interpolating <code class=\"notranslate\">ActionText::Attachment.tag_name</code>.</p>\n<p dir=\"auto\">Internal to the Rails test suite, Action Text's fixtures use HTML with <code class=\"notranslate\">&lt;p&gt;</code> elements to wrap new blocks of text. Trix uses <code class=\"notranslate\">&lt;div&gt;</code> elements by default for line breaking (and for <a href=\"https://github.com/basecamp/trix/issues/202#issuecomment-461166895\" data-hovercard-type=\"issue\" data-hovercard-url=\"/basecamp/trix/issues/202/hovercard\">other historical reasons</a>). This change is internal to this codebase, and will not affect users.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50472",
            "title": "Read `ActionText::Attachment.tag_name` in Action Text Fixtures",
            "date_modified": "2023-12-28T13:54:41.000Z",
            "date_published": "2023-12-28T13:54:36.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The introduction of the block argument means that <code class=\"notranslate\">Object#with</code> can now accept a <code class=\"notranslate\">Symbol#to_proc</code> as the block argument:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"client.with(timeout: 5_000, &amp;:ping)\"><pre class=\"notranslate\"><span class=\"pl-en\">client</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">with</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">timeout</span>: <span class=\"pl-c1\">5_000</span><span class=\"pl-kos\">,</span> &amp;<span class=\"pl-pds\">:ping</span><span class=\"pl-kos\">)</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50470",
            "title": "Yield instance to `Object#with` block",
            "date_modified": "2023-12-28T13:12:47.000Z",
            "date_published": "2023-12-28T13:12:43.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4910785?u=bb262553df264faad2f515f6ea75067266e0d129&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This Pull Request has been created because of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2056741953\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50445\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50445/hovercard?comment_id=1870716582&amp;comment_type=issue_comment\" href=\"https://github.com/rails/rails/issues/50445#issuecomment-1870716582\">#50445 (comment)</a> and to better collaborate on a public API.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request implements a first draft for a potential unsupported browser blocking middleware for Rails 8.</p>\n<p dir=\"auto\">Once the public API is defined more clearly, I can add tests, docs, change the internal implementation etc.</p>\n<p dir=\"auto\">Things I'd like to add:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"config.browser_guard do |guard|\n  guard.report_only # Don't block actual browsers but call the error handler to report unsupported UAs\nend\"><pre class=\"notranslate\"><span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">browser_guard</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">guard</span>|\n  <span class=\"pl-s1\">guard</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">report_only</span> <span class=\"pl-c\"># Don't block actual browsers but call the error handler to report unsupported UAs</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">A mechanism to just block certain browsers:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"config.browser_guard do |guard|\n  guard.block_browser(:internet_explorer) # blocks all versions of internet explorer\nend\"><pre class=\"notranslate\"><span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">browser_guard</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">guard</span>|\n  <span class=\"pl-s1\">guard</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">block_browser</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:internet_explorer</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\"># blocks all versions of internet explorer</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\"><a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/dhh/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/dhh\">@dhh</a> I could not assign you on PR creation (I guess because of missing permissions), I'm pinging you instead. Thank you for taking a look 👍</p>",
            "url": "https://github.com/rails/rails/pull/50467",
            "title": "Browser blocking for Rails 8",
            "date_modified": "2023-12-30T16:15:24.000Z",
            "date_published": "2023-12-28T01:56:17.000Z",
            "author": {
                "name": "codergeek121",
                "url": "https://github.com/codergeek121"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Ref <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2057784501\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50465\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50465/hovercard\" href=\"https://github.com/rails/rails/issues/50465\">#50465</a></p>\n<p dir=\"auto\">Previously, it was theoretically possible to define a route with a Symbol as a <code class=\"notranslate\">to:</code> value (or at least, it would not raise a <code class=\"notranslate\">NoMethodError</code>). However, passing a Symbol broke when <code class=\"notranslate\">/#/.match?(to)</code> was <a href=\"https://github.com/rails/rails/commit/5726b1d1d7665c33830ad114f45258ecf772b7b6\">replaced</a> with <code class=\"notranslate\">to&amp;.include?(\"#\")</code> with the assumption that <code class=\"notranslate\">to</code> was always a String.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit fixes the issue by calling <code class=\"notranslate\">to_s</code> on the <code class=\"notranslate\">to:</code> value before calling <code class=\"notranslate\">includes?</code> to prevent the <code class=\"notranslate\">NoMethodError</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">I considered writing a test but testing that a symbol is allowed seems wrong when it doesn't actually work (it tries to split the symbol into controller/action, and returns nil for both if symbol). Maybe alternatively we proactively raise an <code class=\"notranslate\">ArgumentError</code> if the <code class=\"notranslate\">to</code> value isn't a <code class=\"notranslate\">String</code> (after the <code class=\"notranslate\">respond_to?</code> checks)?</p>\n<p dir=\"auto\">If accepted, this should be backported to <code class=\"notranslate\">7-1-stable</code></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50466",
            "title": "Fix NoMethodError when to: value is Symbol",
            "date_modified": "2023-12-31T06:04:15.000Z",
            "date_published": "2023-12-27T22:24:43.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5148?u=16a958717ad4cf89b260916f4ef52a9ef4aff433&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Round mode option was added in <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/7905bdfd8b2ae50319cd7a9a74ee1f8c865d648d/hovercard\" href=\"https://github.com/rails/rails/commit/7905bdfd8b2ae50319cd7a9a74ee1f8c865d648d\"><tt>7905bdf</tt></a> and it was documented in <a href=\"https://github.com/vlado/rails/blob/main/activesupport/lib/active_support/number_helper.rb\">active supports number helper</a> only.</p>\n<p dir=\"auto\"><a href=\"https://github.com/vlado/rails/blob/main/actionview/lib/action_view/helpers/number_helper.rb\">Action views number helper</a> is using active supports helper and accepts <code class=\"notranslate\">round_mode</code> option so it should be documented there also.</p>\n<h3 dir=\"auto\">Additional info</h3>\n<p dir=\"auto\">I've also took time to unify examples and to make it clear that they return string and not a number.</p>",
            "url": "https://github.com/rails/rails/pull/50464",
            "title": "Document `round_mode` option in action view's number helper [ci skip]",
            "date_modified": "2023-12-27T21:08:40.000Z",
            "date_published": "2023-12-27T21:08:35.000Z",
            "author": {
                "name": "vlado",
                "url": "https://github.com/vlado"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5077225?u=e9f968c9eb790ee7734442f6b7998155400ad1d8&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Any PRAGMA configuration set under the <code class=\"notranslate\">pragmas</code> key in the configuration file take precedence over Rails' defaults, and additional PRAGMAs can be set as well.</p>\n<div class=\"highlight highlight-source-yaml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"database: storage/development.sqlite3\ntimeout: 5000\npragmas:\n  journal_mode: off\n  temp_store: memory\"><pre class=\"notranslate\"><span class=\"pl-ent\">database</span>: <span class=\"pl-s\">storage/development.sqlite3</span>\n<span class=\"pl-ent\">timeout</span>: <span class=\"pl-c1\">5000</span>\n<span class=\"pl-ent\">pragmas</span>:\n  <span class=\"pl-ent\">journal_mode</span>: <span class=\"pl-s\">off</span>\n  <span class=\"pl-ent\">temp_store</span>: <span class=\"pl-s\">memory</span></pre></div>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This is an alternative to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1950437094\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49691\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49691/hovercard\" href=\"https://github.com/rails/rails/pull/49691\">#49691</a>, following <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewd/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewd\">@matthewd</a>'s suggestions.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request allows the 7.1 default SQLite configuration to be overridden via values set under the <code class=\"notranslate\">pragmas</code> key in the <code class=\"notranslate\">database.yml</code> file. Moreover, it allows other SQLite PRAGMAs to be set via the <code class=\"notranslate\">pragmas</code> key, and will ignore and warn for any unknown pragmas.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50460",
            "title": "Allow overriding SQLite defaults from `database.yml`",
            "date_modified": "2023-12-29T19:59:49.000Z",
            "date_published": "2023-12-27T14:52:19.000Z",
            "author": {
                "name": "fractaledmind",
                "url": "https://github.com/fractaledmind"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Migrations are not run on replicas, so there is no need to configure <code class=\"notranslate\">migrations_paths</code> on them.</p>",
            "url": "https://github.com/rails/rails/pull/50439",
            "title": "Remove setting `migrations_paths` for replicas from the docs [skip ci]",
            "date_modified": "2023-12-25T22:30:21.000Z",
            "date_published": "2023-12-25T13:00:46.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Follow up to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"946523283\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/42804\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/42804/hovercard\" href=\"https://github.com/rails/rails/pull/42804\">#42804</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1035540671\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/43530\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/43530/hovercard\" href=\"https://github.com/rails/rails/pull/43530\">#43530</a>.</p>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/eileencodes/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/eileencodes\">@eileencodes</a></p>",
            "url": "https://github.com/rails/rails/pull/50438",
            "title": "Add `schema_dump` docs to the multiple databases docs [skip ci]",
            "date_modified": "2023-12-25T20:46:36.000Z",
            "date_published": "2023-12-25T12:43:33.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This was the first approach that came to mind, maybe would be interesting to demonstrate using the built-in <a href=\"https://edgeapi.rubyonrails.org/classes/ActionCable/TestHelper.html\" rel=\"nofollow\">TestHelper</a>.</p>\n<p dir=\"auto\">There is probably some work to get this passing in CI, similar to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1931267992\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49527\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49527/hovercard\" href=\"https://github.com/rails/rails/pull/49527\">#49527</a>, too.</p>",
            "url": "https://github.com/rails/rails/pull/50437",
            "title": "Add a bug report for Action Cable",
            "date_modified": "2023-12-25T12:47:23.000Z",
            "date_published": "2023-12-25T12:05:15.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        }
    ]
}