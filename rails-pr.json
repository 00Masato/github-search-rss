{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50315.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2033986021\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50315\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50315/hovercard\" href=\"https://github.com/rails/rails/issues/50315\">#50315</a>.</p>\n<p dir=\"auto\">For polymorphic association with query constraints, we get incorrect value for primary key (specifically, <code class=\"notranslate\">\"id\"</code> in the referenced issue) here<br>\n</p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/5c4a7a711068c1dff2bd873da510ddbb82dcadd7/activerecord/lib/active_record/reflection.rb#L870-L882\">rails/activerecord/lib/active_record/reflection.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 870 to 882\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/5c4a7a711068c1dff2bd873da510ddbb82dcadd7\">5c4a7a7</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L870\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"870\"></td>\n          <td id=\"LC870\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">association_primary_key</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">klass</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">nil</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L871\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"871\"></td>\n          <td id=\"LC871\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">if</span> <span class=\"pl-s1\">primary_key</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">options</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:primary_key</span><span class=\"pl-kos\">]</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L872\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"872\"></td>\n          <td id=\"LC872\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-c1\">@association_primary_key</span> ||= -<span class=\"pl-s1\">primary_key</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_s</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L873\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"873\"></td>\n          <td id=\"LC873\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">elsif</span> !<span class=\"pl-en\">polymorphic?</span> &amp;&amp; <span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">klass</span> || <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-s1\">klass</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">has_query_constraints?</span> || <span class=\"pl-en\">options</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:query_constraints</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L874\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"874\"></td>\n          <td id=\"LC874\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-kos\">(</span><span class=\"pl-s1\">klass</span> || <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-s1\">klass</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">composite_query_constraints_list</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L875\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"875\"></td>\n          <td id=\"LC875\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">elsif</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">klass</span> || <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-s1\">klass</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">composite_primary_key?</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L876\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"876\"></td>\n          <td id=\"LC876\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-c\"># If klass has composite primary key of shape [:&lt;tenant_key&gt;, :id], infer primary_key as :id</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L877\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"877\"></td>\n          <td id=\"LC877\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-s1\">primary_key</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">klass</span> || <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-s1\">klass</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-s1\">primary_key</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L878\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"878\"></td>\n          <td id=\"LC878\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-s1\">primary_key</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">include?</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"id\"</span><span class=\"pl-kos\">)</span> ? <span class=\"pl-s\">\"id\"</span> : <span class=\"pl-s1\">primary_key</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L879\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"879\"></td>\n          <td id=\"LC879\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">else</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L880\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"880\"></td>\n          <td id=\"LC880\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-s1\">primary_key</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">klass</span> || <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-s1\">klass</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L881\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"881\"></td>\n          <td id=\"LC881\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">end</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L882\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"882\"></td>\n          <td id=\"LC882\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">which then incorrectly matches with foreign key (specifically, <code class=\"notranslate\">[\"tenant_id\", \"commentable_id\"]</code> in the referenced issue) here </p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/5c4a7a711068c1dff2bd873da510ddbb82dcadd7/activerecord/lib/active_record/associations/association_scope.rb#L58-L63\">rails/activerecord/lib/active_record/associations/association_scope.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 58 to 63\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/5c4a7a711068c1dff2bd873da510ddbb82dcadd7\">5c4a7a7</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L58\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"58\"></td>\n          <td id=\"LC58\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">last_chain_scope</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">scope</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">reflection</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">owner</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L59\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"59\"></td>\n          <td id=\"LC59\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">primary_key</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">Array</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">reflection</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">join_primary_key</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L60\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"60\"></td>\n          <td id=\"LC60\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">foreign_key</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">Array</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">reflection</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">join_foreign_key</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L61\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"61\"></td>\n          <td id=\"LC61\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L62\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"62\"></td>\n          <td id=\"LC62\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">table</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">reflection</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">aliased_table</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L63\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"63\"></td>\n          <td id=\"LC63\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">primary_key_foreign_key_pairs</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">primary_key</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">zip</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">foreign_key</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">With this change, <code class=\"notranslate\">association_primary_key</code> now correctly returns <code class=\"notranslate\">[\"tenant_id\", \"id\"]</code>.</p>",
            "url": "https://github.com/rails/rails/pull/50321",
            "title": "Fix polymorphic `belongs_to` to correctly use parent's `query_constraints`",
            "date_modified": "2023-12-10T20:15:01.000Z",
            "date_published": "2023-12-10T20:14:57.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">While <a href=\"https://stimulus.hotwired.dev\" rel=\"nofollow\">Stimulus</a> and <a href=\"https://turbo.hotwired.dev\" rel=\"nofollow\">Turbo</a> rely on values encoded into <code class=\"notranslate\">data</code>-prefixed HTML attributes present in the document, other frameworks like <a href=\"https://alpinejs.dev\" rel=\"nofollow\">Alpine.js</a> and <a href=\"https://htmx.org\" rel=\"nofollow\">htmx</a> rely on different prefixes (<code class=\"notranslate\">x</code> and <code class=\"notranslate\">hx</code>, respectively).</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">To add support for those frameworks and others like them, this commit introduces the <code class=\"notranslate\">config.action_view.nest_html_attributes_within</code> value to expose a value for consumer applications to add to.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50320",
            "title": "Add `config.action_view.nest_html_attributes_within`",
            "date_modified": "2023-12-10T17:23:50.000Z",
            "date_published": "2023-12-10T17:17:03.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50318.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2034314339\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50318\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50318/hovercard\" href=\"https://github.com/rails/rails/issues/50318\">#50318</a>.</p>\n<p dir=\"auto\">I needed to create 2 models for the test case, because there is no currently Cpk model where both primary key columns are not <code class=\"notranslate\">\"id\"</code>. When one of them is named <code class=\"notranslate\">\"id\"</code>, we do not get the error as in the linked issue </p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/5c4a7a711068c1dff2bd873da510ddbb82dcadd7/activerecord/lib/active_record/reflection.rb#L875-L879\">rails/activerecord/lib/active_record/reflection.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 875 to 879\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/5c4a7a711068c1dff2bd873da510ddbb82dcadd7\">5c4a7a7</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L875\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"875\"></td>\n          <td id=\"LC875\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">elsif</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">klass</span> || <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-s1\">klass</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">composite_primary_key?</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L876\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"876\"></td>\n          <td id=\"LC876\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-c\"># If klass has composite primary key of shape [:&lt;tenant_key&gt;, :id], infer primary_key as :id</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L877\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"877\"></td>\n          <td id=\"LC877\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">primary_key</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">klass</span> || <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-s1\">klass</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-s1\">primary_key</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L878\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"878\"></td>\n          <td id=\"LC878\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">primary_key</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">include?</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"id\"</span><span class=\"pl-kos\">)</span> ? <span class=\"pl-s\">\"id\"</span> : <span class=\"pl-s1\">primary_key</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L879\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"879\"></td>\n          <td id=\"LC879\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">else</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>",
            "url": "https://github.com/rails/rails/pull/50319",
            "title": "Fix predicate builder for polymorphic models referencing models with composite primary keys",
            "date_modified": "2023-12-10T13:27:10.000Z",
            "date_published": "2023-12-10T12:02:54.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">As a contributor, changing a single line to test the desired version does not warrant a separate file for each type of report.</p>\n<p dir=\"auto\">The only argument I can see for keeping the gem versions is that users are likely reporting a bug for a specific version of Rails, typically during an upgrade. As few people are probably testing their applications against Rails main branch.</p>\n<p dir=\"auto\">Additionally, having the gem version templates means that we are testing both main and a stable release of Rails in CI, which has some benefit.</p>\n<p dir=\"auto\">IMO, the cost of separate files and the confusion it will create if we want to add more templates outweighs the benefits mentioned here.</p>\n<p dir=\"auto\">My motivation is that I want to add more report templates, like for additional adapters, and this list will grow to be unmanageable if we keep the gem versions.</p>\n<p dir=\"auto\">/cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/yahonda/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yahonda\">@yahonda</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/skipkayhil/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/skipkayhil\">@skipkayhil</a> as I think we've discussed this before</p>",
            "url": "https://github.com/rails/rails/pull/50317",
            "title": "Consolidate bug_report_templates and remove the gem versions",
            "date_modified": "2023-12-11T09:35:09.000Z",
            "date_published": "2023-12-09T23:33:14.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/60933602?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">If there's has many association between two tables. Let say, <code class=\"notranslate\">post</code> and <code class=\"notranslate\">comment</code>. Post has many comments but due to some issue, counter_cache is negative, then <code class=\"notranslate\">empty?</code>  method returns false. It should return true as the DB query would return true.</p>\n<p dir=\"auto\">This PR is related to <a href=\"https://github.com/rails/rails/issues/50311\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50311/hovercard\">Counter cache issue</a></p>",
            "url": "https://github.com/rails/rails/pull/50314",
            "title": "Empty method issue fixed if counter cache negative",
            "date_modified": "2023-12-10T08:58:49.000Z",
            "date_published": "2023-12-09T18:11:53.000Z",
            "author": {
                "name": "Nadia-Ahsan",
                "url": "https://github.com/Nadia-Ahsan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50311.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2033866460\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50311\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50311/hovercard\" href=\"https://github.com/rails/rails/issues/50311\">#50311</a>.</p>\n<p dir=\"auto\">Due to race conditions, it is possible to get a negative number of counter cache values.<br>\nWhen we are in this situation, we should actually query the association to check if there are any records.</p>",
            "url": "https://github.com/rails/rails/pull/50313",
            "title": "Ignore negative counter caches when checking for existence of the association",
            "date_modified": "2023-12-10T10:42:16.000Z",
            "date_published": "2023-12-09T16:19:47.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">While the ergonomics of calling <code class=\"notranslate\">button_to</code> match those of <code class=\"notranslate\">form_for</code>, <code class=\"notranslate\">form_with</code>, or even <code class=\"notranslate\">form_tag</code>, the implementation doesn't use much of those helper's existing infrastructure. There are chunks of logic repeated and re-implemented. For example:</p>\n<ul dir=\"auto\">\n<li>determining the <code class=\"notranslate\">[action]</code> and <code class=\"notranslate\">[method]</code> attributes for the <code class=\"notranslate\">&lt;form&gt;</code></li>\n<li>rendering an <code class=\"notranslate\">&lt;input type=\"hidden\" name=\"_method\"&gt;</code> for methods other than <code class=\"notranslate\">POST</code> or <code class=\"notranslate\">GET</code></li>\n<li>generating and rendering an authenticity token input</li>\n<li>content exfiltration</li>\n<li>encoding <code class=\"notranslate\">[data-remote]</code> for UJS integration</li>\n</ul>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit implements more of <code class=\"notranslate\">button_to</code> in terms of the <a href=\"https://edgeapi.rubyonrails.org/classes/ActionView/Helpers/FormTagHelper.html#method-i-form_tag\" rel=\"nofollow\">form_tag</a> helper method defined in <code class=\"notranslate\">FormTagHelper</code>. That method handles responsibilities like determining <code class=\"notranslate\">[method]</code>, rendering <code class=\"notranslate\">&lt;input type=\"hidden\"&gt;</code>, etc.</p>\n<p dir=\"auto\">The only outward-facing changes (reflected in test suite cases) involve the order of the <code class=\"notranslate\">&lt;form&gt;</code> element's content, and the introduction of an <code class=\"notranslate\">[accept-charset=\"UTF-8\"]</code> attribute.</p>\n<p dir=\"auto\">The <code class=\"notranslate\">&lt;button&gt;</code> element will be rendered <strong>after</strong> hidden fields instead of <strong>before</strong> (the previous behavior).</p>\n<p dir=\"auto\">Similarly, the <code class=\"notranslate\">[accept-charset]</code> attribute wasn't being rendered before, but is rendered by <code class=\"notranslate\">form_tag</code>. The <code class=\"notranslate\">form_tag</code> helper doesn't currently expose a mechanism to skip that attribute (in the same way that <code class=\"notranslate\">:enforce_utf8</code> is being used here to skip the <code class=\"notranslate\">&lt;input type=\"hidden\"&gt;</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">As part of these changes, this commit also excises the <code class=\"notranslate\">method_tag</code> and <code class=\"notranslate\">token_tag</code> private helpers out of the <code class=\"notranslate\">UrlHelper</code> module and into the <code class=\"notranslate\">FormTagHelper</code> module, since that's the only remaining call site. The previous implementation relied on the fact that both <code class=\"notranslate\">UrlHelper</code> and <code class=\"notranslate\">FormTagHelper</code> end up being mixed into an <code class=\"notranslate\">ActionView::Base</code> instance, so the cross-module <code class=\"notranslate\">private</code> boundary wasn't effective.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50312",
            "title": "Implement `button_to` in terms of `form_tag`",
            "date_modified": "2023-12-10T16:57:51.000Z",
            "date_published": "2023-12-09T15:47:44.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Storing attributes in database columns via the <code class=\"notranslate\">.store</code> and <code class=\"notranslate\">.store_accessor</code> class methods generates a collection of methods, including an attribute reader.</p>\n<p dir=\"auto\">The methods are similar to the ones generated from <code class=\"notranslate\">ActiveRecord::AttributeMethods</code> (and transitively <code class=\"notranslate\">ActiveModel::AttributeMethods</code>), but do not include a presence predicate method (like<br>\n<code class=\"notranslate\">ActiveModel::AttributeMethods#attribute_present?</code>).</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit generates an <code class=\"notranslate\">#{attribute}?</code> method that reads from the store attribute, then chains a <code class=\"notranslate\">#present?</code> predicate method on the return value.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50309",
            "title": "`ActiveRecord::Store`: define predicate attribute method",
            "date_modified": "2023-12-09T15:34:21.000Z",
            "date_published": "2023-12-09T05:03:34.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">For <code class=\"notranslate\">.sort_by!</code> we avoid allocating an extra array and the code gets shorter and simpler.<br>\nFor <code class=\"notranslate\">.each_slice</code> the code is simpler and so easier to understand.</p>",
            "url": "https://github.com/rails/rails/pull/50308",
            "title": "Small refactoring of batching over loaded relation",
            "date_modified": "2023-12-08T23:57:12.000Z",
            "date_published": "2023-12-08T23:57:09.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/894561?u=4c52a73ff17f698d354319cb61b302d38ca4a923&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2007269377\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50145\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50145/hovercard\" href=\"https://github.com/rails/rails/pull/50145\">#50145</a> recently added logging of an exception's causes' messages, which is great as I was going to add that.</p>\n<p dir=\"auto\">However, the backtraces of the causes are not included in that PR.</p>\n<p dir=\"auto\">This PR adds the backtraces too, which can be helpful. Note that I also changed the \"header\" part from.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"RuntimeError (Third error)\n\nCauses:\nRuntimeError (Second error)\nRuntimeError (First error)\"><pre class=\"notranslate\"><code class=\"notranslate\">RuntimeError (Third error)\n\nCauses:\nRuntimeError (Second error)\nRuntimeError (First error)\n</code></pre></div>\n<p dir=\"auto\">To:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"RuntimeError (Third error)\nCaused by: RuntimeError (Second error)\nCaused by: RuntimeError (First error)\"><pre class=\"notranslate\"><code class=\"notranslate\">RuntimeError (Third error)\nCaused by: RuntimeError (Second error)\nCaused by: RuntimeError (First error)\n</code></pre></div>\n<p dir=\"auto\">And I highlight that the first backtrace is from the \"main\" exception with this message:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Infos for: RuntimeError (Third error):\"><pre class=\"notranslate\"><code class=\"notranslate\">Infos for: RuntimeError (Third error):\n</code></pre></div>\n<p dir=\"auto\">Here is a truncated example:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"RuntimeError (Third error)\nCaused by: RuntimeError (Second error)\nCaused by: RuntimeError (First error)\n\nInfos for: RuntimeError (Third error):\n\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:53:in `rescue in rescue in raise_nested_exceptions'\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:50:in `rescue in raise_nested_exceptions'\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:47:in `raise_nested_exceptions'\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:113:in `call'\n/home/max/.rvm/gems/ruby-3.2.2/gems/rack-3.0.8/lib/rack/lint.rb:63:in `response'\n/home/max/.rvm/gems/ruby-3.2.2/gems/rack-3.0.8/lib/rack/lint.rb:35:in `call'\n/and/way/more\n\nInfos for cause: RuntimeError (Second error):\n\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:51:in `rescue in raise_nested_exceptions'\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:47:in `raise_nested_exceptions'\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:113:in `call'\n/home/max/.rvm/gems/ruby-3.2.2/gems/rack-3.0.8/lib/rack/lint.rb:63:in `response'\n/home/max/.rvm/gems/ruby-3.2.2/gems/rack-3.0.8/lib/rack/lint.rb:35:in `call'\n/home/max/projects/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'\n/home/max/.rvm/gems/ruby-3.2.2/gems/rack-3.0.8/lib/rack/lint.rb:63:in `response'\n/and/way/more\n\nInfos for cause: RuntimeError (First error):\n\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:48:in `raise_nested_exceptions'\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:113:in `call'\n/home/max/.rvm/gems/ruby-3.2.2/gems/rack-3.0.8/lib/rack/lint.rb:63:in `response'\n/home/max/.rvm/gems/ruby-3.2.2/gems/rack-3.0.8/lib/rack/lint.rb:35:in `call'\n/home/max/projects/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'\n/home/max/.rvm/gems/ruby-3.2.2/gems/rack-3.0.8/lib/rack/lint.rb:63:in `response'\n/and/way/more\"><pre class=\"notranslate\"><code class=\"notranslate\">RuntimeError (Third error)\nCaused by: RuntimeError (Second error)\nCaused by: RuntimeError (First error)\n\nInfos for: RuntimeError (Third error):\n\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:53:in `rescue in rescue in raise_nested_exceptions'\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:50:in `rescue in raise_nested_exceptions'\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:47:in `raise_nested_exceptions'\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:113:in `call'\n/home/max/.rvm/gems/ruby-3.2.2/gems/rack-3.0.8/lib/rack/lint.rb:63:in `response'\n/home/max/.rvm/gems/ruby-3.2.2/gems/rack-3.0.8/lib/rack/lint.rb:35:in `call'\n/and/way/more\n\nInfos for cause: RuntimeError (Second error):\n\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:51:in `rescue in raise_nested_exceptions'\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:47:in `raise_nested_exceptions'\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:113:in `call'\n/home/max/.rvm/gems/ruby-3.2.2/gems/rack-3.0.8/lib/rack/lint.rb:63:in `response'\n/home/max/.rvm/gems/ruby-3.2.2/gems/rack-3.0.8/lib/rack/lint.rb:35:in `call'\n/home/max/projects/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'\n/home/max/.rvm/gems/ruby-3.2.2/gems/rack-3.0.8/lib/rack/lint.rb:63:in `response'\n/and/way/more\n\nInfos for cause: RuntimeError (First error):\n\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:48:in `raise_nested_exceptions'\n/home/max/projects/rails/actionpack/test/dispatch/debug_exceptions_test.rb:113:in `call'\n/home/max/.rvm/gems/ruby-3.2.2/gems/rack-3.0.8/lib/rack/lint.rb:63:in `response'\n/home/max/.rvm/gems/ruby-3.2.2/gems/rack-3.0.8/lib/rack/lint.rb:35:in `call'\n/home/max/projects/rails/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'\n/home/max/.rvm/gems/ruby-3.2.2/gems/rack-3.0.8/lib/rack/lint.rb:63:in `response'\n/and/way/more\n</code></pre></div>",
            "url": "https://github.com/rails/rails/pull/50305",
            "title": "Log trace of causes for unhandled exceptions",
            "date_modified": "2023-12-08T23:52:44.000Z",
            "date_published": "2023-12-08T16:24:59.000Z",
            "author": {
                "name": "MaxLap",
                "url": "https://github.com/MaxLap"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">First, add test coverage to ensure that the behavior supported by the private <code class=\"notranslate\">read_store_attribute</code> and <code class=\"notranslate\">write_store_attribute</code> doesn't change over time.</p>\n<p dir=\"auto\">Next, add method-level RubyDoc comments to describe how to override them correctly.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50304",
            "title": "Document how to transform keys with `ActiveRecord::Store`",
            "date_modified": "2023-12-09T01:07:07.000Z",
            "date_published": "2023-12-08T15:55:14.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Upgrading Rails to \"at least 2.1.1\" is outdated advice. Applications should run 7.0.Z or 7.1.Z.<br>\nAlso, RedCloth version 4 is from 2009, so I don't think it's that \"new\".</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50301",
            "title": "Remove some outdated security advice from Security guide [ci-skip]",
            "date_modified": "2023-12-08T23:34:08.000Z",
            "date_published": "2023-12-08T09:15:54.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/13816206?u=b3f1167e3181e3e4b093f443511446e576d13d9e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50256.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2022652760\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50256\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50256/hovercard\" href=\"https://github.com/rails/rails/issues/50256\">#50256</a></p>\n<p dir=\"auto\"><strong>Context :</strong></p>\n<ul dir=\"auto\">\n<li>A Model having query constraints and a belongs_to association.</li>\n<li>Associated record is loaded once.</li>\n</ul>\n<p dir=\"auto\"><strong>Action :</strong></p>\n<ul dir=\"auto\">\n<li>Update Foreign key for the belongs_to association.</li>\n<li>Call <code class=\"notranslate\">model.association</code> to refer to the associated object.</li>\n</ul>\n<p dir=\"auto\"><strong>Current Behaviour:</strong></p>\n<ul dir=\"auto\">\n<li>State is not changed and no reload is triggered.</li>\n<li>Association still points to the old record.</li>\n</ul>\n<p dir=\"auto\"><strong>Updated Behaviour:</strong></p>\n<ul dir=\"auto\">\n<li>State is updated and reload is triggered.</li>\n<li>Association points to the updated record.</li>\n</ul>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request updates <code class=\"notranslate\">stale_state</code> method in <code class=\"notranslate\">belongs_to association</code> to handle composite foreign keys</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">For Additional context Please refer to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2022652760\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50256\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50256/hovercard\" href=\"https://github.com/rails/rails/issues/50256\">#50256</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50297",
            "title": "[Fix #50256] stale state for composite foreign keys in belongs_to assâ€¦",
            "date_modified": "2023-12-09T16:21:14.000Z",
            "date_published": "2023-12-07T18:36:17.000Z",
            "author": {
                "name": "iamradioactive",
                "url": "https://github.com/iamradioactive"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/149304?u=8368b4c052a7a11aa9dcb6fc89cd62147a782b2d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">\"Security Issues\" maintanance level when 7.1. is the latest release series should include <code class=\"notranslate\">7.1.Z</code> and <code class=\"notranslate\">7.0.Z</code>. Currently also includes <code class=\"notranslate\">6.1.Z</code> in Guide published for Rails 7.1, but should not. At <a href=\"https://guides.rubyonrails.org/v7.1/maintenance_policy.html\" rel=\"nofollow\">https://guides.rubyonrails.org/v7.1/maintenance_policy.html</a></p>\n<p dir=\"auto\">Based on policy:</p>\n<blockquote>\n<p dir=\"auto\">The current release series and the next most recent one will receive patches and new versions in case of a security issue.</p>\n</blockquote>\n<p dir=\"auto\">There should always be two series listed, not three, and I think <code class=\"notranslate\">6.1.Z</code> is actually not in \"Security Issues\"  level of maintenance at present, now that 7.1.0 is released -- and this guide text is incorrect?</p>\n<p dir=\"auto\">The current \"edge\"/main guide, written for a 7.2 release, does only list two series, 7.2.Z and 7.1.Z, as expected. <a href=\"https://github.com/rails/rails/blob/fb09e7f1aa89efc82ed090443b9c6198d5f0bb3f/guides/source/maintenance_policy.md\">https://github.com/rails/rails/blob/fb09e7f1aa89efc82ed090443b9c6198d5f0bb3f/guides/source/maintenance_policy.md</a></p>\n<p dir=\"auto\">It looks like the listing of three series including <code class=\"notranslate\">6.1.Z</code> came from original \"Start Rails 7.1 development\" commit at <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/83d85b22074f1986077791234f737e0e4faba03b/hovercard\" href=\"https://github.com/rails/rails/commit/83d85b22074f1986077791234f737e0e4faba03b\"><tt>83d85b2</tt></a>.</p>",
            "url": "https://github.com/rails/rails/pull/50295",
            "title": "Rails 7.1 is latest, Security Issue Maintenance should not include `6.1.Z`",
            "date_modified": "2023-12-07T21:54:24.000Z",
            "date_published": "2023-12-07T17:45:14.000Z",
            "author": {
                "name": "jrochkind",
                "url": "https://github.com/jrochkind"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/800362?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This is a backport of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2021475111\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50236\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50236/hovercard\" href=\"https://github.com/rails/rails/pull/50236\">#50236</a> for 7-0-stable.</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Fix incorrect <code class=\"notranslate\">Date.today</code> result value that caused <a href=\"https://github.com/faker-ruby/faker/issues/2861\" data-hovercard-type=\"issue\" data-hovercard-url=\"/faker-ruby/faker/issues/2861/hovercard\">a bug with the <code class=\"notranslate\">Faker::Time.backward</code> method</a> in the Faker gem.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">There is a bug in the current implementation of <code class=\"notranslate\">#travel_to</code>: it remembers a timezone of its argument, and all stubbed methods (<code class=\"notranslate\">Time.now</code>, <code class=\"notranslate\">DateTime.now</code>, <code class=\"notranslate\">Date.today</code>) start returning results in that remembered timezone. However, the expected behaviour is to return results in a system timezone.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50292",
            "title": "Fix `Time.now`/`DateTime.now`/`Date.today` to return results in a system timezone after `#travel_to` in 7-0-stable",
            "date_modified": "2023-12-07T06:35:22.000Z",
            "date_published": "2023-12-07T06:33:03.000Z",
            "author": {
                "name": "907th",
                "url": "https://github.com/907th"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Context for this change is in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1990987030\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50040\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50040/hovercard\" href=\"https://github.com/rails/rails/issues/50040\">#50040</a>, specifically <a href=\"https://github.com/rails/rails/issues/50040#issuecomment-1826306098\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50040/hovercard\">this comment</a>.<br>\nThis isn't necessarilly to fix that issue, since it was mostly a bad setup, but it does ensure that users don't get unexpected behaviour just because an association was duplicated / overridden.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">ActiveRecord::AutosaveAssociation::ClassMethods#define_non_cyclic_method</code> to return only if the method has been defined for the given reflection, as opposed to whether it's ever been defined on the class, to ensure that the autosave methods are redefined for associations that are overridden.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50291",
            "title": "Redefine autosave callbacks if associations are overriden",
            "date_modified": "2023-12-08T03:27:54.000Z",
            "date_published": "2023-12-07T03:22:45.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Change the Testing Guide to emphasize that <code class=\"notranslate\">session</code>, <code class=\"notranslate\">flash</code>, and <code class=\"notranslate\">cookies</code> helpers are only available to be read from <strong>after</strong> a request has been made.</p>\n<p dir=\"auto\">This is a break from <code class=\"notranslate\">ActionController::TestCase</code> support for writing to these Hash helpers <strong>before</strong> a request has been made, so it's worth emphasizing to avoid confusing the two practices.</p>",
            "url": "https://github.com/rails/rails/pull/50289",
            "title": "Elaborate on support for hash helpers in Integration Tests [ci skip]",
            "date_modified": "2023-12-08T09:57:11.000Z",
            "date_published": "2023-12-06T22:53:46.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/13400?u=a60500d9214da06f50153c53c8e82b8b51d41aea&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Co-authored with <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/vinistock/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vinistock\">@vinistock</a></p>\n<p dir=\"auto\">Expose the server URL so that external tools are able to know where the server is running.</p>\n<p dir=\"auto\">One example would be for an <a href=\"https://en.wikipedia.org/wiki/Language_Server_Protocol\" rel=\"nofollow\">LSP</a> implementation, so that introspection of the server can be provided.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Write the file as part of the server initialization.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This could be a step towards implementing <a href=\"https://github.com/Shopify/ruby-lsp-rails\">ruby-lsp-rails</a> as a built-in Rails feature.</p>\n<h3 dir=\"auto\">Questions</h3>\n<p dir=\"auto\">Should we delete the <code class=\"notranslate\">server_url.txt</code> file when the server is shutdown? If so, where in the code would that be done?</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50286",
            "title": "Write server URL to a temporary file when starting Rails",
            "date_modified": "2023-12-10T17:50:44.000Z",
            "date_published": "2023-12-06T17:02:10.000Z",
            "author": {
                "name": "andyw8",
                "url": "https://github.com/andyw8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22835?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Long story short: while trying to configure the timeout(s) for connections in a Zammad installation the current docs lead me to believe the <code class=\"notranslate\">timeout</code> option would apply to database connections. This is compounded by the <code class=\"notranslate\">timeout</code> and <code class=\"notranslate\">checkout_timeout</code> options both default to 5 seconds. See also this Zammad Docs issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1944779289\" data-permission-text=\"Title is private\" data-url=\"https://github.com/zammad/zammad/issues/4883\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/zammad/zammad/pull/4883/hovercard?comment_id=1815291895&amp;comment_type=issue_comment\" href=\"https://github.com/zammad/zammad/pull/4883#issuecomment-1815291895\">zammad/zammad#4883 (comment)</a>.</p>\n<p dir=\"auto\">This Pull Request tries to clarify this in the docs by removing the <code class=\"notranslate\">timeout</code> option from the Connection Pooling paragraph and explicitly explaining the Pool timeout options. The changes are broken into different Commits to keep formatting and content changes separate to make understanding what is changed easier. They might be squashed before merging.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50285",
            "title": "[ci skip] Clarify ConnectionPool timeout options",
            "date_modified": "2023-12-06T16:34:36.000Z",
            "date_published": "2023-12-06T16:34:31.000Z",
            "author": {
                "name": "thegcat",
                "url": "https://github.com/thegcat"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #49574.\">Closes</span> <a href=\"https://github.com/rails/rails/issues/49574\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49574/hovercard\">#49574</a></p>\n<p dir=\"auto\">Issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1936358826\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49574\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49574/hovercard\" href=\"https://github.com/rails/rails/issues/49574\">#49574</a> outlines how an Active Record join model accessed through a <code class=\"notranslate\">has_many ..., through:</code> association is unable to infer an appropriate <code class=\"notranslate\">:inverse_of</code> association by pluralizing a predictably pluralizable class name.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit resolves that issue by also checking a model's reflections for a pluralized inverse name in addition to whatever's provided through the <code class=\"notranslate\">:as</code> option or inferred in the singular.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">The issue shares a code sample:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"ActiveRecord::Schema.define do\n  create_table &quot;listings&quot;, force: :cascade do |t|\n    t.bigint &quot;list_id&quot;, null: false\n    t.bigint &quot;pin_id&quot;, null: false\n  end\n\n  create_table &quot;lists&quot;, force: :cascade do |t|\n  end\n\n  create_table &quot;pins&quot;, force: :cascade do |t|\n  end\nend\n\nclass Pin &lt; ActiveRecord::Base\n  has_many :listings\nend\n\nclass List &lt; ActiveRecord::Base\n  has_many :listings\n  has_many :pins, through: :listings\nend\n\nclass Listing &lt; ActiveRecord::Base\n  belongs_to :list\n  belongs_to :pin\nend\n\nclass BugTest &lt; Minitest::Test\n  def test_association_stuff\n    list = List.create!\n    pin = list.pins.new\n\n    pin.save!\n\n    assert_equal [pin], list.reload.pins\n    assert_equal 1, list.reload.pins.count\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Schema</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">define</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">create_table</span> <span class=\"pl-s\">\"listings\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">force</span>: <span class=\"pl-pds\">:cascade</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">bigint</span> <span class=\"pl-s\">\"list_id\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">null</span>: <span class=\"pl-c1\">false</span>\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">bigint</span> <span class=\"pl-s\">\"pin_id\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">null</span>: <span class=\"pl-c1\">false</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-en\">create_table</span> <span class=\"pl-s\">\"lists\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">force</span>: <span class=\"pl-pds\">:cascade</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-en\">create_table</span> <span class=\"pl-s\">\"pins\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">force</span>: <span class=\"pl-pds\">:cascade</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Pin</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">has_many</span> <span class=\"pl-pds\">:listings</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">List</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">has_many</span> <span class=\"pl-pds\">:listings</span>\n  <span class=\"pl-en\">has_many</span> <span class=\"pl-pds\">:pins</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">through</span>: <span class=\"pl-pds\">:listings</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Listing</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">belongs_to</span> <span class=\"pl-pds\">:list</span>\n  <span class=\"pl-en\">belongs_to</span> <span class=\"pl-pds\">:pin</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">BugTest</span> &lt; <span class=\"pl-v\">Minitest</span>::<span class=\"pl-v\">Test</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_association_stuff</span>\n    <span class=\"pl-s1\">list</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">List</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">create!</span>\n    <span class=\"pl-s1\">pin</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">list</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">pins</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span>\n\n    <span class=\"pl-s1\">pin</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">save!</span>\n\n    <span class=\"pl-en\">assert_equal</span> <span class=\"pl-kos\">[</span><span class=\"pl-s1\">pin</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">list</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">reload</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">pins</span>\n    <span class=\"pl-en\">assert_equal</span> <span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">list</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">reload</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">pins</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">count</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">Unfortunately, there isn't a one-to-one mapping in the test suite's <code class=\"notranslate\">test/model</code> directory for this type of structure. The most similar associations were between the <code class=\"notranslate\">Book</code>, <code class=\"notranslate\">Subscription</code>, and <code class=\"notranslate\">Subscriber</code>. For the sake of ease, this commit wraps the test block in a new <code class=\"notranslate\">skipping_validations_for</code> helper method to ignore validations declared on the <code class=\"notranslate\">Subscription</code> join table model.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50284",
            "title": "Infer `:inverse_of` for `has_many ..., through:`",
            "date_modified": "2023-12-07T19:10:57.000Z",
            "date_published": "2023-12-06T16:25:36.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        }
    ]
}