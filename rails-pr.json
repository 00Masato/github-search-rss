{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/131752?u=32ddf1119b1d189c9bd241a721b36ea01c29f61e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This updates <code class=\"notranslate\">TimeWithZone#inspect</code> to match the ISO 8601 style time which Ruby has used for <code class=\"notranslate\">Time#inspect</code> since 1.9+  instead of the variant of rfc822. This makes TimeWithZone match Time's formatting except for the precision in the timestamp and including the zone's name.</p>\n<p dir=\"auto\">This only impacts <code class=\"notranslate\">TimeWithZone#inspect</code>, <code class=\"notranslate\">TimeWithZone#to_s</code> had already been updated to use the new ISO 8601 style formatting. Because <code class=\"notranslate\">#inspect</code> should just be used for presenting the time to developers, I don't think we need do go through a deprecation cycle for it.</p>\n<p dir=\"auto\">That said I think this should target 8.0, not 7.2</p>\n<p dir=\"auto\"><strong>Before</strong></p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"&gt; Time.zone.now\n=&gt; Fri, 31 Dec 1999 19:00:00.000000000 EST -05:00\"><pre class=\"notranslate\"><code class=\"notranslate\">&gt; Time.zone.now\n=&gt; Fri, 31 Dec 1999 19:00:00.000000000 EST -05:00\n</code></pre></div>\n<p dir=\"auto\"><strong>After</strong></p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"&gt; Time.zone.now\n=&gt; 1999-12-31 19:00:00.000000000 EST -05:00\"><pre class=\"notranslate\"><code class=\"notranslate\">&gt; Time.zone.now\n=&gt; 1999-12-31 19:00:00.000000000 EST -05:00\n</code></pre></div>\n<hr>\n<p dir=\"auto\">Just for curiosity, here is the history of how Ruby has formatted <code class=\"notranslate\">Time#inspect</code> (unlike for <code class=\"notranslate\">TimeWithZone</code>, <code class=\"notranslate\">Time#inspect</code> is the same as <code class=\"notranslate\">Time#to_s</code>)</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ docker run -e 'ALL_RUBY_SINCE=ruby-1.0' --rm rubylang/all-ruby ./all-ruby -e 'p Time.at(0).to_s'\nruby-1.0-961225       &quot;Thu Jan 01 00:00:00 UTC 1970&quot;\n...\nruby-1.8.5-preview2   &quot;Thu Jan 01 00:00:00 UTC 1970&quot;\nruby-1.8.5-preview3   &quot;Thu Jan 01 00:00:00 +0000 1970&quot;\n...\nruby-1.8.5-p231       &quot;Thu Jan 01 00:00:00 +0000 1970&quot;\nruby-1.8.6-preview1   &quot;Thu, Jan 01 1970 00:00:00 +0000&quot;\n...\nruby-1.8.6-preview3   &quot;Thu, Jan 01 1970 00:00:00 +0000&quot;\nruby-1.8.6            &quot;Thu Jan 01 00:00:00 +0000 1970&quot;\n...\nruby-1.8.7-p374       &quot;Thu Jan 01 00:00:00 +0000 1970&quot;\nruby-1.9.0-0          &quot;1970-01-01 00:00:00 +0000&quot;\n...\nruby-3.4.0-preview1   &quot;1970-01-01 00:00:00 +0000&quot;\"><pre class=\"notranslate\"><code class=\"notranslate\">$ docker run -e 'ALL_RUBY_SINCE=ruby-1.0' --rm rubylang/all-ruby ./all-ruby -e 'p Time.at(0).to_s'\nruby-1.0-961225       \"Thu Jan 01 00:00:00 UTC 1970\"\n...\nruby-1.8.5-preview2   \"Thu Jan 01 00:00:00 UTC 1970\"\nruby-1.8.5-preview3   \"Thu Jan 01 00:00:00 +0000 1970\"\n...\nruby-1.8.5-p231       \"Thu Jan 01 00:00:00 +0000 1970\"\nruby-1.8.6-preview1   \"Thu, Jan 01 1970 00:00:00 +0000\"\n...\nruby-1.8.6-preview3   \"Thu, Jan 01 1970 00:00:00 +0000\"\nruby-1.8.6            \"Thu Jan 01 00:00:00 +0000 1970\"\n...\nruby-1.8.7-p374       \"Thu Jan 01 00:00:00 +0000 1970\"\nruby-1.9.0-0          \"1970-01-01 00:00:00 +0000\"\n...\nruby-3.4.0-preview1   \"1970-01-01 00:00:00 +0000\"\n</code></pre></div>",
            "url": "https://github.com/rails/rails/pull/52371",
            "title": "Update TimeWithZone#inspect to match Ruby 1.9+ ISO 8601 format",
            "date_modified": "2024-07-20T04:32:43.000Z",
            "date_published": "2024-07-19T23:20:08.000Z",
            "author": {
                "name": "jhawthorn",
                "url": "https://github.com/jhawthorn"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/13472945?u=ef29693db9743ffa3d8a02d9faa0bdec7fb0892d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">When an authenticated user clicks `button_to 'Sign out', session_path, method: :delete&gt;, he gets an error:</p>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/13472945/350541022-7dcdd078-1767-4468-99bd-31b12642b0e3.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjE0NjYzOTksIm5iZiI6MTcyMTQ2NjA5OSwicGF0aCI6Ii8xMzQ3Mjk0NS8zNTA1NDEwMjItN2RjZGQwNzgtMTc2Ny00NDY4LTk5YmQtMzFiMTI2NDJiMGUzLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA3MjAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNzIwVDA5MDEzOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTEzZjZmYmEwNWUwNzFhYWUxMjM4NTg0MTQxYmY0MjA2ZWVlZDVlNGY3NmRmYzNhOTY2MzU5YjE0YzcxMjAwNmEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.wep5KSWw1IG1NV0WkvdXtfe0p6YUSleFn9a8Jwx1awE\"><img width=\"696\" alt=\"Screenshot 2024-07-19 at 21 39 54\" src=\"https://private-user-images.githubusercontent.com/13472945/350541022-7dcdd078-1767-4468-99bd-31b12642b0e3.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjE0NjYzOTksIm5iZiI6MTcyMTQ2NjA5OSwicGF0aCI6Ii8xMzQ3Mjk0NS8zNTA1NDEwMjItN2RjZGQwNzgtMTc2Ny00NDY4LTk5YmQtMzFiMTI2NDJiMGUzLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA3MjAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNzIwVDA5MDEzOVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTEzZjZmYmEwNWUwNzFhYWUxMjM4NTg0MTQxYmY0MjA2ZWVlZDVlNGY3NmRmYzNhOTY2MzU5YjE0YzcxMjAwNmEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.wep5KSWw1IG1NV0WkvdXtfe0p6YUSleFn9a8Jwx1awE\" style=\"max-width: 100%;\"></a>\n<p dir=\"auto\">This will fix it.</p>",
            "url": "https://github.com/rails/rails/pull/52369",
            "title": "Session generator - NoMethodError on sign out",
            "date_modified": "2024-07-19T20:56:46.000Z",
            "date_published": "2024-07-19T20:10:50.000Z",
            "author": {
                "name": "yshmarov",
                "url": "https://github.com/yshmarov"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/44478?u=4c419870ae62d57a3ba05958360a9abba81a97f7&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This PR adds documentation around the sharp knife and unexpected behavior introduced in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"556383416\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/38339\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/38339/hovercard\" href=\"https://github.com/rails/rails/pull/38339\">#38339</a>.</p>\n<p dir=\"auto\">While all the examples in the current documentation execute single queries or build and return single relationships (and thus, work without surprise) one might want to use the same block to build many relationships, only to find the returning relationship is automatically loaded from the expected role, while the other relationship(s) are not.</p>\n<p dir=\"auto\">Further, if the block does not actually return an ARel, then the user may be surprised.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR updates the guides and api docs for <code class=\"notranslate\">connected_to</code> to highlight this unexpected behavior.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52368",
            "title": "Improve documentation around build ActiveRecord Relations in connected_to blocks [ci skip]",
            "date_modified": "2024-07-19T20:42:42.000Z",
            "date_published": "2024-07-19T17:24:48.000Z",
            "author": {
                "name": "danielwestendorf",
                "url": "https://github.com/danielwestendorf"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/65364356?u=1014147e171ea3ad9d4ba4411344d41a0c69d4d2&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The <code class=\"notranslate\">report-uri</code> directive has been slated for <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/report-uri\" rel=\"nofollow\">deprecation</a> in favor of the new <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/report-to\" rel=\"nofollow\">report-to</a> directive through the new <a href=\"https://w3c.github.io/reporting/\" rel=\"nofollow\">ReportingAPI</a></p>\n<p dir=\"auto\">This Pull Request has been created to introduce support for the new ReportingAPI (CSP level 3) while maintaining bidirectional compatibility with older browsers that still prefer the old <code class=\"notranslate\">report-uri</code> directive (CSP level 2)</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #35937.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"432035004\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/35937\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/35937/hovercard\" href=\"https://github.com/rails/rails/issues/35937\">#35937</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request introduces a new <code class=\"notranslate\">report_to</code> option for adding reporting endpoint(s)</p>\n<h4 dir=\"auto\">Example</h4>\n<ul dir=\"auto\">\n<li>Single URL/Endpoint</li>\n</ul>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# config/initializers/content_security_policy.rb\n\nRails.application.config.content_security_policy do |policy|\n  # Specify URI for violation reports\n\n  policy.report_to &quot;/csp-violation-report-endpoint&quot;\nend\"><pre class=\"notranslate\"><span class=\"pl-c\"># config/initializers/content_security_policy.rb</span>\n\n<span class=\"pl-v\">Rails</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">application</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">content_security_policy</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">policy</span>|\n  <span class=\"pl-c\"># Specify URI for violation reports</span>\n\n  <span class=\"pl-s1\">policy</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">report_to</span> <span class=\"pl-s\">\"/csp-violation-report-endpoint\"</span>\n<span class=\"pl-k\">end</span></pre></div>\n<ul dir=\"auto\">\n<li>Multiple endpoints that share the same configuration under a single <strong>group</strong> name using a lambda</li>\n</ul>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Rails.application.config.content_security_policy do |policy|\n\n  policy.report_to &quot;default&quot;,  -&gt; {{ \n      default: {\n        urls: [&quot;/csp-violation-report-endpoint&quot;, &quot;https://example.com/csp-violation-report&quot;],\n        max_age: 30.minutes,\n        include_subdomains: true\n      },\n      group_2: &quot;https://example.com/hpkp-reports&quot;\n    }\n  }\nend\"><pre class=\"notranslate\"><span class=\"pl-v\">Rails</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">application</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">content_security_policy</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">policy</span>|\n\n  <span class=\"pl-s1\">policy</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">report_to</span> <span class=\"pl-s\">\"default\"</span><span class=\"pl-kos\">,</span>  <span class=\"pl-c1\">-&gt;</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">{</span> \n      <span class=\"pl-pds\">default</span>: <span class=\"pl-kos\">{</span>\n        <span class=\"pl-pds\">urls</span>: <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"/csp-violation-report-endpoint\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"https://example.com/csp-violation-report\"</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>\n        <span class=\"pl-pds\">max_age</span>: <span class=\"pl-c1\">30</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">minutes</span><span class=\"pl-kos\">,</span>\n        <span class=\"pl-pds\">include_subdomains</span>: <span class=\"pl-c1\">true</span>\n      <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n      <span class=\"pl-pds\">group_2</span>: <span class=\"pl-s\">\"https://example.com/hpkp-reports\"</span>\n    <span class=\"pl-kos\">}</span>\n  <span class=\"pl-kos\">}</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<ul dir=\"auto\">\n<li>The <code class=\"notranslate\">report_to</code> directive automatically adds the <code class=\"notranslate\">report_uri</code> directive by default to enforce bidirectional compatibility</li>\n<li>This is my first PR to this repo, so please let me know if there are any improvements I can make.</li>\n</ul>\n<h4 dir=\"auto\">Reporting API-specific information</h4>\n<ul dir=\"auto\">\n<li>\n<p dir=\"auto\">The Reporting API is only available in <a href=\"https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts/features_restricted_to_secure_contexts\" rel=\"nofollow\">secure contexts</a></p>\n</li>\n<li>\n<p dir=\"auto\">Reports are delivered <a href=\"https://en.wikipedia.org/wiki/Out-of-band_datahttps://en.wikipedia.org/wiki/Out-of-band_data\" rel=\"nofollow\">out-of-band</a> by the browser itself, rather than by your server or site, meaning the browser controls when reports are delivered to your server(s). With CSP level 2 (<code class=\"notranslate\">report-uri</code>), reports are sent immediately. In contrast, with CSP level 3 (<code class=\"notranslate\">report-to</code>), reports are sent at the browser’s discretion, potentially with delays of up to a minute.</p>\n<p dir=\"auto\">This approach allows reports to be <strong>batched</strong> rather than sent <strong>individually</strong>, which helps save bandwidth and is particularly considerate of users' network connections, especially on mobile devices.</p>\n</li>\n<li>\n<p dir=\"auto\">Reports sent via the <a href=\"https://csplite.com/csp124/\" rel=\"nofollow\">report-to</a> directive have a universal format, since not only a report on CSP violation can be sent via it, but also any reports about problems that occurred in the browser. The Content Security Policy violation report will have of type \"<a href=\"https://csplite.com/csp66/#type\" rel=\"nofollow\">csp-violation</a>\", while the content of the violation report itself will be sent in the \"<a href=\"https://csplite.com/csp66/#body\" rel=\"nofollow\">body</a>\" field:</p>\n</li>\n<li>\n<p dir=\"auto\">The field names differ from the standard names of a violation report, sent via <code class=\"notranslate\">report_uri</code>, changing from <code class=\"notranslate\">kebab-case</code> to <code class=\"notranslate\">camelCase</code>.:</p>\n</li>\n</ul>\n<markdown-accessiblity-table><table role=\"table\">\n<thead>\n<tr>\n<th>report-uri</th>\n<th>-&gt;</th>\n<th>report-to</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>document-uri</td>\n<td>-&gt;</td>\n<td>documentURL</td>\n</tr>\n<tr>\n<td>effective-directive</td>\n<td>-&gt;</td>\n<td>effectiveDirective</td>\n</tr>\n<tr>\n<td>violated-directive</td>\n<td>-&gt;</td>\n<td>violatedDirective</td>\n</tr>\n<tr>\n<td>source-file</td>\n<td>-&gt;</td>\n<td>sourceFile</td>\n</tr>\n<tr>\n<td>original-policy</td>\n<td>-&gt;</td>\n<td>originalPolicy</td>\n</tr>\n<tr>\n<td>line-number</td>\n<td>-&gt;</td>\n<td>lineNumber</td>\n</tr>\n<tr>\n<td>status-code</td>\n<td>-&gt;</td>\n<td>statusCode</td>\n</tr>\n</tbody>\n</table></markdown-accessiblity-table>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52367",
            "title": "Add Content Security Policy Reporting Api Support",
            "date_modified": "2024-07-19T17:07:39.000Z",
            "date_published": "2024-07-19T15:50:01.000Z",
            "author": {
                "name": "adeyinkaezra123",
                "url": "https://github.com/adeyinkaezra123"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/564142?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because  <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #52364.\">fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2419088328\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52364\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52364/hovercard\" href=\"https://github.com/rails/rails/issues/52364\">#52364</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes to add conditional values of IPAddr class for TagHelper#tag_option.<br>\nIt outputs with a prefix when IPAddr value has a prefix.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52365",
            "title": "ActionView: fix html form attribute when IPAddr value has prefix",
            "date_modified": "2024-07-19T14:51:53.000Z",
            "date_published": "2024-07-19T14:44:12.000Z",
            "author": {
                "name": "taketo1113",
                "url": "https://github.com/taketo1113"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/432189?u=506d1970ba73221b27c114e09ac18fc34a1dccc0&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">If the association has been accessed but is not currently loaded, there can't be any changes to save. This was previously fixed for belongs_to associations in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"131670639\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/23498\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/23498/hovercard\" href=\"https://github.com/rails/rails/pull/23498\">#23498</a>.</p>",
            "url": "https://github.com/rails/rails/pull/52363",
            "title": "Don't load has_one associations during autosave",
            "date_modified": "2024-07-19T10:34:27.000Z",
            "date_published": "2024-07-19T10:34:23.000Z",
            "author": {
                "name": "eugeneius",
                "url": "https://github.com/eugeneius"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/97030518?u=44f65a79575affbfae38d5a4e75393694efa9d6c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because the <a href=\"https://guides.rubyonrails.org/upgrading_ruby_on_rails.html\" rel=\"nofollow\">Upgrading Ruby on Rails guide</a> feels confusing at this specific point:</p>\n<blockquote>\n<h4 dir=\"auto\">Moving between versions</h4>\n<p dir=\"auto\">To move between versions:</p>\n<ol dir=\"auto\">\n<li>Change the Rails version number in the <code class=\"notranslate\">Gemfile</code> and run <code class=\"notranslate\">bundle update</code>.</li>\n</ol>\n</blockquote>\n<p dir=\"auto\">To me, when somebody wants to update Rails, he/she should modify the version in the <code class=\"notranslate\">Gemfile</code> and <strong>only</strong> run <code class=\"notranslate\">bundle update rails</code>. A <code class=\"notranslate\">bundle update</code> will result in the update of all the dependencies of an application, which is not something one might want.</p>\n<p dir=\"auto\">Because of this, developers not really familiar with Bundler might send an update of all the gems they are using in an app, instead of just a Rails update.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the aforementioned confusing line, by specifying that one should run <code class=\"notranslate\">bundle update rails</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52357",
            "title": "Clarify usafe of `bundle update` in upgrading Rails guide",
            "date_modified": "2024-07-19T08:15:59.000Z",
            "date_published": "2024-07-18T14:28:32.000Z",
            "author": {
                "name": "Uaitt",
                "url": "https://github.com/Uaitt"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/986290?u=0ab701d74ce2ac7d638d1e7e0fec1b74b0b02852&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">As <a href=\"https://discuss.rubyonrails.org/t/proposal-sqlite3-full-text-search-and-other-virtual-tables-do-not-dump-shadow-virtual-tables/86159\" rel=\"nofollow\">discussed on rubyonrails-core</a> with <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/flavorjones/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/flavorjones\">@flavorjones</a>.</p>\n<p dir=\"auto\">SQLite is a great default database, and even provides a <a href=\"https://www.sqlite.org/fts5.html\" rel=\"nofollow\">full-text-search module, <code class=\"notranslate\">fts5</code></a>. However, <code class=\"notranslate\">fts5</code> is a <a href=\"https://www.sqlite.org/vtab.html\" rel=\"nofollow\">virtual table module</a> which messes up <code class=\"notranslate\">schema.rb</code>. For example, if you create virtual table <code class=\"notranslate\">searchables</code> in a migration:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class CreateSearchablesTable &lt; ActiveRecord::Migration[8.0]\n  def up\n    execute 'CREATE VIRTUAL TABLE searchables USING fts5(content)'\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">CreateSearchablesTable</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Migration</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">8.0</span><span class=\"pl-kos\">]</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">up</span>\n    <span class=\"pl-en\">execute</span> <span class=\"pl-s\">'CREATE VIRTUAL TABLE searchables USING fts5(content)'</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">and run <code class=\"notranslate\">rails db:migrate</code>, then 6 tables are created, 1 <code class=\"notranslate\">virtual</code> and 5 \"<code class=\"notranslate\">shadow</code>\" tables. This is what the result of <code class=\"notranslate\">SELECT * FROM pragma_table_list ORDER BY name</code> (relevant part) looks like:</p>\n<markdown-accessiblity-table><table role=\"table\">\n<thead>\n<tr>\n<th>schema</th>\n<th>name</th>\n<th>type</th>\n<th>ncol</th>\n<th>wr</th>\n<th>strict</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>main</td>\n<td>searchables</td>\n<td>virtual</td>\n<td>3</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td>main</td>\n<td>searchables_config</td>\n<td>shadow</td>\n<td>2</td>\n<td>1</td>\n<td>0</td>\n</tr>\n<tr>\n<td>main</td>\n<td>searchables_content</td>\n<td>shadow</td>\n<td>2</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td>main</td>\n<td>searchables_data</td>\n<td>shadow</td>\n<td>2</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td>main</td>\n<td>searchables_docsize</td>\n<td>shadow</td>\n<td>2</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td>main</td>\n<td>searchables_idx</td>\n<td>shadow</td>\n<td>3</td>\n<td>1</td>\n<td>0</td>\n</tr>\n</tbody>\n</table></markdown-accessiblity-table>\n<p dir=\"auto\">While these tables look like regular tables, they should not be dumped in the same way. In <code class=\"notranslate\">schema.rb</code> there are error messages for some of them (notably the virtual table) while a few shadow tables are dumped like regular tables:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# Could not dump table &quot;searchables&quot; because of following StandardError\n#   Unknown type '' for column 'content'\n\n# Could not dump table &quot;searchables_config&quot; because of following StandardError\n#   Unknown type '' for column 'k'\n\n# Could not dump table &quot;searchables_content&quot; because of following StandardError\n#   Unknown type '' for column 'c0'\n\n  create_table &quot;searchables_data&quot;, force: :cascade do |t|\n    t.binary &quot;block&quot;\n  end\n\n  create_table &quot;searchables_docsize&quot;, force: :cascade do |t|\n    t.binary &quot;sz&quot;\n  end\n\n# Could not dump table &quot;searchables_idx&quot; because of following StandardError\n#   Unknown type '' for column 'segid'\"><pre class=\"notranslate\"><span class=\"pl-c\"># Could not dump table \"searchables\" because of following StandardError</span>\n<span class=\"pl-c\">#   Unknown type '' for column 'content'</span>\n\n<span class=\"pl-c\"># Could not dump table \"searchables_config\" because of following StandardError</span>\n<span class=\"pl-c\">#   Unknown type '' for column 'k'</span>\n\n<span class=\"pl-c\"># Could not dump table \"searchables_content\" because of following StandardError</span>\n<span class=\"pl-c\">#   Unknown type '' for column 'c0'</span>\n\n  <span class=\"pl-en\">create_table</span> <span class=\"pl-s\">\"searchables_data\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">force</span>: <span class=\"pl-pds\">:cascade</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">binary</span> <span class=\"pl-s\">\"block\"</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-en\">create_table</span> <span class=\"pl-s\">\"searchables_docsize\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">force</span>: <span class=\"pl-pds\">:cascade</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">binary</span> <span class=\"pl-s\">\"sz\"</span>\n  <span class=\"pl-k\">end</span>\n\n<span class=\"pl-c\"># Could not dump table \"searchables_idx\" because of following StandardError</span>\n<span class=\"pl-c\">#   Unknown type '' for column 'segid'</span></pre></div>\n<p dir=\"auto\">This will put the app into a bad state if you run <code class=\"notranslate\">rails db:reset</code>, with some shadow tables as regular tables and the virtual table missing entirely:</p>\n<markdown-accessiblity-table><table role=\"table\">\n<thead>\n<tr>\n<th>schema</th>\n<th>name</th>\n<th>type</th>\n<th>ncol</th>\n<th>wr</th>\n<th>strict</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>main</td>\n<td>searchables_data</td>\n<td>table</td>\n<td>2</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td>main</td>\n<td>searchables_docsize</td>\n<td>table</td>\n<td>2</td>\n<td>0</td>\n<td>0</td>\n</tr>\n</tbody>\n</table></markdown-accessiblity-table>\n<p dir=\"auto\">The proper way to dump a virtual table to <code class=\"notranslate\">schema.rb</code> would be to ignore the \"shadow\" tables and only create the virtual table (which in turn will create the shadow tables).</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR tries to provide general SQLite3 virtual table support using <code class=\"notranslate\">create_virtual_table</code> and <code class=\"notranslate\">drop_virtual_table</code>. While <code class=\"notranslate\">drop_virtual_table</code> is basically <code class=\"notranslate\">drop_table</code> (since dropping a virtual table also drops connected shadow tables), it allows the <code class=\"notranslate\">CommandRecorder</code> to reverse <code class=\"notranslate\">drop_virtual_table</code>.</p>\n<p dir=\"auto\">It will dump virtual tables to <code class=\"notranslate\">schema.rb</code> and ignore shadow tables. For example:</p>\n<div class=\"highlight highlight-source-sql notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"CREATE VIRTUAL TABLE searchables USING fts5(content, meta UNINDEXED, tokenize = 'porter ascii');\"><pre class=\"notranslate\">CREATE VIRTUAL TABLE searchables USING fts5(content, meta UNINDEXED, tokenize <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>porter ascii<span class=\"pl-pds\">'</span></span>);</pre></div>\n<p dir=\"auto\">will append to <code class=\"notranslate\">schema.rb</code>:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"create_virtual_table &quot;searchables&quot;, &quot;fts5&quot;, [&quot;content&quot;, &quot;meta UNINDEXED&quot;, &quot;tokenize='porter ascii'&quot;]\"><pre class=\"notranslate\"><span class=\"pl-en\">create_virtual_table</span> <span class=\"pl-s\">\"searchables\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"fts5\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"content\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"meta UNINDEXED\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"tokenize='porter ascii'\"</span><span class=\"pl-kos\">]</span></pre></div>\n<p dir=\"auto\">Notable changes:</p>\n<ul dir=\"auto\">\n<li>In order to filter out <code class=\"notranslate\">virtual</code>/<code class=\"notranslate\">shadow</code> tables from the regular table dump, I had to use <code class=\"notranslate\">pragma_table_list</code> instead of <code class=\"notranslate\">sqlite_master</code> in <code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3::SchemaStatements</code> because the schema table <code class=\"notranslate\">sqlite_master</code> lacks virtual/shadow type information.</li>\n<li>I have added 2 new methods to the abstract adapter, but they are only used by the sqlite3 adapter. This is based on the postgresql enum implementation.</li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52354",
            "title": "Add support for SQLite3 full-text-search and other virtual tables",
            "date_modified": "2024-07-19T11:04:27.000Z",
            "date_published": "2024-07-18T08:51:50.000Z",
            "author": {
                "name": "zachasme",
                "url": "https://github.com/zachasme"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5162312?u=e1b3c0f7c6dc600253bf15c99f618b9b2d39c500&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Redo of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2254046185\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51614\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51614/hovercard\" href=\"https://github.com/rails/rails/pull/51614\">#51614</a>, <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2332046603\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52012\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/52012/hovercard\" href=\"https://github.com/rails/rails/pull/52012\">#52012</a></p>\n<p dir=\"auto\">Executes the first routes reload when the route set is first used to serve a request, generate a url, or otherwise. Previously, this was executed unconditionally on boot, which can slow down boot time unnecessarily for larger apps with lots of routes.</p>\n<p dir=\"auto\">This Pull Request has been created to reduce route draw time for larger apps by deferring it until necessary.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes previous attempts were reverted. In this one, we're depending entirely on the route set class' methods to load routes instead of littering the codebase with manual reload calls. This should help prevent loading edge cases with the lazy route set. We're also swapping out the lazy route set for the normal one in eager-loaded environments to reduce impact on production.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52353",
            "title": "Defer route drawing to the first request, or when url_helpers called",
            "date_modified": "2024-07-18T22:58:38.000Z",
            "date_published": "2024-07-17T22:18:05.000Z",
            "author": {
                "name": "gmcgibbon",
                "url": "https://github.com/gmcgibbon"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Ref <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2341694000\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52062\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/52062/hovercard\" href=\"https://github.com/rails/rails/pull/52062\">#52062</a></p>\n<p dir=\"auto\">Previously, secret_key_base was allowed to be set to <code class=\"notranslate\">nil</code> in local environments (or with SECRET_KEY_BASE_DUMMY) because validation would only happen on usage and not on the setter. This was recently <a href=\"https://github.com/rails/rails/commit/c2901eb084adb3d3701be157bec20d2961beb515\">changed</a> to make it easier to identify exactly where a secret_key_base was being set to an invalid value.</p>\n<p dir=\"auto\">However, this broke some applications which unconditionally set secret_key_base to some external value in dev/test. Before the change, the set value could be <code class=\"notranslate\">nil</code> and fall back to the generated local secret on usage.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit restores that behavior so that applications can continue to set secret_key_base unconditionally, since the nil value will end up getting replaced by the generated local secret anyways.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">I left the condition blank for now to restore the behavior, but should we deprecate it and required applications set <code class=\"notranslate\">credentials.secret_key_base</code> instead?</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52351",
            "title": "Reallow setting secret_key_base to nil when local",
            "date_modified": "2024-07-18T08:02:20.000Z",
            "date_published": "2024-07-17T15:14:42.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This reverts commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/6902ca51824d5bc81e6c187ec7a58f787dfe4728/hovercard\" href=\"https://github.com/rails/rails/commit/6902ca51824d5bc81e6c187ec7a58f787dfe4728\"><tt>6902ca5</tt></a>.</p>\n<p dir=\"auto\">This was originally reverted due to a reported regression, however the regression appeared to be present without this patch as well (and was fixed in a later <a href=\"https://github.com/rails/rails/commit/ca937c59cd69c05cbb92bad4839d931061e15b69\">commit</a>.</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #52302.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2401430634\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52302\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52302/hovercard\" href=\"https://github.com/rails/rails/issues/52302\">#52302</a><br>\n<span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #27584.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"199049983\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/27584\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/27584/hovercard\" href=\"https://github.com/rails/rails/issues/27584\">#27584</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52348",
            "title": "Reapply \"Merge pull request #27586 from maclover7/jm-fix-27584\"",
            "date_modified": "2024-07-17T04:19:43.000Z",
            "date_published": "2024-07-17T04:19:39.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1100970?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">When you have a <code class=\"notranslate\">remove_check_constraint</code> with <code class=\"notranslate\">validate: false</code>, the Rails migration can fail, producing the error: <code class=\"notranslate\">raise(ArgumentError, \"Table '#{table_name}' has no check constraint for #{expression || options}\")</code>.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"remove_check_constraint(\n  :diagram_notes,\n  &quot;width IS NOT NULL&quot;,\n  name: &quot;diagram_notes_width_null&quot;,\n  validate: false,\n)\"><pre class=\"notranslate\"><span class=\"pl-en\">remove_check_constraint</span><span class=\"pl-kos\">(</span>\n  <span class=\"pl-pds\">:diagram_notes</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-s\">\"width IS NOT NULL\"</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"diagram_notes_width_null\"</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-pds\">validate</span>: <span class=\"pl-c1\">false</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">)</span></pre></div>\n<p dir=\"auto\">This occurs because <code class=\"notranslate\">remove_check_constraint</code> calls <code class=\"notranslate\">check_constraint_for!</code>, which filters out any validations of constraints that may have <code class=\"notranslate\">validate: false</code>. Since <code class=\"notranslate\">validate</code> is an acceptable option on <code class=\"notranslate\">add_check_constraint</code> but not on <code class=\"notranslate\">remove_check_constraint</code>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">In this PR - I am proposing to ensure that migrations do not fail with an unrelated or hard-to-understand exception when <code class=\"notranslate\">validate: false</code> is accidentally passed to <code class=\"notranslate\">remove_check_constraint</code>. We are simply dropping that attribute.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Have followed it up with a spec as well.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52345",
            "title": "Protect against invalid validate option on remove_check_constraint",
            "date_modified": "2024-07-16T18:27:16.000Z",
            "date_published": "2024-07-16T18:14:32.000Z",
            "author": {
                "name": "shayonj",
                "url": "https://github.com/shayonj"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/19192189?u=dd60737844a9db7f1475bab21fc3e5258a405e15&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">There's no need to use class eval here.</p>\n<p dir=\"auto\">Essentially a revert of <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/f7e91c7224560fbd3e95c238a0e8bb362799bcb7/hovercard\" href=\"https://github.com/rails/rails/commit/f7e91c7224560fbd3e95c238a0e8bb362799bcb7\"><tt>f7e91c7</tt></a></p>\n<p dir=\"auto\">FYI: <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/amatsuda/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/amatsuda\">@amatsuda</a>, I didn't find more context than the commit message, and as far as I can tell, this doesn't seem to re-introduce the issue mentioned, unless there's more to it and it happens when code is loaded in a particular order?</p>",
            "url": "https://github.com/rails/rails/pull/52339",
            "title": "Simplify FileUpdateCheckerSharedTests",
            "date_modified": "2024-07-16T07:44:19.000Z",
            "date_published": "2024-07-16T07:44:15.000Z",
            "author": {
                "name": "casperisfine",
                "url": "https://github.com/casperisfine"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Follow up to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1834208849\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48876\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48876/hovercard\" href=\"https://github.com/rails/rails/pull/48876\">#48876</a> (cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/HParker/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/HParker\">@HParker</a>).</p>\n<p dir=\"auto\">In <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2406845758\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52322\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/52322/hovercard\" href=\"https://github.com/rails/rails/pull/52322\">#52322</a> I discovered, that support for composite primary keys was not added to <code class=\"notranslate\">batch_on_loaded_relation</code> in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1834208849\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48876\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48876/hovercard\" href=\"https://github.com/rails/rails/pull/48876\">#48876</a>.</p>",
            "url": "https://github.com/rails/rails/pull/52329",
            "title": "Fix loaded relation batching for models with composite primary keys",
            "date_modified": "2024-07-14T11:48:53.000Z",
            "date_published": "2024-07-14T11:48:48.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/55164724?u=c6537070bc166ac2ce4c6e8e8aa439b91fff5af1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>",
            "url": "https://github.com/rails/rails/pull/52325",
            "title": "Exclude system tables from SQLite schema dumps",
            "date_modified": "2024-07-13T20:12:01.000Z",
            "date_published": "2024-07-13T18:33:21.000Z",
            "author": {
                "name": "northeastprince",
                "url": "https://github.com/northeastprince"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6379550?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Documentation doesn't mention that blorgh needs to be copied into unicorn/engines/blorgh. Fix to include that step.</p>\n\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because the instructions to install the engine <code class=\"notranslate\">blorgh</code> into the sample application <code class=\"notranslate\">unicorn</code> is missing the step of copying <code class=\"notranslate\">blorgh</code> into <code class=\"notranslate\">unicorn/engines/</code>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds the step of copying <code class=\"notranslate\">blorgh</code> into <code class=\"notranslate\">unicorn/engines/</code> before running <code class=\"notranslate\">bundle</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52318",
            "title": "Update engines.md with step needed to install engine in test application [ci skip]",
            "date_modified": "2024-07-12T18:04:55.000Z",
            "date_published": "2024-07-12T18:04:51.000Z",
            "author": {
                "name": "climatebrad",
                "url": "https://github.com/climatebrad"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6379550?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">For Comment model generator, use article:references instead of article_id:integer</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because the engines.md documentation uses an <code class=\"notranslate\">article_id:integer</code> column in its Comment model generator instead of an <code class=\"notranslate\">article:references</code> column.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">article_id:integer</code> column to <code class=\"notranslate\">article:references</code> column in the example Comment model generator and updates the explanatory text to match.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul dir=\"auto\">\n<li>[ x] This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li>[ x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li>[ x] Tests are added or updated if you fix a bug or add a feature.</li>\n<li>[ x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52317",
            "title": "Update engines.md: use article :references instead of article_id :integer in Comment model generator [ci skip]",
            "date_modified": "2024-07-12T15:17:52.000Z",
            "date_published": "2024-07-12T15:17:47.000Z",
            "author": {
                "name": "climatebrad",
                "url": "https://github.com/climatebrad"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/39736940?u=f85e4783c5ce6188b057cb325de859d49ca967e0&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created to Add support for different rate limiting strategies.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Implemented a sliding window rate limiting strategy that can be selected via the <code class=\"notranslate\">strategy</code> parameter.</p>\n<p dir=\"auto\">The default is a <code class=\"notranslate\">fixed_window</code> algorithm (what we have right now), but you can switch to the sliding window by setting <code class=\"notranslate\">strategy: :sliding_window</code>.</p>\n<p dir=\"auto\">This implementation allows for more granular control over rate limiting.</p>\n<p dir=\"auto\">You can also pass a custom strategy class in the <code class=\"notranslate\">strategy</code> parameter, as long as it implements the BaseStrategy interface. This provides flexibility for developers to create their own rate limiting logic tailored to specific use cases.</p>\n<h2 dir=\"auto\">Example usage:</h2>\n<p dir=\"auto\">Using a pre-defined strategy:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"    class LimitsController &lt; ActionController::Base\n      rate_limit to: 10, within: 1.hour, strategy: :sliding_window\n    end\"><pre class=\"notranslate\">    <span class=\"pl-k\">class</span> <span class=\"pl-v\">LimitsController</span> &lt; <span class=\"pl-v\">ActionController</span>::<span class=\"pl-v\">Base</span>\n      <span class=\"pl-en\">rate_limit</span> <span class=\"pl-pds\">to</span>: <span class=\"pl-c1\">10</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">within</span>: <span class=\"pl-c1\">1</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">hour</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">strategy</span>: <span class=\"pl-pds\">:sliding_window</span>\n    <span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">Using a custom strategy</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"    class LimitsController &lt; ActionController::Base\n      rate_limit to: 10, within: 1.hour, strategy: ::LeakyBucketStrategy\n    end\"><pre class=\"notranslate\">    <span class=\"pl-k\">class</span> <span class=\"pl-v\">LimitsController</span> &lt; <span class=\"pl-v\">ActionController</span>::<span class=\"pl-v\">Base</span>\n      <span class=\"pl-en\">rate_limit</span> <span class=\"pl-pds\">to</span>: <span class=\"pl-c1\">10</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">within</span>: <span class=\"pl-c1\">1</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">hour</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">strategy</span>: ::<span class=\"pl-v\">LeakyBucketStrategy</span>\n    <span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Additional information/questions</h3>\n<ul dir=\"auto\">\n<li>This PR might be divided into two PRs, one to support other strategies, and one to add some pre-defined strategies.</li>\n</ul>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52314",
            "title": "Add support for different rate limiting strategies",
            "date_modified": "2024-07-19T20:49:55.000Z",
            "date_published": "2024-07-11T21:03:40.000Z",
            "author": {
                "name": "federicoaldunate",
                "url": "https://github.com/federicoaldunate"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2779422?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This allows the schema dumper's generated <code class=\"notranslate\">enable_extension</code> statements<br>\nto include the schema name, if different from <code class=\"notranslate\">current_schema</code>.</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Fixes 52312.</p>\n<p dir=\"auto\">When extensions are created within a specific schema, the <code class=\"notranslate\">enable_extension</code> statement generated by the schema dumper should include the schema name.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">See <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2403936559\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52312\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52312/hovercard\" href=\"https://github.com/rails/rails/issues/52312\">#52312</a></p>\n<h3 dir=\"auto\">Additional information</h3>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52313",
            "title": "Update PostgreSQLAdapter#extensions to include schema name",
            "date_modified": "2024-07-11T19:36:00.000Z",
            "date_published": "2024-07-11T19:35:17.000Z",
            "author": {
                "name": "afn",
                "url": "https://github.com/afn"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/987638?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The current code expects <code class=\"notranslate\">active_record</code> to be loaded before <code class=\"notranslate\">active_job</code>. But I think there are no guarantees about load orders. At least, <code class=\"notranslate\">active_job</code> is loaded before <code class=\"notranslate\">active_record</code> in a newer application.</p>\n<p dir=\"auto\">In that case, <code class=\"notranslate\">EnqueueAfterTransactionCommit</code> isn't loaded and an application that uses <code class=\"notranslate\">enqueue_after_transaction_commit</code> in jobs will fail with the following error.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"app/jobs/user_job.rb:2:in `&lt;class:UserJob&gt;': undefined method `enqueue_after_transaction_commit=' for class UserJob (NoMethodError)\"><pre class=\"notranslate\"><code class=\"notranslate\">app/jobs/user_job.rb:2:in `&lt;class:UserJob&gt;': undefined method `enqueue_after_transaction_commit=' for class UserJob (NoMethodError)\n</code></pre></div>\n<p dir=\"auto\">I removed <code class=\"notranslate\">active_record</code> hook to fix this. Active Record are only used inside methods in ``EnqueueAfterTransactionCommit`. So I think it's safe to load the module without Active Record.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52301",
            "title": "Allow to set `enqueue_after_transaction_commit` to jobs when `eager_load` is true",
            "date_modified": "2024-07-10T22:51:00.000Z",
            "date_published": "2024-07-10T06:33:53.000Z",
            "author": {
                "name": "y-yagi",
                "url": "https://github.com/y-yagi"
            }
        }
    ]
}