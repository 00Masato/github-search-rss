{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52766",
            "title": "Document more examples of create_join_table naming results",
            "date_modified": "2024-09-02T08:01:49.000Z",
            "date_published": "2024-09-02T07:21:53.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/236461?u=cd87f40664f26021ba65daabaf812a036c1f4c8e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Partially addresses <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2498889249\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52756\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52756/hovercard\" href=\"https://github.com/rails/rails/issues/52756\">#52756</a>.</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because we want the Rails codebase to move from redirecting with URLs to redirecting with paths. See DHH's rationale in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2498889249\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52756\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52756/hovercard\" href=\"https://github.com/rails/rails/issues/52756\">#52756</a>.</p>\n<p dir=\"auto\">The problem is that currently, Rails converts any path redirection to a URL redirection. For example all the following:</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">redirect_to @some_record</code></li>\n<li><code class=\"notranslate\">redirect_to some_path</code></li>\n<li><code class=\"notranslate\">redirect_to \"/some/path\"</code></li>\n</ul>\n<p dir=\"auto\">are internally converted to URLs. Meaning that the 3xx redirect <code class=\"notranslate\">Location</code> response field is a full URL, not a path.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">_compute_redirect_to_location</code> (called by <code class=\"notranslate\">redirect_to</code>) to truly return a path by default.</p>\n<p dir=\"auto\">A full URL is still returned if <code class=\"notranslate\">redirect_to</code> has options like <code class=\"notranslate\">:host</code> which IMO means that the developer intended to use full URLs. I am uncertain about this so I am open to feedback.</p>\n<p dir=\"auto\">I am also a bit wary of unintended side effects; I only did a quick pass on fixing tests.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52765",
            "title": "Redirect with paths instead of URLs by default",
            "date_modified": "2024-09-02T05:57:36.000Z",
            "date_published": "2024-09-02T05:38:16.000Z",
            "author": {
                "name": "jeromedalbert",
                "url": "https://github.com/jeromedalbert"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/236461?u=cd87f40664f26021ba65daabaf812a036c1f4c8e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Partially addresses <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2498889249\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52756\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52756/hovercard\" href=\"https://github.com/rails/rails/issues/52756\">#52756</a>.</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because the Rails codebase is now promoting redirecting with paths instead of URLs. Namely we need to <a href=\"https://github.com/rails/rails/issues/52756#issuecomment-2323398590\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52756/hovercard\">change <code class=\"notranslate\">redirect_to posts_url</code></a> in our generators.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the scaffold controller template to use <code class=\"notranslate\">redirect_to posts_path</code> instead of <code class=\"notranslate\">redirect_to posts_url</code>. It also adds redirect expectations in tests.</p>\n<p dir=\"auto\">Please note that under the hood paths are still converted to URLs (<a href=\"https://github.com/rails/rails/issues/52756#issuecomment-2323728578\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52756/hovercard\">ref</a>). Changing this behavior may be trickier so I am leaving it out of this PR.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52764",
            "title": "Change controller generator to use _path instead of _url for redirects",
            "date_modified": "2024-09-02T06:00:42.000Z",
            "date_published": "2024-09-02T03:47:22.000Z",
            "author": {
                "name": "jeromedalbert",
                "url": "https://github.com/jeromedalbert"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5642707?u=f98bcd4f29a47438b74a1aa35f3d872fd0b0070b&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #52754.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2498156424\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52754\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52754/hovercard\" href=\"https://github.com/rails/rails/issues/52754\">#52754</a><br>\nRelated to the last comments from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2042774494\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50361\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50361/hovercard\" href=\"https://github.com/rails/rails/pull/50361\">#50361</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Changes <code class=\"notranslate\">deep_transform_keys</code> and <code class=\"notranslate\">deep_transform_keys!</code> to keep the non-empty object when transformed keys conflict with the original key.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52763",
            "title": "Fix parameters `deep_transform_keys` has conflicted keys",
            "date_modified": "2024-09-01T23:26:33.000Z",
            "date_published": "2024-09-01T18:22:18.000Z",
            "author": {
                "name": "iagopiimenta",
                "url": "https://github.com/iagopiimenta"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1826884?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h2 dir=\"auto\">Add example to configure ActiveRecord::Encryption via environment variable</h2>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because In Rails 7.1 <a href=\"https://guides.rubyonrails.org/v7.1/active_record_encryption.html#setup\" rel=\"nofollow\">Configuring Encryption Guide</a>, we are showing how we can setup using environment variables.</p>\n<p dir=\"auto\">Documentation in Rails 7.1 (Does not work in rails 7.0</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"config.active_record.encryption.primary_key = ENV['ACTIVE_RECORD_ENCRYPTION_PRIMARY_KEY']\nconfig.active_record.encryption.deterministic_key = ENV['ACTIVE_RECORD_ENCRYPTION_DETERMINISTIC_KEY']\nconfig.active_record.encryption.key_derivation_salt = ENV['ACTIVE_RECORD_ENCRYPTION_KEY_DERIVATION_SALT']\"><pre class=\"notranslate\"><span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">active_record</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">encryption</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">primary_key</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">ENV</span><span class=\"pl-kos\">[</span><span class=\"pl-s\">'ACTIVE_RECORD_ENCRYPTION_PRIMARY_KEY'</span><span class=\"pl-kos\">]</span>\n<span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">active_record</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">encryption</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">deterministic_key</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">ENV</span><span class=\"pl-kos\">[</span><span class=\"pl-s\">'ACTIVE_RECORD_ENCRYPTION_DETERMINISTIC_KEY'</span><span class=\"pl-kos\">]</span>\n<span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">active_record</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">encryption</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">key_derivation_salt</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">ENV</span><span class=\"pl-kos\">[</span><span class=\"pl-s\">'ACTIVE_RECORD_ENCRYPTION_KEY_DERIVATION_SALT'</span><span class=\"pl-kos\">]</span></pre></div>\n<p dir=\"auto\">When we are using the same method for Rails 7.0, while the initializer doesn't raise an error, but it doesn't properly set the <code class=\"notranslate\">primary_key</code>, <code class=\"notranslate\">deterministic_key</code>, and <code class=\"notranslate\">key_derivation_salt</code>. Causing the encryption not setup properly.</p>\n<p dir=\"auto\">This PR is adding a working method, when configuring via environment variables for Rails 7.0.x</p>\n<p dir=\"auto\">This is working in Rails 7.0</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"ActiveRecord::Encryption.configure(\n  primary_key: ENV[&quot;ACTIVE_RECORD_ENCRYPTION_PRIMARY_KEY&quot;],\n  deterministic_key: ENV[&quot;ACTIVE_RECORD_ENCRYPTION_DETERMINISTIC_KEY&quot;],\n  key_derivation_salt: ENV[&quot;ACTIVE_RECORD_ENCRYPTION_KEY_DERIVATION_SALT&quot;],\n)\"><pre class=\"notranslate\"><span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Encryption</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">configure</span><span class=\"pl-kos\">(</span>\n  <span class=\"pl-pds\">primary_key</span>: <span class=\"pl-c1\">ENV</span><span class=\"pl-kos\">[</span><span class=\"pl-s\">\"ACTIVE_RECORD_ENCRYPTION_PRIMARY_KEY\"</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-pds\">deterministic_key</span>: <span class=\"pl-c1\">ENV</span><span class=\"pl-kos\">[</span><span class=\"pl-s\">\"ACTIVE_RECORD_ENCRYPTION_DETERMINISTIC_KEY\"</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-pds\">key_derivation_salt</span>: <span class=\"pl-c1\">ENV</span><span class=\"pl-kos\">[</span><span class=\"pl-s\">\"ACTIVE_RECORD_ENCRYPTION_KEY_DERIVATION_SALT\"</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">)</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52762",
            "title": "[ci skip] Add example to configure ActiveRecord::Encryption",
            "date_modified": "2024-09-02T05:19:18.000Z",
            "date_published": "2024-09-01T12:15:32.000Z",
            "author": {
                "name": "bekicot",
                "url": "https://github.com/bekicot"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/50948617?u=e0731fc7b612eceeae21f01b0d425cf0aee40da4&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Extends <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2443312805\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52483\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/52483/hovercard\" href=\"https://github.com/rails/rails/pull/52483\">#52483</a></p>\n\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because I want to be able to customize the password reset token expiry by using the <code class=\"notranslate\">has_secure_password</code> method.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Currently, I need to set <code class=\"notranslate\">has_secure_password reset_token: false</code> and write the following which I believe defeats the purpose of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2443312805\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52483\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/52483/hovercard\" href=\"https://github.com/rails/rails/pull/52483\">#52483</a>.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class User &lt; ApplicationRecord\n  has_secure_password reset_token: false\n\n  generates_token_for :password_reset, expires_in: 30.minutes do\n    password_salt&amp;.last(10)\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">User</span> &lt; <span class=\"pl-v\">ApplicationRecord</span>\n  <span class=\"pl-en\">has_secure_password</span> <span class=\"pl-pds\">reset_token</span>: <span class=\"pl-c1\">false</span>\n\n  <span class=\"pl-en\">generates_token_for</span> <span class=\"pl-pds\">:password_reset</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">expires_in</span>: <span class=\"pl-c1\">30</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">minutes</span> <span class=\"pl-k\">do</span>\n    <span class=\"pl-en\">password_salt</span>&amp;.<span class=\"pl-en\">last</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">10</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">This PR, allows us to customize the password token expiry.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class User &lt; ApplicationRecord\n  has_secure_password reset_token_expires_in: 30.minutes\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">User</span> &lt; <span class=\"pl-v\">ApplicationRecord</span>\n  <span class=\"pl-en\">has_secure_password</span> <span class=\"pl-pds\">reset_token_expires_in</span>: <span class=\"pl-c1\">30</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">minutes</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52761",
            "title": "Customize `has_secure_password` password token expiry",
            "date_modified": "2024-09-01T09:24:25.000Z",
            "date_published": "2024-09-01T09:24:20.000Z",
            "author": {
                "name": "abeidahmed",
                "url": "https://github.com/abeidahmed"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/58582?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">In <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2278934921\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51735\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51735/hovercard\" href=\"https://github.com/rails/rails/pull/51735\">#51735</a>, the reference to <code class=\"notranslate\">Zlib</code> was moved from <a href=\"https://github.com/rails/rails/pull/51735/files#diff-ba005dd3f120df81a5c246216d66abf0922f26b6f1c2e93c9516d94b7c959213\">activerecord/lib/active_record/encryption/encryptor.rb</a> to <a href=\"https://github.com/rails/rails/pull/51735/files#diff-be4704f10be1ac4cee2a88fda4fec863e60e7f7204e94624c5137dc8e5d151b4\">activerecord/lib/active_record/encryption/config.rb</a>, but the <code class=\"notranslate\">require \"zlib\"</code> directive stayed in the original file.</p>\n<p dir=\"auto\">As a result, loading <code class=\"notranslate\">ActiveRecord::Encryption::Config</code> can result in such errors:</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"/[...]/activerecord/lib/active_record/encryption/config.rb:59:in `set_defaults': uninitialized constant ActiveRecord::Encryption::Config::Zlib (NameError)\n\n          self.compressor = Zlib\n                            ^^^^\"><pre class=\"notranslate\">/[...]/activerecord/lib/active_record/encryption/config.rb:59:in <span class=\"pl-s\"><span class=\"pl-pds\">`</span>set_defaults<span class=\"pl-s\"><span class=\"pl-pds\">'</span>: uninitialized constant ActiveRecord::Encryption::Config::Zlib (NameError)</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\"></span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">          self.compressor = Zlib</span></span>\n<span class=\"pl-s\"><span class=\"pl-s\">                            ^^^^</span></span></pre></div>\n<p dir=\"auto\">I encountered this issue while testing a private gem of mine against rails <code class=\"notranslate\">main</code> branch (the change from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2278934921\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51735\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51735/hovercard\" href=\"https://github.com/rails/rails/pull/51735\">#51735</a> is not released yet).</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This was an opportunity to add <code class=\"notranslate\">require \"zlib</code> to two other files where it was also missing.</p>\n<p dir=\"auto\">I've kept this additional change in a separate commit for clarity during review.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52760",
            "title": "Require \"zlib\" where `Zlib` is referenced",
            "date_modified": "2024-09-01T10:56:19.000Z",
            "date_published": "2024-09-01T08:52:59.000Z",
            "author": {
                "name": "maximerety",
                "url": "https://github.com/maximerety"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/236461?u=cd87f40664f26021ba65daabaf812a036c1f4c8e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Ref: <a href=\"https://discuss.rubyonrails.org/t/should-form-tag-and-form-for-be-fully-deprecated-now/86501\" rel=\"nofollow\">discussion</a></p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because DHH <a href=\"https://discuss.rubyonrails.org/t/should-form-tag-and-form-for-be-fully-deprecated-now/86501/2?u=jeromedalbert\" rel=\"nofollow\">mentioned</a> that we're better off steering folks through guides and docs towards the new <code class=\"notranslate\">form_with</code> syntax. The guides already <a href=\"https://guides.rubyonrails.org/form_helpers.html#using-form-tag-and-form-for\" rel=\"nofollow\">mention</a> that <code class=\"notranslate\">form_tag</code> and <code class=\"notranslate\">form_for</code> are soft-deprecated, but the API docs don't. As a result people might be unsure which one to choose if they only search in the API docs.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the API docs to recommend <code class=\"notranslate\">form_with</code> over <code class=\"notranslate\">form_tag</code> and <code class=\"notranslate\">form_for</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52759",
            "title": "Update API docs to recommend `form_with` over `form_tag` and `form_for` [ci skip]",
            "date_modified": "2024-09-02T06:13:53.000Z",
            "date_published": "2024-09-01T07:47:14.000Z",
            "author": {
                "name": "jeromedalbert",
                "url": "https://github.com/jeromedalbert"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/26753?u=0a6b07f9d744878cae7a8e1490fd5762fcad190f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because PostgreSQL 15 or later now support ICU collations.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The following parameters are newly supported in config/database.yml for PostgreSQL 15 or later.</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">locale_provider</code>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">libc</code> or <code class=\"notranslate\">icu</code></li>\n</ul>\n</li>\n<li><code class=\"notranslate\">icu_locale</code>\n<ul dir=\"auto\">\n<li>Find the value by <code class=\"notranslate\">SELECT collname FROM pg_collation</code>, Ex: <code class=\"notranslate\">ja-x-icu</code></li>\n<li><a href=\"https://www.postgresql.org/docs/16/locale.html#ICU-LANGUAGE-TAG\" rel=\"nofollow\">Language tag</a>, Ex: <code class=\"notranslate\">en-US-u-kn-ks-level2 </code></li>\n</ul>\n</li>\n<li><code class=\"notranslate\">icu_rules</code>\n<ul dir=\"auto\">\n<li>Ex: <code class=\"notranslate\">&amp;V &lt;&lt;&lt; w &lt;&lt;&lt; W</code></li>\n<li><a href=\"https://www.postgresql.org/docs/16/collation.html#ICU-TAILORING-RULES\" rel=\"nofollow\">https://www.postgresql.org/docs/16/collation.html#ICU-TAILORING-RULES</a></li>\n<li><a href=\"https://unicode-org.github.io/icu/userguide/collation/customization/\" rel=\"nofollow\">https://unicode-org.github.io/icu/userguide/collation/customization/</a></li>\n</ul>\n</li>\n</ul>\n<p dir=\"auto\">Refs:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://www.postgresql.org/docs/16/sql-createdatabase.html\" rel=\"nofollow\">https://www.postgresql.org/docs/16/sql-createdatabase.html</a></li>\n<li><a href=\"https://www.postgresql.org/docs/16/collation.html\" rel=\"nofollow\">https://www.postgresql.org/docs/16/collation.html</a></li>\n<li><a href=\"https://www.postgresql.org/docs/15/sql-createdatabase.html\" rel=\"nofollow\">https://www.postgresql.org/docs/15/sql-createdatabase.html</a></li>\n<li><a href=\"https://www.postgresql.org/docs/15/collation.html\" rel=\"nofollow\">https://www.postgresql.org/docs/15/collation.html</a></li>\n</ul>\n<p dir=\"auto\">The following methods are newly added to <a href=\"https://github.com/rails/rails/blob/main/activerecord/lib/active_record/connection_adapters/postgresql/schema_statements.rb\"><code class=\"notranslate\">ActiveRecord::ConnectionAdapters::PostgreSQL::SchemaStatements</code></a>.</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">icu_locale</code>\n<ul dir=\"auto\">\n<li>Ex: <code class=\"notranslate\">ActiveRecord::Base.connection.icu_locale #=&gt; \"ja-x-icu\"</code></li>\n</ul>\n</li>\n<li><code class=\"notranslate\">locale_provider</code>\n<ul dir=\"auto\">\n<li>Ex: <code class=\"notranslate\">ActiveRecord::Base.connection.locale_provider #=&gt; \"i\"</code></li>\n<li>This method returns <code class=\"notranslate\">c</code>, <code class=\"notranslate\">i</code> or nil (c = libc, i = icu)</li>\n</ul>\n</li>\n<li><code class=\"notranslate\">icu_rules</code>\n<ul dir=\"auto\">\n<li>Ex: <code class=\"notranslate\">ActiveRecord::Base.connection.icu_rules #=&gt; \"&amp;V &lt;&lt;&lt; w &lt;&lt;&lt; W\"</code></li>\n</ul>\n</li>\n</ul>\n<p dir=\"auto\">Refs:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://www.postgresql.org/docs/16/catalog-pg-database.html\" rel=\"nofollow\">https://www.postgresql.org/docs/16/catalog-pg-database.html</a></li>\n<li><a href=\"https://www.postgresql.org/docs/15/catalog-pg-database.html\" rel=\"nofollow\">https://www.postgresql.org/docs/15/catalog-pg-database.html</a></li>\n</ul>\n<h4 dir=\"auto\">Current</h4>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"# config/database.yml\ndatabase: sample_development\nadapter: postgresql\nencoding: unicode\npool: &lt;%= ENV.fetch(&quot;RAILS_MAX_THREADS&quot;) { 5 } %&gt;\n\n# \\l sample_development\nList of databases\n-[ RECORD 1 ]-----+-------------------\nName              | sample_development\nOwner             | rono23\nEncoding          | UTF8\nLocale Provider   | libc\nCollate           | C\nCtype             | C\nICU Locale        | \nICU Rules         | \nAccess privileges | \n\n# SELECT title FROM posts ORDER BY title ASC;\n title \n-------\n 1\n 2\n A\n B\n a\n b\n あ\n い\n ア\n イ\n(10 rows)\"><pre class=\"notranslate\"><code class=\"notranslate\"># config/database.yml\ndatabase: sample_development\nadapter: postgresql\nencoding: unicode\npool: &lt;%= ENV.fetch(\"RAILS_MAX_THREADS\") { 5 } %&gt;\n\n# \\l sample_development\nList of databases\n-[ RECORD 1 ]-----+-------------------\nName              | sample_development\nOwner             | rono23\nEncoding          | UTF8\nLocale Provider   | libc\nCollate           | C\nCtype             | C\nICU Locale        | \nICU Rules         | \nAccess privileges | \n\n# SELECT title FROM posts ORDER BY title ASC;\n title \n-------\n 1\n 2\n A\n B\n a\n b\n あ\n い\n ア\n イ\n(10 rows)\n</code></pre></div>\n<h4 dir=\"auto\">After this PR</h4>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"# Set new parameters in config/database.yml\ntemplate: template0\nlocale_provider: icu\nicu_locale: ja-x-icu                                                                                                                                         \n\n# \\l sample_development\nList of databases\n-[ RECORD 1 ]-----+-------------------\nName              | sample_development\nOwner             | rono23\nEncoding          | UTF8\nLocale Provider   | icu\nCollate           | C\nCtype             | C\nICU Locale        | ja-x-icu\nICU Rules         | \nAccess privileges | \n\n# SELECT title FROM posts ORDER BY title ASC;\n title \n-------\n 1\n 2\n a\n A\n b\n B\n あ\n ア\n い\n イ\n(10 rows)\"><pre class=\"notranslate\"><code class=\"notranslate\"># Set new parameters in config/database.yml\ntemplate: template0\nlocale_provider: icu\nicu_locale: ja-x-icu                                                                                                                                         \n\n# \\l sample_development\nList of databases\n-[ RECORD 1 ]-----+-------------------\nName              | sample_development\nOwner             | rono23\nEncoding          | UTF8\nLocale Provider   | icu\nCollate           | C\nCtype             | C\nICU Locale        | ja-x-icu\nICU Rules         | \nAccess privileges | \n\n# SELECT title FROM posts ORDER BY title ASC;\n title \n-------\n 1\n 2\n a\n A\n b\n B\n あ\n ア\n い\n イ\n(10 rows)\n</code></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<h4 dir=\"auto\">PostgreSQL 15</h4>\n<blockquote>\n<p dir=\"auto\">Allow <a href=\"https://www.postgresql.org/docs/15/locale.html\" rel=\"nofollow\">ICU</a> collations to be set as the default for clusters and databases (Peter Eisentraut)<br>\nPreviously, only libc-based collations could be selected at the cluster and database levels. ICU collations could only be used via explicit <code class=\"notranslate\">COLLATE</code> clauses.<br>\n<a href=\"https://www.postgresql.org/docs/15/release-15.html\" rel=\"nofollow\">https://www.postgresql.org/docs/15/release-15.html</a></p>\n</blockquote>\n<blockquote>\n<p dir=\"auto\"><a href=\"https://www.postgresql.org/docs/15/sql-createdatabase.html\" rel=\"nofollow\">icu_locale</a><br>\nSpecifies the ICU locale ID if the ICU locale provider is used.</p>\n</blockquote>\n<blockquote>\n<p dir=\"auto\"><a href=\"https://www.postgresql.org/docs/15/sql-createdatabase.html\" rel=\"nofollow\">locale_provider</a><br>\nSpecifies the provider to use for the default collation in this database. Possible values are: <code class=\"notranslate\">icu</code>, <code class=\"notranslate\">libc</code>. <code class=\"notranslate\">libc</code> is the default. The available choices depend on the operating system and build options.</p>\n</blockquote>\n<h4 dir=\"auto\">PostgreSQL 16</h4>\n<blockquote>\n<p dir=\"auto\">Allow custom ICU collation rules to be created (Peter Eisentraut)<br>\nThis is done using <a href=\"https://www.postgresql.org/docs/16/sql-createcollation.html\" rel=\"nofollow\"><code class=\"notranslate\">CREATE COLLATION</code></a>'s new RULES clause, as well as new options for <a href=\"https://www.postgresql.org/docs/16/sql-createdatabase.html\" rel=\"nofollow\"><code class=\"notranslate\">CREATE DATABASE</code></a>, <a href=\"https://www.postgresql.org/docs/16/app-createdb.html\" rel=\"nofollow\">createdb</a>, and <a href=\"https://www.postgresql.org/docs/16/app-initdb.html\" rel=\"nofollow\">initdb</a>.<br>\n<a href=\"https://www.postgresql.org/docs/16/release-16.html\" rel=\"nofollow\">https://www.postgresql.org/docs/16/release-16.html</a></p>\n</blockquote>\n<blockquote>\n<p dir=\"auto\"><a href=\"https://www.postgresql.org/docs/16/sql-createdatabase.html#CREATE-DATABASE-ICU-LOCALE\" rel=\"nofollow\">icu_locale</a><br>\nSpecifies the ICU locale (see <a href=\"https://www.postgresql.org/docs/16/collation.html#COLLATION-MANAGING-CREATE-ICU\" rel=\"nofollow\">Section 24.2.2.3.2</a>) for the database default collation order and character classification, overriding the setting <a href=\"https://www.postgresql.org/docs/16/sql-createdatabase.html#CREATE-DATABASE-LOCALE\" rel=\"nofollow\"><code class=\"notranslate\">locale</code></a>. The <a href=\"https://www.postgresql.org/docs/16/sql-createdatabase.html#CREATE-DATABASE-LOCALE-PROVIDER\" rel=\"nofollow\">locale provider</a> must be ICU. The default is the setting of <a href=\"https://www.postgresql.org/docs/16/sql-createdatabase.html#CREATE-DATABASE-LOCALE\" rel=\"nofollow\"><code class=\"notranslate\">locale</code></a> if specified; otherwise the same setting as the template database.</p>\n</blockquote>\n<blockquote>\n<p dir=\"auto\"><a href=\"https://www.postgresql.org/docs/16/sql-createdatabase.html#CREATE-DATABASE-LOCALE-PROVIDER\" rel=\"nofollow\">locale_provider</a><br>\nSpecifies the provider to use for the default collation in this database. Possible values are <code class=\"notranslate\">icu</code> (if the server was built with ICU support) or <code class=\"notranslate\">libc</code>. By default, the provider is the same as that of the <a href=\"https://www.postgresql.org/docs/16/sql-createdatabase.html#CREATE-DATABASE-TEMPLATE\" rel=\"nofollow\">template</a>. See <a href=\"https://www.postgresql.org/docs/16/locale.html#LOCALE-PROVIDERS\" rel=\"nofollow\">Section 24.1.4</a> for details.</p>\n</blockquote>\n<blockquote>\n<p dir=\"auto\"><a href=\"https://www.postgresql.org/docs/16/sql-createdatabase.html#CREATE-DATABASE-ICU-RULES\" rel=\"nofollow\">icu_rules</a><br>\nSpecifies additional collation rules to customize the behavior of the default collation of this database. This is supported for ICU only. See <a href=\"https://www.postgresql.org/docs/16/collation.html#ICU-TAILORING-RULES\" rel=\"nofollow\">Section 24.2.3.4</a> for details.</p>\n</blockquote>\n<h3 dir=\"auto\">Checklist</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52758",
            "title": "Add support for ICU collations in PostgreSQL 15 or later",
            "date_modified": "2024-09-01T08:50:11.000Z",
            "date_published": "2024-09-01T04:23:47.000Z",
            "author": {
                "name": "rono23",
                "url": "https://github.com/rono23"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/7348?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">After updating to Rails 7.2, we noticed that attributes were missing when inspecting AR objects in a production-like console. We found <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1959373528\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49765\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49765/hovercard\" href=\"https://github.com/rails/rails/pull/49765\">#49765</a>. After discussing this with <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/rafaelfranca/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rafaelfranca\">@rafaelfranca</a> and the author of the PR, <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/andrewn617/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/andrewn617\">@andrewn617</a>, we came to the conclusion that this should default to <code class=\"notranslate\">:all</code>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR changes the default of <code class=\"notranslate\">attributes_for_inspect</code> to <code class=\"notranslate\">:all</code>. There's a commit on this branch that also updated the Rails 7.2 new defaults initializer, but I removed that as it's not on main and I'm unsure how to handle that.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This PR is going off of a discussion with <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/rafaelfranca/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rafaelfranca\">@rafaelfranca</a>. It's possible there is more to change here to make this work properly, and I apologize if thats the case. Happy to make more updates. I'm curious if, since we want new Rails applications to have this default set to true, if the <code class=\"notranslate\">production.rb</code> environment file should be updated to include the configuration change.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52753",
            "title": "`ActiveRecord::Base.attributes_for_inspect` should default to `:all`",
            "date_modified": "2024-09-01T15:08:41.000Z",
            "date_published": "2024-08-30T20:35:24.000Z",
            "author": {
                "name": "levicole",
                "url": "https://github.com/levicole"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28872849?u=49f9c9767971ca366205c6c25f79960f2ddf8cba&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This PR adds tests for the devcontainer generator.</p>\n<p dir=\"auto\">During discussion with <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/andrewn617/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/andrewn617\">@andrewn617</a>  in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2485076268\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52704\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52704/hovercard\" href=\"https://github.com/rails/rails/issues/52704\">#52704</a>, we decided that although the generator is tested via the app generator, and now hidden from the generator list in favor of the devcontainer command, it would still be beneficial to test it directly.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">I took the devcontainer tests from <code class=\"notranslate\">railties/test/generators/app_generator_test.rb</code>, copied them over, and split them up by option, and tidied up.</p>\n<p dir=\"auto\">Tests for all of the possible option values, plus a shared test for configuration that should not vary due to options. The common test is run against the default generator, and then every time an argument is used. May be overkill, but I don't think these tests are expensive</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated <del>if you fix a bug or add a feature</del>.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> <del>CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</del></li>\n</ul>\n<h3 dir=\"auto\">Additional Notes</h3>\n<p dir=\"auto\">I have found one issue with <code class=\"notranslate\">application_system_test_case</code> modification. The generator uses <code class=\"notranslate\">gsub_file</code> in such a way that it is not idempotent, and gets <strong>pretty messed up</strong> on the second run.  I started to add a test for it, but didn't want to get stuck on that here. I can add a separate issue if need be. Here was the start of my test for that, if anyone wants to try it out:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"def test_system_test_option_idempotent\n  copy_application_system_test_case\n\n  run_generator\n\n  assert_file(&quot;test/application_system_test_case.rb&quot;) do |system_test_case|\n    assert_match(/^  if ENV\\[&quot;CAPYBARA_SERVER_PORT&quot;\\]/, system_test_case)\n    assert_match(/^    served_by host: &quot;rails-app&quot;, port: ENV\\[&quot;CAPYBARA_SERVER_PORT&quot;\\]/, system_test_case)\n    assert_match(/^    driven_by :selenium, using: :headless_chrome, screen_size: \\[ 1400, 1400 \\], options: {$/, system_test_case)\n    assert_match(/^      browser: :remote,$/, system_test_case)\n    assert_match(/^      url: &quot;http:\\/\\/\\#{ENV\\[&quot;SELENIUM_HOST&quot;\\]}:4444&quot;$/, system_test_case)\n  end\n\n  run_generator\n  assert_file(&quot;test/application_system_test_case.rb&quot;) do |system_test_case|\n    # TODO: assert only one\n    # assert_match(/^  if ENV\\[&quot;CAPYBARA_SERVER_PORT&quot;\\]/, system_test_case)\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">def</span> <span class=\"pl-en\">test_system_test_option_idempotent</span>\n  <span class=\"pl-en\">copy_application_system_test_case</span>\n\n  <span class=\"pl-en\">run_generator</span>\n\n  <span class=\"pl-en\">assert_file</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"test/application_system_test_case.rb\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">system_test_case</span>|\n    <span class=\"pl-en\">assert_match</span><span class=\"pl-kos\">(</span><span class=\"pl-sr\">/^  if ENV<span class=\"pl-cce\">\\[</span>\"CAPYBARA_SERVER_PORT\"<span class=\"pl-cce\">\\]</span>/</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">system_test_case</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-en\">assert_match</span><span class=\"pl-kos\">(</span><span class=\"pl-sr\">/^    served_by host: \"rails-app\", port: ENV<span class=\"pl-cce\">\\[</span>\"CAPYBARA_SERVER_PORT\"<span class=\"pl-cce\">\\]</span>/</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">system_test_case</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-en\">assert_match</span><span class=\"pl-kos\">(</span><span class=\"pl-sr\">/^    driven_by :selenium, using: :headless_chrome, screen_size: <span class=\"pl-cce\">\\[</span> 1400, 1400 <span class=\"pl-cce\">\\]</span>, options: {$/</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">system_test_case</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-en\">assert_match</span><span class=\"pl-kos\">(</span><span class=\"pl-sr\">/^      browser: :remote,$/</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">system_test_case</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-en\">assert_match</span><span class=\"pl-kos\">(</span><span class=\"pl-sr\">/^      url: \"http:<span class=\"pl-cce\">\\/</span><span class=\"pl-cce\">\\/</span><span class=\"pl-cce\">\\#</span>{ENV<span class=\"pl-cce\">\\[</span>\"SELENIUM_HOST\"<span class=\"pl-cce\">\\]</span>}:4444\"$/</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">system_test_case</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-en\">run_generator</span>\n  <span class=\"pl-en\">assert_file</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"test/application_system_test_case.rb\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">system_test_case</span>|\n    <span class=\"pl-c\"># TODO: assert only one</span>\n    <span class=\"pl-c\"># assert_match(/^  if ENV\\[\"CAPYBARA_SERVER_PORT\"\\]/, system_test_case)</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>",
            "url": "https://github.com/rails/rails/pull/52752",
            "title": "Test DevcontainerGenerator",
            "date_modified": "2024-09-01T18:34:56.000Z",
            "date_published": "2024-08-30T19:41:51.000Z",
            "author": {
                "name": "thejonroberts",
                "url": "https://github.com/thejonroberts"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/824254?u=d635bbe022541838b9319dfe9c78907dec0ed401&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because when <strong>reverting</strong> a migration I was getting the message <code class=\"notranslate\">Migrating to AddUsernameColumnToUser (20240827174134)</code>, which doesn't seem like an accurate description of the operation.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the message based on the operation.</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">up</code> operation: message keeps being the same (<code class=\"notranslate\">Migrating to AddUsernameColumnToUser (20240827174134)</code>)</li>\n<li><code class=\"notranslate\">down</code> operation: message change (<code class=\"notranslate\">Rolling back AddUsernameColumnToUser (20240827174134)</code>)</li>\n</ul>\n<p dir=\"auto\"><code class=\"notranslate\">AddUsernameColumnToUser</code> is just an example of a migration name<br>\n<code class=\"notranslate\">20240827174134</code> is the timestamp</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">I thought <code class=\"notranslate\">Rolling back</code> would be accurate since we use the command <code class=\"notranslate\">rake db:rollback</code>. But <code class=\"notranslate\">Reverting</code> or another similar set of words might be best.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52749",
            "title": "Fix migration log message for down operations",
            "date_modified": "2024-09-02T04:54:59.000Z",
            "date_published": "2024-08-30T15:44:21.000Z",
            "author": {
                "name": "bernardobarreto",
                "url": "https://github.com/bernardobarreto"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Make it easier for third party gems, to register test directories.</p>\n<p dir=\"auto\">For example <code class=\"notranslate\">rspec-rails</code> currently appends to the TEST_TYPES constant:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"  ::STATS_DIRECTORIES &lt;&lt; [&quot;#{name} specs&quot;, dir]\n  ::CodeStatistics::TEST_TYPES &lt;&lt; &quot;#{name} specs&quot;\"><pre class=\"notranslate\"><code class=\"notranslate\">  ::STATS_DIRECTORIES &lt;&lt; [\"#{name} specs\", dir]\n  ::CodeStatistics::TEST_TYPES &lt;&lt; \"#{name} specs\"\n</code></pre></div>\n<p dir=\"auto\"><a href=\"https://github.com/rspec/rspec-rails/blob/418daeb0f492e693b7bd2c6bba1c2c1aee3a4d37/lib/rspec/rails/tasks/rspec.rake#L44\">https://github.com/rspec/rspec-rails/blob/418daeb0f492e693b7bd2c6bba1c2c1aee3a4d37/lib/rspec/rails/tasks/rspec.rake#L44</a></p>\n<p dir=\"auto\">With this change it can be simplified to:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"::Rails::CodeStatistics.register_directory &quot;#{name} specs&quot;, dir, test_directory: true\"><pre class=\"notranslate\"><code class=\"notranslate\">::Rails::CodeStatistics.register_directory \"#{name} specs\", dir, test_directory: true\n</code></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52747",
            "title": "Allow registering test directories for CodeStatistics",
            "date_modified": "2024-08-30T17:49:46.000Z",
            "date_published": "2024-08-30T09:09:04.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/14981592?u=11406fb0121b15a93b3305388377a57b4d9c96f9&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Ruby plans to make <code class=\"notranslate\">benchmark</code> a bundled gem: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2493901747\" data-permission-text=\"Title is private\" data-url=\"https://github.com/ruby/ruby/issues/11492\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/ruby/ruby/pull/11492/hovercard\" href=\"https://github.com/ruby/ruby/pull/11492\">ruby/ruby#11492</a></p>\n<p dir=\"auto\">It doesn't make much sense to keep this core extension since rails would need to add it to its gemspec to continue offering it for what basically amounts to <code class=\"notranslate\">1000 * x</code>.</p>\n<p dir=\"auto\">Since requiring it could emit a warning, add it to the gemspec until it can later be removed again with Rails 8.1</p>\n<p dir=\"auto\">The benchmark generator will continue to work as usual: It adds <code class=\"notranslate\">benchmark-ips</code> to the users Gemfile, which in turn should depend on <code class=\"notranslate\">benchmark</code>: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2494796252\" data-permission-text=\"Title is private\" data-url=\"https://github.com/evanphx/benchmark-ips/issues/141\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/evanphx/benchmark-ips/pull/141/hovercard\" href=\"https://github.com/evanphx/benchmark-ips/pull/141\">evanphx/benchmark-ips#141</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52746",
            "title": "Deprecate `Benchmark.ms` and add `benchmark` to the gemspec",
            "date_modified": "2024-08-29T18:15:19.000Z",
            "date_published": "2024-08-29T16:16:49.000Z",
            "author": {
                "name": "Earlopain",
                "url": "https://github.com/Earlopain"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Currently, this works across all database adapters:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"SomeModel.select(arel_table[:some_column]).count\"><pre class=\"notranslate\"><span class=\"pl-v\">SomeModel</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">select</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">arel_table</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:some_column</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">count</span></pre></div>\n<p dir=\"auto\">MySQL also support <code class=\"notranslate\">COUNT DISTINCT</code> over multiple columns, but this is not working and produces invalid SQL:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"SomeModel.select(arel_table[:column1], arel_table[:column2]).distinct.count\"><pre class=\"notranslate\"><span class=\"pl-v\">SomeModel</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">select</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">arel_table</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:column1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">arel_table</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:column2</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">distinct</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">count</span></pre></div>\n<p dir=\"auto\">So this PR fixes that case.</p>",
            "url": "https://github.com/rails/rails/pull/52744",
            "title": "Fix `distinct.count` when using `select` with multiple arel expressions",
            "date_modified": "2024-08-29T12:05:03.000Z",
            "date_published": "2024-08-29T12:04:58.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/92010?u=64492eb10f8d22c3f9c7766b9b16d4d6ba1384cc&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">The preferred web app tag has changed and Chrome is reporting the old one as deprecated.</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/92010/362467273-942ed7ed-3c50-4407-b3e0-64f752f421a5.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjUyNjgwMDIsIm5iZiI6MTcyNTI2NzcwMiwicGF0aCI6Ii85MjAxMC8zNjI0NjcyNzMtOTQyZWQ3ZWQtM2M1MC00NDA3LWIzZTAtNjRmNzUyZjQyMWE1LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA5MDIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwOTAyVDA5MDE0MlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWE0NDc1YzFjZjZhNTllMDAxOGQxZTYyOTY3Mjc3N2EwYzM1YWE1MWYwYjA0ZTAzOWNjMTE2MjIzYTc4ZWJkNDEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.RagPc0VfablYSbVXqh-26IvpoQSvIWcTfxXMoYvnLms\"><img src=\"https://private-user-images.githubusercontent.com/92010/362467273-942ed7ed-3c50-4407-b3e0-64f752f421a5.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjUyNjgwMDIsIm5iZiI6MTcyNTI2NzcwMiwicGF0aCI6Ii85MjAxMC8zNjI0NjcyNzMtOTQyZWQ3ZWQtM2M1MC00NDA3LWIzZTAtNjRmNzUyZjQyMWE1LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA5MDIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwOTAyVDA5MDE0MlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWE0NDc1YzFjZjZhNTllMDAxOGQxZTYyOTY3Mjc3N2EwYzM1YWE1MWYwYjA0ZTAzOWNjMTE2MjIzYTc4ZWJkNDEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.RagPc0VfablYSbVXqh-26IvpoQSvIWcTfxXMoYvnLms\" alt=\"Screenshot 2024-08-28 at 3 11 23 PM\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">This PR updates the template to use the newer tag based on the current PWA standard.</p>",
            "url": "https://github.com/rails/rails/pull/52738",
            "title": "Replace deprecated PWA tag with newer one",
            "date_modified": "2024-08-31T14:04:10.000Z",
            "date_published": "2024-08-28T22:16:49.000Z",
            "author": {
                "name": "pas256",
                "url": "https://github.com/pas256"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/660706?u=19410c942e0efecfa563a274074ddcc521846fde&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Currently, all controllers that use <code class=\"notranslate\">ActionController::Live</code> create a new thread to process every request. Creating threads is somewhat expensive. We can avoid that by using a thread pool, which we do already elsewhere in rails.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR introduces <code class=\"notranslate\">ActionController::Live.live_thread_pool_executor</code>, which can contain any number of threads, keeping them around for a while (60s is the default in concurrent-ruby).</p>\n<p dir=\"auto\">I also clean up the thread locals we copy over from the parent thread. This is a bit messy. There are probably some tests required, though I'm not entirely sure where to put them.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52731",
            "title": "Use thread pool for ActionController::Live",
            "date_modified": "2024-08-29T08:28:56.000Z",
            "date_published": "2024-08-28T11:16:06.000Z",
            "author": {
                "name": "tgwizard",
                "url": "https://github.com/tgwizard"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/67046614?u=4f71a9eb45e037bbff1deb7a3049ed030cbb7d75&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">To filter parent model records, with any one child associated with it by semi-joins between parent and children</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">To optimize the performance when filtering parent model records based on the presence of associated records, we propose using semi-joins instead of full joins. Typically, we rely on methods like <code class=\"notranslate\">where.associated</code> and <code class=\"notranslate\">where.missing</code>, which utilize <code class=\"notranslate\">JOIN</code> clauses. However, in scenarios where we don't need the associated records joins in the result set, semi-joins offer a more efficient alternative. They help avoid the overhead of returning duplicate rows when there are multiple matches.</p>\n<p dir=\"auto\">For example, to retrieve posts with at least one comment, we can now write:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Post.where.exists_with(:comments)\"><pre class=\"notranslate\"><span class=\"pl-v\">Post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">where</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">exists_with</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:comments</span><span class=\"pl-kos\">)</span></pre></div>",
            "url": "https://github.com/rails/rails/pull/52707",
            "title": "feat: Add `where.exists_with` methods",
            "date_modified": "2024-09-01T18:10:04.000Z",
            "date_published": "2024-08-25T10:58:58.000Z",
            "author": {
                "name": "InbaKrish",
                "url": "https://github.com/InbaKrish"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/23489664?u=b1bdada244b23f2cfef6b21063647c24416705ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because there are inconsistencies with touch when <code class=\"notranslate\">counter_cache</code> is used. <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #52646.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2472921317\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52646\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52646/hovercard\" href=\"https://github.com/rails/rails/issues/52646\">#52646</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes how we run touch callbacks when <code class=\"notranslate\">counter_cache</code> is used. Currently there is lots of inconsistency in how <code class=\"notranslate\">after_touch</code> works when a model uses <code class=\"notranslate\">counter_cache</code> as noted in the issue script. Example: <code class=\"notranslate\">ProjectItem.first.destroy!</code> does not work but <code class=\"notranslate\">project.project_items.first.destroy!</code> works.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">As mentioned on the issue, there has been a few attempts to cover this, it looks like the preferred way is to use <code class=\"notranslate\">increment!</code> based on this <a href=\"https://github.com/rails/rails/commit/17bf62033edd4f0934c9f4a9e0c7a5f0f765975b\">commit</a>. This was reverted due to the additional queries <a href=\"https://github.com/rails/rails/commit/52e11e462f6114a4d12225c639c5f501f0ffec7a\">here</a> but i don't think we're able to avoid the additional queries.</p>\n<p dir=\"auto\">Alternative solution could be to change <code class=\"notranslate\">update_counters</code> to <code class=\"notranslate\">load_target if reflection.options[:touch]</code> as it appears target is nil when using <code class=\"notranslate\">counter_cache</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52692",
            "title": "Ensure callbacks run on counter_cache increment",
            "date_modified": "2024-08-23T14:23:41.000Z",
            "date_published": "2024-08-23T14:19:39.000Z",
            "author": {
                "name": "alexanderholder",
                "url": "https://github.com/alexanderholder"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/55164724?u=c6537070bc166ac2ce4c6e8e8aa439b91fff5af1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>",
            "url": "https://github.com/rails/rails/pull/52671",
            "title": "Allow passing validation options to update",
            "date_modified": "2024-08-31T01:42:45.000Z",
            "date_published": "2024-08-21T15:36:38.000Z",
            "author": {
                "name": "northeastprince",
                "url": "https://github.com/northeastprince"
            }
        }
    ]
}