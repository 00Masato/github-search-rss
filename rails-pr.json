{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/19192189?u=dd60737844a9db7f1475bab21fc3e5258a405e15&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">By using <code class=\"notranslate\">ruby2_keyword</code> style delegation we we can avoid a few allocations and some extra checks.</p>\n<p dir=\"auto\"><code class=\"notranslate\">Time.at_with_coercion</code> remains a significant overhead though, so hotspots should probably bypass it by calling <code class=\"notranslate\">Time.at_without_coercion</code>.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ ruby --yjit /tmp/bench-as-time-at.rb\nruby 3.2.2 (2023-03-30 revision e51014f9c0) +YJIT [arm64-darwin22]\n=== Complex call ====\nWarming up --------------------------------------\n        Time.without   320.514k i/100ms\n           Time.with    68.433k i/100ms\n       Time.opt_with   167.532k i/100ms\nCalculating -------------------------------------\n        Time.without      3.781M (± 4.8%) i/s -     18.910M in   5.014574s\n           Time.with      1.586M (± 3.5%) i/s -      7.938M in   5.010525s\n       Time.opt_with      2.003M (± 2.4%) i/s -     10.052M in   5.021309s\n\nComparison:\n        Time.without:  3781330.9 i/s\n       Time.opt_with:  2003025.9 i/s - 1.89x  slower\n           Time.with:  1586289.9 i/s - 2.38x  slower\n\nTime.without: 2.003 alloc/iter\nTime.with: 9.002 alloc/iter\nTime.opt_with: 7.002 alloc/iter\n\n=== Simple call ====\nWarming up --------------------------------------\n        Time.without   749.097k i/100ms\n           Time.with   342.855k i/100ms\n       Time.opt_with   416.063k i/100ms\nCalculating -------------------------------------\n        Time.without      9.289M (± 3.4%) i/s -     46.444M in   5.005361s\n           Time.with      3.601M (± 2.1%) i/s -     18.171M in   5.048794s\n       Time.opt_with      4.373M (± 8.1%) i/s -     22.051M in   5.084967s\n\nComparison:\n        Time.without:  9289271.2 i/s\n       Time.opt_with:  4373226.2 i/s - 2.12x  slower\n           Time.with:  3600733.6 i/s - 2.58x  slower\n\nTime.without: 1.002 alloc/iter\nTime.with: 3.001 alloc/iter\nTime.opt_with: 3.002 alloc/iter\"><pre class=\"notranslate\"><code class=\"notranslate\">$ ruby --yjit /tmp/bench-as-time-at.rb\nruby 3.2.2 (2023-03-30 revision e51014f9c0) +YJIT [arm64-darwin22]\n=== Complex call ====\nWarming up --------------------------------------\n        Time.without   320.514k i/100ms\n           Time.with    68.433k i/100ms\n       Time.opt_with   167.532k i/100ms\nCalculating -------------------------------------\n        Time.without      3.781M (± 4.8%) i/s -     18.910M in   5.014574s\n           Time.with      1.586M (± 3.5%) i/s -      7.938M in   5.010525s\n       Time.opt_with      2.003M (± 2.4%) i/s -     10.052M in   5.021309s\n\nComparison:\n        Time.without:  3781330.9 i/s\n       Time.opt_with:  2003025.9 i/s - 1.89x  slower\n           Time.with:  1586289.9 i/s - 2.38x  slower\n\nTime.without: 2.003 alloc/iter\nTime.with: 9.002 alloc/iter\nTime.opt_with: 7.002 alloc/iter\n\n=== Simple call ====\nWarming up --------------------------------------\n        Time.without   749.097k i/100ms\n           Time.with   342.855k i/100ms\n       Time.opt_with   416.063k i/100ms\nCalculating -------------------------------------\n        Time.without      9.289M (± 3.4%) i/s -     46.444M in   5.005361s\n           Time.with      3.601M (± 2.1%) i/s -     18.171M in   5.048794s\n       Time.opt_with      4.373M (± 8.1%) i/s -     22.051M in   5.084967s\n\nComparison:\n        Time.without:  9289271.2 i/s\n       Time.opt_with:  4373226.2 i/s - 2.12x  slower\n           Time.with:  3600733.6 i/s - 2.58x  slower\n\nTime.without: 1.002 alloc/iter\nTime.with: 3.001 alloc/iter\nTime.opt_with: 3.002 alloc/iter\n</code></pre></div>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"require 'bundler/inline'\n\ngemfile do\n  source 'https://rubygems.org'\n  gem 'activesupport', require: 'active_support/all', github: 'rails/rails'\n  gem 'benchmark-ips'\nend\n\nclass Time\n  class &lt;&lt; self\n    def opt_at_with_coercion(time_or_number, *args)\n      if args.empty?\n        if time_or_number.is_a?(ActiveSupport::TimeWithZone)\n          at_without_coercion(time_or_number.to_r).getlocal\n        elsif time_or_number.is_a?(DateTime)\n          at_without_coercion(time_or_number.to_f).getlocal\n        else\n          at_without_coercion(time_or_number)\n        end\n      else\n        at_without_coercion(time_or_number, *args)\n      end\n    end\n    ruby2_keywords :opt_at_with_coercion\n  end\nend\n\nputs RUBY_DESCRIPTION\n\nputs &quot;=== Complex call ====&quot;\nBenchmark.ips do |x|\n  x.report(&quot;Time.without&quot;) do\n    ::Time.at_without_coercion(223423423, 32423423, :nanosecond, in: &quot;UTC&quot;)\n  end\n\n  x.report(&quot;Time.with&quot;) do\n    ::Time.at_with_coercion(223423423, 32423423, :nanosecond, in: &quot;UTC&quot;)\n  end\n\n  x.report(&quot;Time.opt_with&quot;) do\n    ::Time.opt_at_with_coercion(223423423, 32423423, :nanosecond, in: &quot;UTC&quot;)\n  end\n\n  x.compare!(order: :baseline)\nend\n\ndef measure_allocs(title, iterations: 1_000)\n  before = GC.stat(:total_allocated_objects)\n  iterations.times do\n    yield\n  end\n  allocs = GC.stat(:total_allocated_objects) - before\n  puts &quot;#{title}: #{allocs.to_f / iterations} alloc/iter&quot;\nend\n\nmeasure_allocs(&quot;Time.without&quot;) do\n  ::Time.at_without_coercion(223423423, 32423423, :nanosecond, in: &quot;UTC&quot;)\nend\n\nmeasure_allocs(&quot;Time.with&quot;) do\n  ::Time.at_with_coercion(223423423, 32423423, :nanosecond, in: &quot;UTC&quot;)\nend\n\nmeasure_allocs(&quot;Time.opt_with&quot;) do\n  ::Time.opt_at_with_coercion(223423423, 32423423, :nanosecond, in: &quot;UTC&quot;)\nend\n\nputs &quot;=== Simple call ====&quot;\nBenchmark.ips do |x|\n  x.report(&quot;Time.without&quot;) do\n    ::Time.at_without_coercion(223423423)\n  end\n\n  x.report(&quot;Time.with&quot;) do\n    ::Time.at_with_coercion(223423423)\n  end\n\n  x.report(&quot;Time.opt_with&quot;) do\n    ::Time.opt_at_with_coercion(223423423)\n  end\n\n  x.compare!(order: :baseline)\nend\n\ndef measure_allocs(title, iterations: 1_000)\n  before = GC.stat(:total_allocated_objects)\n  iterations.times do\n    yield\n  end\n  allocs = GC.stat(:total_allocated_objects) - before\n  puts &quot;#{title}: #{allocs.to_f / iterations} alloc/iter&quot;\nend\n\nmeasure_allocs(&quot;Time.without&quot;) do\n  ::Time.at_without_coercion(223423423)\nend\n\nmeasure_allocs(&quot;Time.with&quot;) do\n  ::Time.at_with_coercion(223423423)\nend\n\nmeasure_allocs(&quot;Time.opt_with&quot;) do\n  ::Time.opt_at_with_coercion(223423423, 32423423)\nend\"><pre class=\"notranslate\"><span class=\"pl-en\">require</span> <span class=\"pl-s\">'bundler/inline'</span>\n\n<span class=\"pl-en\">gemfile</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">source</span> <span class=\"pl-s\">'https://rubygems.org'</span>\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">'activesupport'</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">require</span>: <span class=\"pl-s\">'active_support/all'</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">github</span>: <span class=\"pl-s\">'rails/rails'</span>\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">'benchmark-ips'</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Time</span>\n  <span class=\"pl-k\">class</span> &lt;&lt; <span class=\"pl-smi\">self</span>\n    <span class=\"pl-k\">def</span> <span class=\"pl-en\">opt_at_with_coercion</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">time_or_number</span><span class=\"pl-kos\">,</span> *<span class=\"pl-s1\">args</span><span class=\"pl-kos\">)</span>\n      <span class=\"pl-k\">if</span> <span class=\"pl-s1\">args</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">empty?</span>\n        <span class=\"pl-k\">if</span> <span class=\"pl-s1\">time_or_number</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">is_a?</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">ActiveSupport</span>::<span class=\"pl-v\">TimeWithZone</span><span class=\"pl-kos\">)</span>\n          <span class=\"pl-en\">at_without_coercion</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">time_or_number</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_r</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">getlocal</span>\n        <span class=\"pl-k\">elsif</span> <span class=\"pl-s1\">time_or_number</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">is_a?</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">DateTime</span><span class=\"pl-kos\">)</span>\n          <span class=\"pl-en\">at_without_coercion</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">time_or_number</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_f</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">getlocal</span>\n        <span class=\"pl-k\">else</span>\n          <span class=\"pl-en\">at_without_coercion</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">time_or_number</span><span class=\"pl-kos\">)</span>\n        <span class=\"pl-k\">end</span>\n      <span class=\"pl-k\">else</span>\n        <span class=\"pl-en\">at_without_coercion</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">time_or_number</span><span class=\"pl-kos\">,</span> *<span class=\"pl-s1\">args</span><span class=\"pl-kos\">)</span>\n      <span class=\"pl-k\">end</span>\n    <span class=\"pl-k\">end</span>\n    <span class=\"pl-en\">ruby2_keywords</span> <span class=\"pl-pds\">:opt_at_with_coercion</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">puts</span> <span class=\"pl-c1\">RUBY_DESCRIPTION</span>\n\n<span class=\"pl-en\">puts</span> <span class=\"pl-s\">\"=== Complex call ====\"</span>\n<span class=\"pl-v\">Benchmark</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">ips</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">x</span>|\n  <span class=\"pl-s1\">x</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">report</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Time.without\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n    ::<span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">at_without_coercion</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">223423423</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">32423423</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:nanosecond</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">in</span>: <span class=\"pl-s\">\"UTC\"</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-s1\">x</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">report</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Time.with\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n    ::<span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">at_with_coercion</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">223423423</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">32423423</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:nanosecond</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">in</span>: <span class=\"pl-s\">\"UTC\"</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-s1\">x</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">report</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Time.opt_with\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n    ::<span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">opt_at_with_coercion</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">223423423</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">32423423</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:nanosecond</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">in</span>: <span class=\"pl-s\">\"UTC\"</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-s1\">x</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">compare!</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">order</span>: <span class=\"pl-pds\">:baseline</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">def</span> <span class=\"pl-en\">measure_allocs</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">title</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">iterations</span>: <span class=\"pl-c1\">1_000</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-s1\">before</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">GC</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">stat</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:total_allocated_objects</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-s1\">iterations</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">times</span> <span class=\"pl-k\">do</span>\n    <span class=\"pl-k\">yield</span>\n  <span class=\"pl-k\">end</span>\n  <span class=\"pl-s1\">allocs</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">GC</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">stat</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:total_allocated_objects</span><span class=\"pl-kos\">)</span> - <span class=\"pl-s1\">before</span>\n  <span class=\"pl-en\">puts</span> <span class=\"pl-s\">\"<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">title</span><span class=\"pl-kos\">}</span></span>: <span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">allocs</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_f</span> / <span class=\"pl-s1\">iterations</span><span class=\"pl-kos\">}</span></span> alloc/iter\"</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">measure_allocs</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Time.without\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n  ::<span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">at_without_coercion</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">223423423</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">32423423</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:nanosecond</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">in</span>: <span class=\"pl-s\">\"UTC\"</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">measure_allocs</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Time.with\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n  ::<span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">at_with_coercion</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">223423423</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">32423423</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:nanosecond</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">in</span>: <span class=\"pl-s\">\"UTC\"</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">measure_allocs</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Time.opt_with\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n  ::<span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">opt_at_with_coercion</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">223423423</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">32423423</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:nanosecond</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">in</span>: <span class=\"pl-s\">\"UTC\"</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">puts</span> <span class=\"pl-s\">\"=== Simple call ====\"</span>\n<span class=\"pl-v\">Benchmark</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">ips</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">x</span>|\n  <span class=\"pl-s1\">x</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">report</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Time.without\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n    ::<span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">at_without_coercion</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">223423423</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-s1\">x</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">report</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Time.with\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n    ::<span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">at_with_coercion</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">223423423</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-s1\">x</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">report</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Time.opt_with\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n    ::<span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">opt_at_with_coercion</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">223423423</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-s1\">x</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">compare!</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">order</span>: <span class=\"pl-pds\">:baseline</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">def</span> <span class=\"pl-en\">measure_allocs</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">title</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">iterations</span>: <span class=\"pl-c1\">1_000</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-s1\">before</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">GC</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">stat</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:total_allocated_objects</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-s1\">iterations</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">times</span> <span class=\"pl-k\">do</span>\n    <span class=\"pl-k\">yield</span>\n  <span class=\"pl-k\">end</span>\n  <span class=\"pl-s1\">allocs</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">GC</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">stat</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:total_allocated_objects</span><span class=\"pl-kos\">)</span> - <span class=\"pl-s1\">before</span>\n  <span class=\"pl-en\">puts</span> <span class=\"pl-s\">\"<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">title</span><span class=\"pl-kos\">}</span></span>: <span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">allocs</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_f</span> / <span class=\"pl-s1\">iterations</span><span class=\"pl-kos\">}</span></span> alloc/iter\"</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">measure_allocs</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Time.without\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n  ::<span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">at_without_coercion</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">223423423</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">measure_allocs</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Time.with\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n  ::<span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">at_with_coercion</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">223423423</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">measure_allocs</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Time.opt_with\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n  ::<span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">opt_at_with_coercion</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">223423423</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">32423423</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-k\">end</span></pre></div>",
            "url": "https://github.com/rails/rails/pull/50268",
            "title": "Optimize `Time.at_with_coercion`",
            "date_modified": "2023-12-05T11:49:38.000Z",
            "date_published": "2023-12-05T11:49:34.000Z",
            "author": {
                "name": "casperisfine",
                "url": "https://github.com/casperisfine"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2741?u=387c085565dc648f11d835558ad1b6d524ddc91d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Let's get with the times.</p>",
            "url": "https://github.com/rails/rails/pull/50265",
            "title": "Add webp and avif as allowed formats for active storage to serve inline",
            "date_modified": "2023-12-05T00:50:08.000Z",
            "date_published": "2023-12-05T00:50:04.000Z",
            "author": {
                "name": "dhh",
                "url": "https://github.com/dhh"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5122678?u=204301f9f9fe8930fd26fe3bfe65b6ffaffd8b59&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">It's common to modify <code class=\"notranslate\">package.json</code> with custom <a href=\"https://docs.npmjs.com/cli/v6/using-npm/scripts\" rel=\"nofollow\">scripts</a>.</p>\n<p dir=\"auto\">We already support the ability to create <a href=\"https://edgeapi.rubyonrails.org/classes/Rails/Generators/Actions.html#method-i-rakefile\" rel=\"nofollow\">rake tasks</a>, so this change is in alignment with that.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Extends existing <a href=\"https://edgeapi.rubyonrails.org/classes/Rails/Generators/Actions.html\" rel=\"nofollow\">Generator Actions</a> by allowing the consumer to modify <code class=\"notranslate\">package.json</code>.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"package_json scripts: { stylelint: &quot;npx stylelint 'app/assets/stylesheets/**/*.css'&quot; }\"><pre class=\"notranslate\"><span class=\"pl-en\">package_json</span> <span class=\"pl-pds\">scripts</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">stylelint</span>: <span class=\"pl-s\">\"npx stylelint 'app/assets/stylesheets/**/*.css'\"</span> <span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">This is especially useful when used with an <a href=\"https://edgeguides.rubyonrails.org/rails_application_templates.html\" rel=\"nofollow\">Application Template</a> when creating or modifying a Rails application.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"gem &quot;cssbundling-rails&quot;\n\nafter_bundle do\n  rails_command &quot;css:install:postcss&quot;\n  run &quot;yarn add stylelint stylelint-config-standard&quot;\n  run &quot;touch .stylelintrc.json&quot;\n  insert_into_file &quot;.stylelintrc.json&quot;, &lt;&lt;~JSON\n    {\n      &quot;extends&quot;: [&quot;stylelint-config-standard&quot;]\n    }\n  JSON\n\n  package_json scripts: { stylelint: &quot;npx stylelint 'app/assets/stylesheets/**/*.css'&quot; }\nend\"><pre class=\"notranslate\"><span class=\"pl-en\">gem</span> <span class=\"pl-s\">\"cssbundling-rails\"</span>\n\n<span class=\"pl-en\">after_bundle</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">rails_command</span> <span class=\"pl-s\">\"css:install:postcss\"</span>\n  <span class=\"pl-en\">run</span> <span class=\"pl-s\">\"yarn add stylelint stylelint-config-standard\"</span>\n  <span class=\"pl-en\">run</span> <span class=\"pl-s\">\"touch .stylelintrc.json\"</span>\n  <span class=\"pl-en\">insert_into_file</span> <span class=\"pl-s\">\".stylelintrc.json\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">&lt;&lt;~JSON</span><span class=\"pl-s\"></span>\n<span class=\"pl-s\">    {</span>\n<span class=\"pl-s\">      \"extends\": [\"stylelint-config-standard\"]</span>\n<span class=\"pl-s\">    }</span>\n<span class=\"pl-s\">  JSON</span>\n\n  <span class=\"pl-en\">package_json</span> <span class=\"pl-pds\">scripts</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">stylelint</span>: <span class=\"pl-s\">\"npx stylelint 'app/assets/stylesheets/**/*.css'\"</span> <span class=\"pl-kos\">}</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">I opted to not create a <code class=\"notranslate\">package.json</code> file if one does not exist. Instead, the command will raise an error. This is consistent with how the <code class=\"notranslate\">gem</code> command works in that it assumes the file already exists.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50264",
            "title": "Introduce `package_json` Generator Action",
            "date_modified": "2023-12-04T23:06:30.000Z",
            "date_published": "2023-12-04T20:56:28.000Z",
            "author": {
                "name": "stevepolitodesign",
                "url": "https://github.com/stevepolitodesign"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Attempts to <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50260.\">fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2023770652\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50260\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50260/hovercard\" href=\"https://github.com/rails/rails/issues/50260\">#50260</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Introduces <code class=\"notranslate\">ActiveRecord::Transactions::ClassMethods#set_callback</code> which behaves like <code class=\"notranslate\">ActiveSupport::Callbacks::ClassMethods#set_callback</code> with support for the <code class=\"notranslate\">:on</code> option available on <code class=\"notranslate\">#after_commit</code> and <code class=\"notranslate\">#after_rollback</code> callbacks.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50261",
            "title": "Fix [#50260] Support `:on` option in `#set_callback`",
            "date_modified": "2023-12-04T12:56:38.000Z",
            "date_published": "2023-12-04T12:44:48.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1371733?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50246.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2022072643\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50246\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50246/hovercard\" href=\"https://github.com/rails/rails/issues/50246\">#50246</a> cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/jonathanhefner/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jonathanhefner\">@jonathanhefner</a></p>\n\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because to fix a long standing issue with isolated engines.<br>\nIn effect, isolated engines define their own <code class=\"notranslate\">table_name_prefix</code> method which does not take into consideration The ActiveRecord table name prefix.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request redefines <code class=\"notranslate\">table_name_prefix</code> for engines only when ActiveRecord is loaded. this will allow to prepend <code class=\"notranslate\">ActiveRecord::Base.table_name_prefix</code> for isolated engines that generate AR tables for their internal use.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This will fix engines such as <code class=\"notranslate\">active_storage</code>, <code class=\"notranslate\">action_text</code> and <code class=\"notranslate\">action_mailbox</code> that generate tables.</p>\n<ul dir=\"auto\">\n<li>For ActiveStorage, this PR to be merged first because table names are hard coded <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2010725925\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50167\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50167/hovercard\" href=\"https://github.com/rails/rails/pull/50167\">#50167</a></li>\n<li>For the two latter, they would need a separate PR should their AR model have hard coded table names.</li>\n</ul>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50247",
            "title": "Make isolated engines aware of ActiveRecord::Base table name prefix",
            "date_modified": "2023-12-04T17:41:04.000Z",
            "date_published": "2023-12-02T19:30:57.000Z",
            "author": {
                "name": "chaadow",
                "url": "https://github.com/chaadow"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/64807335?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><ol dir=\"auto\">\n<li>This request needs to be combined, as it corrects the error when losing context for node when working with the next 3.7+ version in conjunction with vite. The context for self is undefined, in the code I change it to global, which exists in node</li>\n<li>I added a section of code that determines whether there is a context for global, otherwise self</li>\n</ol>\n<h3 dir=\"auto\">Checklist</h3>\n<ul dir=\"auto\">\n<li>[+] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n</ul>\n<ul dir=\"auto\">\n<li>Yes</li>\n</ul>\n<h3 dir=\"auto\"></h3>\n<ul dir=\"auto\">\n<li>[ +] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n</ul>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2021326872\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50232\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50232/hovercard\" href=\"https://github.com/rails/rails/issues/50232\">#50232</a></li>\n</ul>\n<ul dir=\"auto\">\n<li>[+ ] Tests are added or updated if you fix a bug or add a feature.</li>\n</ul>\n<h3 dir=\"auto\"></h3>\n<ul dir=\"auto\">\n<li>[ +] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50235",
            "title": "Fixed getting context for nuxt 3.7+ in conjunction with vite",
            "date_modified": "2023-12-02T09:37:08.000Z",
            "date_published": "2023-12-01T18:39:04.000Z",
            "author": {
                "name": "bananchill",
                "url": "https://github.com/bananchill"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2384094?u=9f1ad3c6a809770df25b4a6b9fcc3820c1deef15&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">The purpose of this pull request is to correct the following issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2013268856\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50189\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50189/hovercard\" href=\"https://github.com/rails/rails/issues/50189\">#50189</a>, there is an error in the following section <a href=\"https://guides.rubyonrails.org/active_record_migrations.html#reverting-previous-migrations\" rel=\"nofollow\">this documentation section</a>.</p>\n<p dir=\"auto\">There is confusion between the steps</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"1. Reverse the order of create_table and reversible.\n2. Replace create_table with drop_table.\n3. Finally, replace up with down and vice-versa.\"><pre class=\"notranslate\"><code class=\"notranslate\">1. Reverse the order of create_table and reversible.\n2. Replace create_table with drop_table.\n3. Finally, replace up with down and vice-versa.\n</code></pre></div>\n<p dir=\"auto\">and the example below</p>\n<p dir=\"auto\">I suggest modifying the example.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50228",
            "title": "Adjusted an example to align with the documentation section on reversing a previous migration.",
            "date_modified": "2023-12-04T16:25:16.000Z",
            "date_published": "2023-12-01T10:37:48.000Z",
            "author": {
                "name": "cedriccarrard",
                "url": "https://github.com/cedriccarrard"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/47554?u=7f919feee43d319ec01c7b135f4d1868a31bddc3&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Rails runner scripts were wrapped with a Rails Executor in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1222730076\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/44999\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/44999/hovercard\" href=\"https://github.com/rails/rails/pull/44999\">#44999</a></p>\n<p dir=\"auto\">This is great! Except when using the Runner to execute long-running/looping/daemon-like scripts. In that case, it would be better to allow for intentionally adding Executor wraps around individual units of work in that script.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request allows passing <code class=\"notranslate\">--executor-wrap false</code> to the Rails script runner to conditionally <em>not</em> add an Executor wrap to the script.</p>\n<p dir=\"auto\"><strong>Help wanted:</strong> I don't particularly like the naming. I wanted to make it affirmative, but it's also true by default which means passing <code class=\"notranslate\">false</code> option is necessary. The other option is to make it a negative boolean .e.g <code class=\"notranslate\">--skip-executor</code>. What do you think?</p>\n<p dir=\"auto\"><strong>Another option:</strong> Instead of removing the Executor, maybe the runner should be wrapped with a reentrant Executor <code class=\"notranslate\">#perform</code> that was introduced in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1037842877\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/43550\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/43550/hovercard\" href=\"https://github.com/rails/rails/pull/43550\">#43550</a>, instead.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50223",
            "title": "Add runner script option to disable Executor wrap",
            "date_modified": "2023-12-02T09:33:51.000Z",
            "date_published": "2023-11-30T20:27:50.000Z",
            "author": {
                "name": "bensheldon",
                "url": "https://github.com/bensheldon"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/33667846?u=41b68a97d56ca1603ad6e5f4549080c72eae05f0&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">In short, the <code class=\"notranslate\">numericality</code> validator doesn't support method names, and we would like it to within our codebase.</p>\n<p dir=\"auto\">This PR gives the <code class=\"notranslate\">numericality</code> validator, in order of importance,</p>\n<ol dir=\"auto\">\n<li>the ability to accept a range returned from a method call</li>\n<li>more versatility, it can now accept an array or an array returned from a method call</li>\n</ol>\n<h3 dir=\"auto\">Detail</h3>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">includes Clusivity</code> in <code class=\"notranslate\">numericality.rb</code></li>\n<li>broadens initial type check within <code class=\"notranslate\">check_validity!</code></li>\n<li>in <code class=\"notranslate\">validate_each</code>, deals with cases of symbols</li>\n<li>in <code class=\"notranslate\">validate_each</code>, uses <code class=\"notranslate\">includes?</code> to deal with ranges, arrays, and ranges/arrays returned from method calls</li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This is my first Rails PR and I'm scared / please be nice</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50222",
            "title": "(feat) Give `numericality` validation `Clusivity` considerations",
            "date_modified": "2023-12-03T15:11:34.000Z",
            "date_published": "2023-11-30T18:10:29.000Z",
            "author": {
                "name": "spimonid",
                "url": "https://github.com/spimonid"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/47554?u=7f919feee43d319ec01c7b135f4d1868a31bddc3&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50193.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2013596309\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50193\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50193/hovercard\" href=\"https://github.com/rails/rails/issues/50193\">#50193</a></p>\n<p dir=\"auto\">This Pull Request makes Thor commands included in <code class=\"notranslate\">lib/commands/*_command.rb</code> work. They previously did not work because the commands were loaded before the Application was required, which meant that <code class=\"notranslate\">lib</code> had not yet been added to the $LOAD_PATH (requiring the Application adds <code class=\"notranslate\">lib</code> to the $LOAD_PATH, explained in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1777826835\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48596\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48596/hovercard\" href=\"https://github.com/rails/rails/pull/48596\">#48596</a>).</p>\n<p dir=\"auto\">Because requiring the application could slightly slow down invoking commands, this change will first try to find the command <em>without</em> requiring the Application, and if not found, will then require the Application and try the lookup again</p>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewd/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewd\">@matthewd</a></p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">I think Thor commands, especially the options syntax, is a big improvement over Rake, which is why I would like this to work, and it largely seems like it <em>should</em> work with this very small tweak.</p>\n<p dir=\"auto\">Things to possible defer:</p>\n<p dir=\"auto\">Documentation: Guides can be updated to explain Thor commands alongside Rake tasks. Maybe a default <code class=\"notranslate\">lib/commands/.keep</code> too?</p>\n<p dir=\"auto\">Also...</p>\n<p dir=\"auto\">While working on this, I did notice that it is <em>very easy</em> for command files to collide and are thus load-order dependent. This is because the files are required with simply <code class=\"notranslate\">lib/commands/*_command.rb</code>:</p>\n<p dir=\"auto\"></p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/736353dda303a96a1e8972cf7dc2de0b2b493e58/railties/lib/rails/command/behavior.rb#L40-L44\">rails/railties/lib/rails/command/behavior.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 40 to 44\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/736353dda303a96a1e8972cf7dc2de0b2b493e58\">736353d</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L40\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"40\"></td>\n          <td id=\"LC40\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-en\">lookup_paths</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">each</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">base</span>| </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L41\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"41\"></td>\n          <td id=\"LC41\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">path</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">\"<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">base</span><span class=\"pl-kos\">}</span></span>/<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">raw_path</span><span class=\"pl-kos\">}</span></span>_<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-en\">command_type</span><span class=\"pl-kos\">}</span></span>\"</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L42\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"42\"></td>\n          <td id=\"LC42\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L43\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"43\"></td>\n          <td id=\"LC43\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">begin</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L44\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"44\"></td>\n          <td id=\"LC44\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-en\">require</span> <span class=\"pl-s1\">path</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\"></p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/736353dda303a96a1e8972cf7dc2de0b2b493e58/railties/lib/rails/command/behavior.rb#L56-L60\">rails/railties/lib/rails/command/behavior.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 56 to 60\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/736353dda303a96a1e8972cf7dc2de0b2b493e58\">736353d</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L56\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"56\"></td>\n          <td id=\"LC56\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">lookup!</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L57\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"57\"></td>\n          <td id=\"LC57\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   $LOAD_PATH<span class=\"pl-kos\">.</span><span class=\"pl-en\">each</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">base</span>| </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L58\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"58\"></td>\n          <td id=\"LC58\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-v\">Dir</span><span class=\"pl-kos\">[</span><span class=\"pl-v\">File</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">join</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">base</span><span class=\"pl-kos\">,</span> *<span class=\"pl-en\">file_lookup_paths</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">each</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">path</span>| </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L59\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"59\"></td>\n          <td id=\"LC59\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">       <span class=\"pl-s1\">path</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">path</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">delete_prefix</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">base</span><span class=\"pl-kos\">}</span></span>/\"</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L60\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"60\"></td>\n          <td id=\"LC60\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">       <span class=\"pl-en\">require</span> <span class=\"pl-s1\">path</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">So if 2 gems, or the application and another gem each have matching filenames, only one of them will be loaded.  I want to call this out because <code class=\"notranslate\">lib</code> is added at the front of $LOAD_PATH, which means it will always have the opportunity to clobber someone else.</p>\n<p dir=\"auto\">These changes were introduced here: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/115abd52b6bf6801dce7c3fbcb0e29d4213a5bb2/hovercard\" href=\"https://github.com/rails/rails/commit/115abd52b6bf6801dce7c3fbcb0e29d4213a5bb2\"><tt>115abd5</tt></a></p>\n<p dir=\"auto\">So maybe that <code class=\"notranslate\">require</code> should be changed to a <code class=\"notranslate\">load</code>, or the required paths should be changed to absolute file paths.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50218",
            "title": "[Fix #50193] Allow custom Thor commands to load from `lib/commands` by ensuring `lib` is added to the $LOAD_PATH before looking up commands",
            "date_modified": "2023-11-30T00:38:07.000Z",
            "date_published": "2023-11-30T00:33:58.000Z",
            "author": {
                "name": "bensheldon",
                "url": "https://github.com/bensheldon"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/49968061?u=9d34d68c9b91fd18161752e7706c34e1186e2259&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request changes the default behavior for through associations to disable joins when the connection pools differ, in which case the association would be broken if the user didn't specify <code class=\"notranslate\">disable_joins: true</code>.</p>\n<p dir=\"auto\">This is not a breaking change, as the only effect it could have would be to fix broken associations.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50215",
            "title": "Automatically disable joins for through associations across different connection pools ",
            "date_modified": "2023-12-01T19:38:34.000Z",
            "date_published": "2023-11-29T22:07:20.000Z",
            "author": {
                "name": "octokatherine",
                "url": "https://github.com/octokatherine"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/19192189?u=dd60737844a9db7f1475bab21fc3e5258a405e15&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes pull request #50136.\">Fix</span>: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2006751957\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50136\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50136/hovercard\" href=\"https://github.com/rails/rails/pull/50136\">#50136</a></p>\n<p dir=\"auto\">Using delegate saves on the <code class=\"notranslate\">method_missing + public_send</code> combo.</p>\n<p dir=\"auto\">I chose to delegate to all the methods I saw called in Rails own test suite, but there is likely a handful more candidates for explicit delegation.</p>\n<p dir=\"auto\">But also this rely on a new (private) parameter in <code class=\"notranslate\">Module#delegate</code> to provide the expected delegated type and use that to define delegators with the extact required signature. This saves on array and hash allocations caused by splatting.</p>\n<p dir=\"auto\">In some ways it's a continuation of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1517530718\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46875\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/46875/hovercard\" href=\"https://github.com/rails/rails/pull/46875\">#46875</a></p>\n<p dir=\"auto\">Note that I didn't make the new <code class=\"notranslate\">as:</code> parameter public, as I fear it's a bit too brittle to be used. For the same reason I'm considering reverting the optimized path behavior on <code class=\"notranslate\">to: :class</code> and requiring to explictly pass <code class=\"notranslate\">as: self</code> for that optimized path. (FYI: <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/amatsuda/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/amatsuda\">@amatsuda</a>)</p>\n<p dir=\"auto\">Co-Authored-By: <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/Morriar/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Morriar\">@Morriar</a></p>",
            "url": "https://github.com/rails/rails/pull/50211",
            "title": "Optimize many delegated methods on ActiveSupport::Duration",
            "date_modified": "2023-12-04T10:05:09.000Z",
            "date_published": "2023-11-29T16:34:47.000Z",
            "author": {
                "name": "casperisfine",
                "url": "https://github.com/casperisfine"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/220358?u=ba13f3240d7992dc4124a33a4fc65bf4924e5375&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request adds support for <a href=\"https://www.postgresql.org/docs/current/sql-createindex.html#SQL-CREATEINDEX-STORAGE-PARAMETERS\" rel=\"nofollow\">index storage parameters</a> for PostgreSQL.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds a <code class=\"notranslate\">:with</code> option to <code class=\"notranslate\">add_index</code>:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"add_index :users, :email, with: { fillfactor: 50 }\"><pre class=\"notranslate\"><span class=\"pl-en\">add_index</span> <span class=\"pl-pds\">:users</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:email</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">with</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">fillfactor</span>: <span class=\"pl-c1\">50</span> <span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">which generates:</p>\n<div class=\"highlight highlight-source-sql notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"CREATE INDEX &quot;index_users_on_email&quot; ON &quot;users&quot; (&quot;email&quot;) WITH (fillfactor=50);\"><pre class=\"notranslate\"><span class=\"pl-k\">CREATE</span> <span class=\"pl-k\">INDEX</span> \"<span class=\"pl-en\">index_users_on_email</span>\" <span class=\"pl-k\">ON</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>users<span class=\"pl-pds\">\"</span></span> (<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>email<span class=\"pl-pds\">\"</span></span>) WITH (fillfactor<span class=\"pl-k\">=</span><span class=\"pl-c1\">50</span>);</pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<ul dir=\"auto\">\n<li>This feature was added in <a href=\"https://www.postgresql.org/docs/8.2/sql-createindex.html\" rel=\"nofollow\">PostgreSQL 8.2</a>.</li>\n<li><a href=\"https://learn.microsoft.com/en-us/sql/t-sql/statements/create-index-transact-sql?view=sql-server-ver16\" rel=\"nofollow\">SQL Server</a> also supports the <code class=\"notranslate\">WITH</code> syntax.</li>\n</ul>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50204",
            "title": "Add support for index storage parameters for PostgreSQL",
            "date_modified": "2023-11-30T22:12:37.000Z",
            "date_published": "2023-11-28T20:33:55.000Z",
            "author": {
                "name": "ankane",
                "url": "https://github.com/ankane"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/13696143?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">At GitHub we get a fair number of Trilogy <code class=\"notranslate\">ETIMEDOUT</code> errors (for known reasons that we might be able to improve somewhat, but I doubt we'll make them go away entirely). These are very much retryable network errors, so it'd be handy if these <code class=\"notranslate\">ETIMEDOUT</code> errors were translated to <code class=\"notranslate\">ConnectionFailed</code> instead of <code class=\"notranslate\">StatementInvalid</code>, making them <code class=\"notranslate\">retryable_connection_error</code>s.</p>\n<p dir=\"auto\"></p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/ed2bc92b82ddc111150cdf48bb646fd97b3baacb/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb#L1077-L1078\">rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 1077 to 1078\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/ed2bc92b82ddc111150cdf48bb646fd97b3baacb\">ed2bc92</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L1077\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1077\"></td>\n          <td id=\"LC1077\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">retryable_connection_error?</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">exception</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1078\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1078\"></td>\n          <td id=\"LC1078\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">exception</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">is_a?</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">ConnectionNotEstablished</span><span class=\"pl-kos\">)</span> || <span class=\"pl-s1\">exception</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">is_a?</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">ConnectionFailed</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">We're already translating <code class=\"notranslate\">ECONNRESET</code> (via matching on the error message) and <code class=\"notranslate\">EPIPE</code> to <code class=\"notranslate\">ConnectionFailed</code>. Rather than adding another case, this commit treats all of the Trilogy <code class=\"notranslate\">SystemCallError</code> subclasses as <code class=\"notranslate\">ConnectionFailed</code>.</p>\n<p dir=\"auto\">Unfortunately <code class=\"notranslate\">Trilogy::TimeoutError</code> is a subclass of <code class=\"notranslate\">ETIMEDOUT</code>, so we have to move the <code class=\"notranslate\">AdapterTimeout</code> check into the case statement so we can break out to the <code class=\"notranslate\">super</code> call in the case of <code class=\"notranslate\">Trilogy::TimeoutError</code> that does have an error code (1205, i.e. lock timeout). Cleaning up the various Trilogy timeout errors is a project for another day.</p>\n<p dir=\"auto\">We should be able to simplify this exception translation further once we bump the required Trilogy version to 2.6, but I figured I'd start out with this minimal change that works on Trilogy 2.4 as well.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50202",
            "title": "Translate Trilogy syscall errors as conn failed",
            "date_modified": "2023-11-28T20:04:35.000Z",
            "date_published": "2023-11-28T17:54:07.000Z",
            "author": {
                "name": "composerinteralia",
                "url": "https://github.com/composerinteralia"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/18750194?u=b9de1a643c567a41ea55895f624a1a136482b97e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Background</p>\n<ul dir=\"auto\">\n<li>Fixed grammatical errors</li>\n<li>Correct the typo in the path- <code class=\"notranslate\">app/assets/javascripts</code> =&gt; <code class=\"notranslate\">app/assets/javascript</code></li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50199",
            "title": "Improve action view helpers guide [ci skip]",
            "date_modified": "2023-11-29T15:09:40.000Z",
            "date_published": "2023-11-28T12:48:06.000Z",
            "author": {
                "name": "apoorv1316",
                "url": "https://github.com/apoorv1316"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">When adding a foreign key with a <code class=\"notranslate\">:deferrable</code> option, a duplicate <code class=\"notranslate\">\"DEFERRABLE\"</code> directive is generated.<br>\nSomething like:</p>\n<div class=\"highlight highlight-source-sql notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"ALTER TABLE &quot;authors&quot; ADD CONSTRAINT &quot;fk_rails_94423a17a3&quot;\nFOREIGN KEY (&quot;author_address_id&quot;)\n  REFERENCES &quot;author_addresses&quot; (&quot;id&quot;)\n DEFERRABLE INITIALLY IMMEDIATE DEFERRABLE INITIALLY IMMEDIATE\"><pre class=\"notranslate\"><span class=\"pl-k\">ALTER</span> <span class=\"pl-k\">TABLE</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>authors<span class=\"pl-pds\">\"</span></span> ADD <span class=\"pl-k\">CONSTRAINT</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>fk_rails_94423a17a3<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">FOREIGN KEY</span> (<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>author_address_id<span class=\"pl-pds\">\"</span></span>)\n  <span class=\"pl-k\">REFERENCES</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>author_addresses<span class=\"pl-pds\">\"</span></span> (<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span>)\n DEFERRABLE INITIALLY IMMEDIATE DEFERRABLE INITIALLY IMMEDIATE</pre></div>\n<p dir=\"auto\">This PR fixes that.</p>",
            "url": "https://github.com/rails/rails/pull/50198",
            "title": "Fix duplicate `DEFERRABLE` directive added for foreign keys in PostgreSQL and SQLite",
            "date_modified": "2023-12-02T23:29:00.000Z",
            "date_published": "2023-11-28T12:47:26.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/131752?u=32ddf1119b1d189c9bd241a721b36ea01c29f61e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">When we reap connections, we check if they are inactive (connected and responding to ping in most adapters) and if so we remove the connection instead of checking it back in.</p>\n<p dir=\"auto\">However, in acquire_connection, we weren't checking after reaping whether we were allowed to build a new connection, only whether an existing one was in the available pool.</p>\n<p dir=\"auto\">This still leaves a race condition where if the background reaper thread runs while a thread is polling and finds a free inactive connection, it could have the same issue and not wake the waiting thread. However we don't really expect the reaper to solve this (it only runs every 60 seconds by default, far too slow to solve for a blocked thread). I think this should be fixed, just separately (and would probably involve some more significant refactoring).</p>\n<p dir=\"auto\"><a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/joeldrapper/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/joeldrapper\">@joeldrapper</a> showed me an example usage at RubyConf San Diego, which may have been caused (or at least worsened) by this bug. So 🤞 this helps.</p>\n<p dir=\"auto\">Thanks to advice from <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/composerinteralia/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/composerinteralia\">@composerinteralia</a> and <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewd/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewd\">@matthewd</a></p>\n<p dir=\"auto\">I think we should backport this to 7-1-stable.</p>",
            "url": "https://github.com/rails/rails/pull/50190",
            "title": "Retry new connection on checkout after reap",
            "date_modified": "2023-11-27T23:14:47.000Z",
            "date_published": "2023-11-27T23:14:43.000Z",
            "author": {
                "name": "jhawthorn",
                "url": "https://github.com/jhawthorn"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22231095?u=fc75f9764434943effe06d6c1dc48d40a5003b0c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds the markup code highlight for bash script in readme.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50181",
            "title": "Add markdown code highlight for bash script [skip ci]",
            "date_modified": "2023-12-03T04:49:30.000Z",
            "date_published": "2023-11-27T14:58:37.000Z",
            "author": {
                "name": "akhilgkrishnan",
                "url": "https://github.com/akhilgkrishnan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1371733?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #39921.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"665167157\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/39921\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/39921/hovercard\" href=\"https://github.com/rails/rails/issues/39921\">#39921</a> cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/zzak/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zzak\">@zzak</a></p>\n\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This PR has been created to fix an old issue with VIPS not supporting JFIF. This makes creating variants for JFIF files impossible ( more details in the issue)</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">At the ImageProcessing transformer level, we reformat the \"format\" variable that's passed to the <code class=\"notranslate\">convert</code> call from jfif to jpg, only when the image processor is vips.</p>\n<p dir=\"auto\">At first, I tried renaming the tempfile from jfif to jpg. But It had no effect.</p>\n<p dir=\"auto\">Then I realized that the <code class=\"notranslate\">{ format:  'jfif' }</code> was passed here:<br>\n</p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/9f18c0469777907206954bf2a8cc31141fd60734/activestorage/app/models/active_storage/blob/representable.rb#L36\">rails/activestorage/app/models/active_storage/blob/representable.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 36\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/9f18c0469777907206954bf2a8cc31141fd60734\">9f18c04</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L36\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"36\"></td>\n          <td id=\"LC36\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-en\">variant_class</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-smi\">self</span><span class=\"pl-kos\">,</span> <span class=\"pl-v\">ActiveStorage</span>::<span class=\"pl-v\">Variation</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">wrap</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">transformations</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">default_to</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">default_variant_transformations</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">I thought about maybe refactoring here but since this is a vips issue related to the ImageProcessingTransformer, I migrated the \"mapping\" logic directly there to have minimal impact on apps.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Marcel::Magic.new('image/jpeg').extensions \n# =&gt; [&quot;jpg&quot;, &quot;jpeg&quot;, &quot;jpe&quot;, &quot;jif&quot;, &quot;jfif&quot;, &quot;jfi&quot;]\"><pre class=\"notranslate\"><span class=\"pl-v\">Marcel</span>::<span class=\"pl-v\">Magic</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'image/jpeg'</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">extensions</span> \n<span class=\"pl-c\"># =&gt; [\"jpg\", \"jpeg\", \"jpe\", \"jif\", \"jfif\", \"jfi\"]</span></pre></div>\n<p dir=\"auto\">I think we can try to make this more dynamic to handle all of <code class=\"notranslate\">image/jpeg</code> extensions what do you think? <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/zzak/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zzak\">@zzak</a></p>\n<p dir=\"auto\">If you think this is a good idea, i can refactor the tests and the implementation.</p>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50175",
            "title": "[ActiveStorage] Fix JFIF issue with VIPS processor",
            "date_modified": "2023-11-28T19:06:12.000Z",
            "date_published": "2023-11-26T17:10:04.000Z",
            "author": {
                "name": "chaadow",
                "url": "https://github.com/chaadow"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/11690?u=f9c14ce403f3e8f35e163d36d8d2c046cea364f9&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">If you have an object that has strict_loading set and then need to call <code class=\"notranslate\">reload</code> multiple times, it would only work the first time, and after that, the application would start throwing a strict loading violation errors.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">To fix this, and keep <code class=\"notranslate\">reload</code> working consistently between calls, we set <code class=\"notranslate\">strict_loading</code>, if the original object has <code class=\"notranslate\">strict_loading</code>, to the reloaded records to avoid the strict loading error.</p>\n<p dir=\"auto\">This wasn't a problem for the first call, because it is using the original associations cache, but it isn't the case for the other calls of <code class=\"notranslate\">reload</code> as they would be using new copies of it, and when the new cache is used to build the list of <code class=\"notranslate\"> strict_loaded_associations</code>, the <code class=\"notranslate\">assoc.owner.strict_loading?</code> check will return <code class=\"notranslate\">false</code>, as this owner is the previous <code class=\"notranslate\">fresh_object</code> reference that doesn't have <code class=\"notranslate\">strict_loading</code> set.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50174",
            "title": "Fix `#reload` consistency issue",
            "date_modified": "2023-12-04T09:48:41.000Z",
            "date_published": "2023-11-26T10:04:44.000Z",
            "author": {
                "name": "sarcilav",
                "url": "https://github.com/sarcilav"
            }
        }
    ]
}