{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/39980734?u=d74e4445138b4753c03c1b9f5f086d3f9eafec13&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created to fix a bug introduced by <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2047203880\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50391\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50391/hovercard\" href=\"https://github.com/rails/rails/issues/50391\">#50391</a></p>\n<p dir=\"auto\">Whille executing command, in case when database already dosen't exist.</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bin/rails db:drop\nDropped database 'storage/development.sqlite3'\nDatabase 'storage/test.sqlite3' does not exist\"><pre class=\"notranslate\">bin/rails db:drop\nDropped database <span class=\"pl-s\"><span class=\"pl-pds\">'</span>storage/development.sqlite3<span class=\"pl-pds\">'</span></span>\nDatabase <span class=\"pl-s\"><span class=\"pl-pds\">'</span>storage/test.sqlite3<span class=\"pl-pds\">'</span></span> does not exist</pre></div>\n<p dir=\"auto\">It is observed that for the non-existing database <code class=\"notranslate\">storage/development.sqlite3</code> on the disk, the command output displays <code class=\"notranslate\">Dropped database 'storage/development.sqlite3'</code>. Instead, it should state <code class=\"notranslate\">Database 'storage/development.sqlite3' does not exist</code>.</p>\n<hr>\n<p dir=\"auto\">In the ActiveRecord SQLite3 adapter code at</p>\n<p dir=\"auto\"></p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/462e8e8b1c74d46a78e7077c5b07bfbc6fab08b0/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb#L31-L39\">rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 31 to 39\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/462e8e8b1c74d46a78e7077c5b07bfbc6fab08b0\">462e8e8</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L31\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"31\"></td>\n          <td id=\"LC31\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">new_client</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">config</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L32\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"32\"></td>\n          <td id=\"LC32\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   ::<span class=\"pl-v\">SQLite3</span>::<span class=\"pl-v\">Database</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">config</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:database</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_s</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">config</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L33\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"33\"></td>\n          <td id=\"LC33\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">rescue</span> <span class=\"pl-v\">Errno</span>::<span class=\"pl-c1\">ENOENT</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-en\">error</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L34\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"34\"></td>\n          <td id=\"LC34\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">if</span> <span class=\"pl-en\">error</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">message</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">include?</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"No such file or directory\"</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L35\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"35\"></td>\n          <td id=\"LC35\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-en\">raise</span> <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">NoDatabaseError</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L36\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"36\"></td>\n          <td id=\"LC36\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">else</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L37\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"37\"></td>\n          <td id=\"LC37\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-en\">raise</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L38\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"38\"></td>\n          <td id=\"LC38\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">end</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L39\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"39\"></td>\n          <td id=\"LC39\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">It appears that every time a new connection to SQLite3 is established, an attempt is made to create a database due to the default configuration settings.</p>\n<p dir=\"auto\">This behavior is defined in the SQLite3 Ruby gem code, specifically at</p>\n<p dir=\"auto\"><a href=\"https://github.com/sparklemotion/sqlite3-ruby/blob/302e9c0328bff2bb04e1d4a54614140ca06f3648/lib/sqlite3/database.rb#L91-L101\">https://github.com/sparklemotion/sqlite3-ruby/blob/302e9c0328bff2bb04e1d4a54614140ca06f3648/lib/sqlite3/database.rb#L91-L101</a></p>\n<p dir=\"auto\">You can also refer to the relevant documentation <a href=\"https://rubydoc.info/gems/sqlite3/SQLite3%2FDatabase:initialize\" rel=\"nofollow\">here</a>, which outlines supported permission options.</p>\n<p dir=\"auto\">Each time a new connection to the database is established (used for dropping the database or executing other commands), the connection first attempts to create a database and then proceeds to drop it.</p>\n<p dir=\"auto\">An issue arises when an exception is raised in the code snippet below, as it doesn't work as intended. The SQLite3 database is created with the default mode of <code class=\"notranslate\">READWRITE | CREATE</code>. Consequently, a new database is created every time, even if it already exists.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"rescue Errno::ENOENT =&gt; error \n   if error.message.include?(&quot;No such file or directory&quot;) \n     raise ActiveRecord::NoDatabaseError \n   else \n     raise \n   end \n end \"><pre class=\"notranslate\"><span class=\"pl-en\">rescue</span> <span class=\"pl-v\">Errno</span>::<span class=\"pl-c1\">ENOENT</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-en\">error</span> \n   <span class=\"pl-k\">if</span> <span class=\"pl-en\">error</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">message</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">include?</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"No such file or directory\"</span><span class=\"pl-kos\">)</span> \n     <span class=\"pl-en\">raise</span> <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">NoDatabaseError</span> \n   <span class=\"pl-k\">else</span> \n     <span class=\"pl-en\">raise</span> \n   <span class=\"pl-k\">end</span> \n <span class=\"pl-en\">end</span> </pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">In this PR, I have made a modification to the default mode of SQLite3 from <code class=\"notranslate\">READWRITE|CREATE</code> to just <code class=\"notranslate\">READWRITE</code>. Consequently, if the database does not exist, it will now raise an exception <code class=\"notranslate\">SQLite3::CantOpenException</code>.</p>\n<p dir=\"auto\">This adjustment aligns with a similar approach used for MySQL and Postgres. Specifically, when establishing a connection, the database is not created automatically; instead, it is handled separately to ensure consistent behavior across different database systems.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<ol dir=\"auto\">\n<li>Default Mode in Sqlite3: <a href=\"https://rubydoc.info/gems/sqlite3/SQLite3%2FDatabase:initialize\" rel=\"nofollow\">https://rubydoc.info/gems/sqlite3/SQLite3%2FDatabase:initialize</a></li>\n<li>Why Sqlite3 have not made it READWRITE as default mode?: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"116643574\" data-permission-text=\"Title is private\" data-url=\"https://github.com/sparklemotion/sqlite3-ruby/issues/174\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/sparklemotion/sqlite3-ruby/pull/174/hovercard\" href=\"https://github.com/sparklemotion/sqlite3-ruby/pull/174\">sparklemotion/sqlite3-ruby#174</a></li>\n</ol>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #50391 50391]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50392",
            "title": "[FIX] For Sqlite3 db:drop command output",
            "date_modified": "2023-12-19T02:13:08.000Z",
            "date_published": "2023-12-18T18:24:47.000Z",
            "author": {
                "name": "maniSHarma7575",
                "url": "https://github.com/maniSHarma7575"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50345.\">Closes</span> <a href=\"https://github.com/rails/rails/issues/50345\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50345/hovercard\">#50345</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">First, handle the exception mentioned in <a href=\"https://github.com/rails/rails/issues/50345\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50345/hovercard\">#50345</a>:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"BugTest#test_params_with_htm_content_type:\nNoMethodError: undefined method `to_html' for {:name=&gt;&quot;Muad'Dib&quot;}:Hash\n    .../actionpack/lib/action_dispatch/testing/request_encoder.rb:39:in `encode_params'\n    .../actionpack/lib/action_dispatch/testing/integration.rb:251:in `process'\"><pre class=\"notranslate\"><code class=\"notranslate\">BugTest#test_params_with_htm_content_type:\nNoMethodError: undefined method `to_html' for {:name=&gt;\"Muad'Dib\"}:Hash\n    .../actionpack/lib/action_dispatch/testing/request_encoder.rb:39:in `encode_params'\n    .../actionpack/lib/action_dispatch/testing/integration.rb:251:in `process'\n</code></pre></div>\n<p dir=\"auto\">When an <code class=\"notranslate\">ActionDispatch::Testing::RequestEncoder</code> registered through a call to <code class=\"notranslate\">register_encoder</code> does not define a <code class=\"notranslate\">:param_encoder</code> keyword argument <strong>and</strong> the params do not respond to a <code class=\"notranslate\">to_$MIME</code> method, fallback to returning the <code class=\"notranslate\">params</code> themselves, unchanged. This behavior is what's implemented by the private <code class=\"notranslate\">IdentityEncoder</code> class, so mimic it for defined encoders.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Next, special case handling requests with <code class=\"notranslate\">as: :html</code>. Passing <code class=\"notranslate\">as: :html</code> implies that the request parameters will come from a <code class=\"notranslate\">POST</code> body encoded as <code class=\"notranslate\">text/html</code>. That isn't entirely true -- browsers will encode <code class=\"notranslate\">POST</code> parameters as with the <code class=\"notranslate\">Content-Type:</code> header set to either <a href=\"https://developer.mozilla.org/en-US/docs/Learn/Forms/Sending_and_retrieving_form_data#the_post_method\" rel=\"nofollow\">application/x-www-form-urlencoded</a> or <a href=\"https://developer.mozilla.org/en-US/docs/Learn/Forms/Sending_and_retrieving_form_data#the_enctype_attribute\" rel=\"nofollow\">multipart/form-data</a>. This commit skips setting the <code class=\"notranslate\">CONTENT_TYPE</code> Rack header when processed with <code class=\"notranslate\">as: :html</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50390",
            "title": "Handle `as: :html` in `IntegrationTest`",
            "date_modified": "2023-12-18T19:47:45.000Z",
            "date_published": "2023-12-18T16:06:17.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #49520.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1930884133\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49520\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49520/hovercard\" href=\"https://github.com/rails/rails/issues/49520\">#49520</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Updates <code class=\"notranslate\">ActiveRecord::Relation#exec_queries</code> to raise or log on a strict loading violation. This gets called when association queries are executed with query methods.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50389",
            "title": "[Fix #49520] `strict_loading` violations ignored on `has_many` with query methods",
            "date_modified": "2023-12-18T23:29:53.000Z",
            "date_published": "2023-12-18T10:50:06.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/99301559?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created in order to fix issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2038038338\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50338\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50338/hovercard\" href=\"https://github.com/rails/rails/issues/50338\">#50338</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request provides a working solution for the destroy function for the cases of RestartParentTransaction and SavepointTransaction.</p>\n<p dir=\"auto\">Previously, the destroy function was not properly removing entries from the database for the RestartParentTransaction and SavepointTransaction. If @_trigger_destroy_callback is true at the beginning of the destroy function, destroy_row would never be invoked.</p>\n<p dir=\"auto\">This Pull Request will ensure destroy_row is invoked when @_trigger_destroy_callback is true at the beginning of the destroy function. This will remove the corresponding row from the database. Otherwise, if @_trigger_destroy_callback is false, destroy_row is only invoked if persisted? is true.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50386",
            "title": "Fix issue with destroy after RestartParentTransaction and SavepointTransaction rollback",
            "date_modified": "2023-12-18T03:01:22.000Z",
            "date_published": "2023-12-18T00:03:36.000Z",
            "author": {
                "name": "mguan2020",
                "url": "https://github.com/mguan2020"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">One of the original goals of these checks was to validate that configuration stays in alphabetical order, as this provides a deterministic order for the configuration to be validated against.</p>\n<p dir=\"auto\">However, it appears there has been a regression in that check and it has only been validating that configurations are present. This commit restores the ordering check and then uses <code class=\"notranslate\">railspect configuration . -a</code> to fix the configurations that ended up out of order.</p>\n<p dir=\"auto\">This should be backported to 7-1-stable</p>",
            "url": "https://github.com/rails/rails/pull/50384",
            "title": "Fix railspect not validating alphabetical order",
            "date_modified": "2023-12-18T07:25:14.000Z",
            "date_published": "2023-12-17T22:09:32.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2474416?u=9d33edd96f7ffb26b4660081d91c7c0f0c44f9af&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I work with an application that utilizes a polymorphic association that spans multiple databases. A basic example would be something like this, where <code class=\"notranslate\">Notification#notifiable</code> could reference <code class=\"notranslate\">Comment</code> or <code class=\"notranslate\">OtherNamespace::Comment</code>, which exist on two separate databases but happen to have the same table name:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# app/models/notification.rb\nclass Notification &lt; ApplicationRecord\n  belongs_to :notifiable, polymorphic: true\nend\n\n# app/models/comment.rb\nclass Comment &lt; ApplicationRecord\n  self.table_name = &quot;comments&quot;\nend\n\n# app/models/application_record.rb\nclass ApplicationRecord &lt; ActiveRecord::Base\n  self.abstract_class = true\n\n  connects_to database: { writing: :primary }\nend\n\n# app/models/other_namespace/comment.rb\nmodule OtherNamespace\n  class Comment &lt; OtherNamespace::Base\n    self.table_name = &quot;comments&quot;\n  end\nend\n\n# app/models/other_namespace/base.rb\nmodule OtherNamespace\n  class Base &lt; ApplicationRecord\n    self.abstract_class = true\n\n    connects_to database: { writing: :other_namespace }\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-c\"># app/models/notification.rb</span>\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Notification</span> &lt; <span class=\"pl-v\">ApplicationRecord</span>\n  <span class=\"pl-en\">belongs_to</span> <span class=\"pl-pds\">:notifiable</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">polymorphic</span>: <span class=\"pl-c1\">true</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-c\"># app/models/comment.rb</span>\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Comment</span> &lt; <span class=\"pl-v\">ApplicationRecord</span>\n  <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">table_name</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">\"comments\"</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-c\"># app/models/application_record.rb</span>\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">ApplicationRecord</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">abstract_class</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">true</span>\n\n  <span class=\"pl-en\">connects_to</span> <span class=\"pl-pds\">database</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">writing</span>: <span class=\"pl-pds\">:primary</span> <span class=\"pl-kos\">}</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-c\"># app/models/other_namespace/comment.rb</span>\n<span class=\"pl-k\">module</span> <span class=\"pl-v\">OtherNamespace</span>\n  <span class=\"pl-k\">class</span> <span class=\"pl-v\">Comment</span> &lt; <span class=\"pl-v\">OtherNamespace</span>::<span class=\"pl-v\">Base</span>\n    <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">table_name</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">\"comments\"</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-c\"># app/models/other_namespace/base.rb</span>\n<span class=\"pl-k\">module</span> <span class=\"pl-v\">OtherNamespace</span>\n  <span class=\"pl-k\">class</span> <span class=\"pl-v\">Base</span> &lt; <span class=\"pl-v\">ApplicationRecord</span>\n    <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">abstract_class</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">true</span>\n\n    <span class=\"pl-en\">connects_to</span> <span class=\"pl-pds\">database</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">writing</span>: <span class=\"pl-pds\">:other_namespace</span> <span class=\"pl-kos\">}</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">Prior to upgrading to Rails 7.0, the following would preload both <code class=\"notranslate\">Comment</code>s and <code class=\"notranslate\">OtherNamespace::Comment</code>s:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"comment = Comment.create\nother_namespace_comment = OtherNamespace::Comment.create\n\nNotification.create(notifiable: comment)\nNotification.create(notifiable: other_namespace_comment)\n\n# Prior to Rails 7.0, this would preload the related `Comment`s and `OtherNamespace::Comment`s\nNotification.all.includes(:notifiable)\"><pre class=\"notranslate\"><span class=\"pl-s1\">comment</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Comment</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">create</span>\n<span class=\"pl-s1\">other_namespace_comment</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">OtherNamespace</span>::<span class=\"pl-v\">Comment</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">create</span>\n\n<span class=\"pl-v\">Notification</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">create</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">notifiable</span>: <span class=\"pl-s1\">comment</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-v\">Notification</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">create</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">notifiable</span>: <span class=\"pl-s1\">other_namespace_comment</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-c\"># Prior to Rails 7.0, this would preload the related `Comment`s and `OtherNamespace::Comment`s</span>\n<span class=\"pl-v\">Notification</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">includes</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:notifiable</span><span class=\"pl-kos\">)</span></pre></div>\n<p dir=\"auto\">After upgrading to Rails 7.0, we noticed that only <code class=\"notranslate\">Comment</code>s were being preloading and <code class=\"notranslate\">OtherNamespace::Comment</code>s were not.</p>\n<p dir=\"auto\">After some digging, I tracked the difference in behavior down to <a href=\"https://github.com/rails/rails/pull/41385\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/41385/hovercard\">PR #41385</a>. In this PR there were some optimizations made to combine association preloading into less queries when possible. This was later optimized a bit further in <a href=\"https://github.com/rails/rails/pull/41597\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/41597/hovercard\">PR #41597</a>.</p>\n<p dir=\"auto\">From what I can tell <a href=\"https://github.com/rails/rails/blob/a7f1d63a3bf92e5c07400afefd6016cdf48208a2/activerecord/lib/active_record/associations/preloader/batch.rb#L40\"><code class=\"notranslate\">ActiveRecord::Associations::Preloader::Batch#group_and_load_similar</code></a>, queries are being grouped and loaded. That comparison is being done based on <a href=\"https://github.com/rails/rails/blob/a7f1d63a3bf92e5c07400afefd6016cdf48208a2/activerecord/lib/active_record/associations/preloader/association.rb#L17\"><code class=\"notranslate\">ActiveRecord::Associations::Preloader::Association::LoaderQuery#eql?</code></a>, which is the following:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"  def eql?(other)\n    association_key_name == other.association_key_name &amp;&amp;\n      scope.table_name == other.scope.table_name &amp;&amp;\n      scope.values_for_queries == other.scope.values_for_queries\n  end\"><pre class=\"notranslate\">  <span class=\"pl-k\">def</span> <span class=\"pl-en\">eql?</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">other</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-en\">association_key_name</span> == <span class=\"pl-s1\">other</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">association_key_name</span> &amp;&amp;\n      <span class=\"pl-en\">scope</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">table_name</span> == <span class=\"pl-s1\">other</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">scope</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">table_name</span> &amp;&amp;\n      <span class=\"pl-en\">scope</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">values_for_queries</span> == <span class=\"pl-s1\">other</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">scope</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">values_for_queries</span>\n  <span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">As you can see, in the polymorphic use case shown above the loaders for <code class=\"notranslate\">OtherNamespace::Comment</code> and <code class=\"notranslate\">Comment</code> would be considered equivalent since they have the same <code class=\"notranslate\">association_key_name</code> (<code class=\"notranslate\">notifiable</code> in this case), <code class=\"notranslate\">table_name</code> (<code class=\"notranslate\">comments</code> in this case), and <code class=\"notranslate\">values_for_queries</code> (<code class=\"notranslate\">id</code> in this case). By comparing them this way it results in  <code class=\"notranslate\">OtherNamespace::Comment</code> not being preloaded after the Rails 7.0 upgrade.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Using the existing models and relationships in the test suite, I was able to generate a failing test case. I've also included a proposed fix which adds a loader comparison on <code class=\"notranslate\">scope.connection_specification_name</code>. The idea is to prevent two tables with the same name on two separate databases from being considered equivalent when preloading associations.</p>\n<p dir=\"auto\">Another idea would be to replace the <code class=\"notranslate\">table_name</code> comparison with <code class=\"notranslate\">name</code> (the class name). I tried this and all tests pass, but I'm unsure if this could be problematic in other cases, such as when using single table inheritance. If there's another way of achieving the desired result with a different comparison, I'm happy to change the logic!</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>\n<p dir=\"auto\">Happy to add a Changelog entry if it's needed.</p>",
            "url": "https://github.com/rails/rails/pull/50382",
            "title": "Fix multi-database polymorphic preloading with equivalent table names",
            "date_modified": "2023-12-17T19:53:35.000Z",
            "date_published": "2023-12-17T18:28:32.000Z",
            "author": {
                "name": "summera",
                "url": "https://github.com/summera"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/73684?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This pull request enables <code class=\"notranslate\">Minitest/NonExecutableTestMethod</code> cop to find non-executed test that is out of <code class=\"notranslate\">ActiveSupport::TestCase</code> and its subclasses.</p>\n<p dir=\"auto\">This cop is based on the request since there was a test that is not executed found at <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2036948252\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50334\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50334/hovercard?comment_id=1851411434&amp;comment_type=issue_comment\" href=\"https://github.com/rails/rails/pull/50334#issuecomment-1851411434\">#50334 (comment)</a> and implemented to RuboCop Minitest 0.34.0 via <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2037154483\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rubocop/rubocop-minitest/issues/279\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rubocop/rubocop-minitest/issues/279/hovercard\" href=\"https://github.com/rubocop/rubocop-minitest/issues/279\">rubocop/rubocop-minitest#279</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This cop works as follows.<br>\nAs of right now, there is no offenses by reverting the merge commit via <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2036948252\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50334\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50334/hovercard\" href=\"https://github.com/rails/rails/pull/50334\">#50334</a></p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ git revert -m 1 9517841\n$ bundle exec rubocop\nInspecting 3254 files\n... snip ...\n\nOffenses:\n\nactiverecord/test/cases/assertions/query_assertions_test.rb:27:5: W: Minitest/NonExecutableTestMethod: Test method should be defined inside a test class to ensure execution.\n    def test_assert_no_queries ...\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n3254 files inspected, 1 offense detected\n$\"><pre class=\"notranslate\">$ <span class=\"pl-en\">git</span> <span class=\"pl-en\">revert</span> -<span class=\"pl-en\">m</span> <span class=\"pl-c1\">1</span> <span class=\"pl-c1\">9517841</span>\n$ <span class=\"pl-en\">bundle</span> <span class=\"pl-en\">exec</span> <span class=\"pl-en\">rubocop</span>\n<span class=\"pl-en\">Inspecting</span> <span class=\"pl-c1\">3254</span> <span class=\"pl-en\">files</span>\n... <span class=\"pl-en\">snip</span> ...\n\n<span class=\"pl-v\">Offenses</span>:\n\n<span class=\"pl-en\">activerecord</span>/<span class=\"pl-en\">test</span>/<span class=\"pl-en\">cases</span>/<span class=\"pl-en\">assertions</span>/<span class=\"pl-en\">query_assertions_test</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">27</span><span class=\"pl-pds\">:5</span>: <span class=\"pl-pds\">W</span>: <span class=\"pl-en\">Minitest</span>/<span class=\"pl-v\">NonExecutableTestMethod</span>: <span class=\"pl-v\">Test</span> <span class=\"pl-en\">method</span> <span class=\"pl-en\">should</span> <span class=\"pl-en\">be</span> <span class=\"pl-en\">defined</span> <span class=\"pl-en\">inside</span> <span class=\"pl-en\">a</span> <span class=\"pl-en\">test</span> <span class=\"pl-k\">class</span> <span class=\"pl-en\">to</span> <span class=\"pl-en\">ensure</span> <span class=\"pl-en\">execution</span><span class=\"pl-kos\">.</span>\n    <span class=\"pl-en\">def</span> <span class=\"pl-en\">test_assert_no_queries</span> ...\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n<span class=\"pl-c1\">3254</span> <span class=\"pl-en\">files</span> <span class=\"pl-en\">inspected</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">1</span> <span class=\"pl-en\">offense</span> <span class=\"pl-en\">detected</span>\n$</pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50379",
            "title": "Enable `Minitest/NonExecutableTestMethod` cop",
            "date_modified": "2023-12-17T14:31:23.000Z",
            "date_published": "2023-12-17T07:09:42.000Z",
            "author": {
                "name": "yahonda",
                "url": "https://github.com/yahonda"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/99301559?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created in order to fix issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2039162101\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50345\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50345/hovercard\" href=\"https://github.com/rails/rails/issues/50345\">#50345</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request solves the problem in Rails 7.1 where providing as: :html in the integration test for ActionDispatch causes a \"undefined method to_html\" error to be thrown.</p>\n<p dir=\"auto\">To solve this issue, this Pull Request registers a param_encoder in addition to a HTML encoder in order to perform the request to the controller.</p>\n<p dir=\"auto\">As a result, both the new tests provided in content_type_test.rb as well as the original tests for ActionDispatch are working.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50375",
            "title": "Fix issue with regression in integration tests when providing as: :html",
            "date_modified": "2023-12-18T16:07:30.000Z",
            "date_published": "2023-12-17T04:56:11.000Z",
            "author": {
                "name": "mguan2020",
                "url": "https://github.com/mguan2020"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Follow up to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2028264291\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50281\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50281/hovercard\" href=\"https://github.com/rails/rails/pull/50281\">#50281</a>.</p>\n<p dir=\"auto\">The originally introduced (exposed) helpers are a bit limited. For example:</p>\n<ol dir=\"auto\">\n<li>we must specify an exact number of queries we are expecting</li>\n<li>only application related queries are considered, schema/transactions related queries are always skipped</li>\n<li>only one matcher can be specified</li>\n</ol>\n<p dir=\"auto\">These limitations work most of the time for regular users, but not when trying to test some lower behavior (for example, inside some gem's tests).</p>\n<p dir=\"auto\">For example, it was not possible to test that an index and a foreign key are created when running some operation.<br>\nNow, this can be done via:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"assert_queries(matcher: [/create index/i, /add foreign key/], ignore_none: true) do\n  do_something\nend\"><pre class=\"notranslate\"><span class=\"pl-en\">assert_queries</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">matcher</span>: <span class=\"pl-kos\">[</span><span class=\"pl-sr\">/create index/i</span><span class=\"pl-kos\">,</span> <span class=\"pl-sr\">/add foreign key/</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">ignore_none</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">do_something</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/byroot/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/byroot\">@byroot</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/p8/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/p8\">@p8</a></p>",
            "url": "https://github.com/rails/rails/pull/50373",
            "title": "Improve `assert_queries` and `assert_no_queries` with more matching options",
            "date_modified": "2023-12-19T00:09:54.000Z",
            "date_published": "2023-12-16T21:45:34.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/417169?u=8eb34c2f1e0ccb11de6e1de11d5c296936fc8942&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This Pull Request fix the bug <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2033986021\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50315\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50315/hovercard\" href=\"https://github.com/rails/rails/issues/50315\">#50315</a></p>\n<p dir=\"auto\">possibly could fix this issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2022652760\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50256\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50256/hovercard\" href=\"https://github.com/rails/rails/issues/50256\">#50256</a> as well.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Foreign key don't handle derive_fk_query_constraints properly.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Here <code class=\"notranslate\">#derive_fk_query_constraints</code> returns an array of two keys. But foreign key should only return the derived foreign key which is the last element of the #derive_fk_query_constraints.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"     def foreign_key(infer_from_inverse_of: true)\n        @foreign_key ||= if options[:query_constraints]\n          options[:query_constraints].map { |fk| fk.to_s.freeze }.freeze\n        elsif options[:foreign_key]\n          options[:foreign_key].to_s\n        else\n          derived_fk = derive_foreign_key(infer_from_inverse_of: infer_from_inverse_of)\n\n          if active_record.has_query_constraints?\n            derived_fk = derive_fk_query_constraints(derived_fk).last\n          end\n\n          derived_fk\n        end\n      end\"><pre class=\"notranslate\">     <span class=\"pl-k\">def</span> <span class=\"pl-en\">foreign_key</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">infer_from_inverse_of</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">)</span>\n        <span class=\"pl-c1\">@foreign_key</span> ||= <span class=\"pl-k\">if</span> <span class=\"pl-en\">options</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:query_constraints</span><span class=\"pl-kos\">]</span>\n          <span class=\"pl-en\">options</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:query_constraints</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">map</span> <span class=\"pl-kos\">{</span> |<span class=\"pl-s1\">fk</span>| <span class=\"pl-s1\">fk</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_s</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">freeze</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">freeze</span>\n        <span class=\"pl-k\">elsif</span> <span class=\"pl-en\">options</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:foreign_key</span><span class=\"pl-kos\">]</span>\n          <span class=\"pl-en\">options</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:foreign_key</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_s</span>\n        <span class=\"pl-k\">else</span>\n          <span class=\"pl-s1\">derived_fk</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">derive_foreign_key</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">infer_from_inverse_of</span>: <span class=\"pl-s1\">infer_from_inverse_of</span><span class=\"pl-kos\">)</span>\n\n          <span class=\"pl-k\">if</span> <span class=\"pl-en\">active_record</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">has_query_constraints?</span>\n            <span class=\"pl-s1\">derived_fk</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">derive_fk_query_constraints</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">derived_fk</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">last</span>\n          <span class=\"pl-k\">end</span>\n\n          <span class=\"pl-s1\">derived_fk</span>\n        <span class=\"pl-k\">end</span>\n      <span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">A test coverage has been provided: <a href=\"https://github.com/rails/rails/pull/50372/files#diff-62fd84c8da9a63fa077a6fdea8acaac0df9e275b580aa1359a5c9416077fcd60R502\">https://github.com/rails/rails/pull/50372/files#diff-62fd84c8da9a63fa077a6fdea8acaac0df9e275b580aa1359a5c9416077fcd60R502</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50372",
            "title": " Fix bug #50315: Foreign key don't handle derive_fk_query_constraints properly.",
            "date_modified": "2023-12-16T18:03:25.000Z",
            "date_published": "2023-12-16T16:56:57.000Z",
            "author": {
                "name": "rubyrider",
                "url": "https://github.com/rubyrider"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5077225?u=e9f968c9eb790ee7734442f6b7998155400ad1d8&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">As SQLite's popularity grows as a production database engine for Rails applications, so does the need for robust and resilient default configuration. One of the most common issues faced when using SQLite in a Rails application are the occasional ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked) exceptions. These occur when a DEFERRED transaction attempts to acquire the SQLite database lock in the middle of a transaction once hitting a write query while another connection holds the database lock. Since this occurs in the middle of a transaction, SQLite does not attempt to retry to transaction by calling the set <code class=\"notranslate\">busy_handler</code>/<code class=\"notranslate\">busy_timeout</code> callback, but instead immediately errors with a busy exception.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request sets the <code class=\"notranslate\">default_transaction_mode</code> to <code class=\"notranslate\">:immediate</code> on the <code class=\"notranslate\">@connection_parameters</code>, which are passed to the <code class=\"notranslate\">SQLite3::Database</code> instance being initialized. This option is picked up by the <code class=\"notranslate\">SQLite3::Database</code> object and drives that implementation of <code class=\"notranslate\">#transaction</code>:  <a href=\"https://github.com/sparklemotion/sqlite3-ruby/blob/302e9c0328bff2bb04e1d4a54614140ca06f3648/lib/sqlite3/database.rb#L133\">https://github.com/sparklemotion/sqlite3-ruby/blob/302e9c0328bff2bb04e1d4a54614140ca06f3648/lib/sqlite3/database.rb#L133</a></p>\n<p dir=\"auto\">If truly desired, application developers can manually set their own <code class=\"notranslate\">default_transaction_mode</code> by defining that key in the <code class=\"notranslate\">config/database.yml</code> file.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Alongside <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2044839875\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50370\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50370/hovercard\" href=\"https://github.com/rails/rails/pull/50370\">#50370</a>, this PR stabilizes SQLite's ability to handle concurrency without throwing intermittent but frequent busy exceptions.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50371",
            "title": "Ensure SQLite transaction default to IMMEDIATE mode",
            "date_modified": "2023-12-18T12:05:59.000Z",
            "date_published": "2023-12-16T16:24:50.000Z",
            "author": {
                "name": "fractaledmind",
                "url": "https://github.com/fractaledmind"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5077225?u=e9f968c9eb790ee7734442f6b7998155400ad1d8&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">As SQLite's popularity grows as a production database engine for Rails applications, so does the need for robust and resilient default configuration. One of the most common issues faced when using SQLite in a Rails application are the occasional <code class=\"notranslate\">ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked)</code> exceptions. These occur when a connection cannot acquire SQLite's database lock within the allotted timeout.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This is prone to happen when running your Rails with a multi-threaded server, like Puma in clustered mode, because the SQLite <code class=\"notranslate\">busy_timeout</code> C function does not release the Ruby global interpreter lock (GIL). So, while one connection is attempting to acquire the SQLite database lock, no other Ruby threads can perform work or progress. In order to improve concurrency support for ActiveRecord's SQLite3 adapter, we must implement a custom Ruby <code class=\"notranslate\">busy_handler</code> function that still respects the timeout, releases the GIL, and doesn't overly thrash.</p>\n<p dir=\"auto\">This implementation achieves these goals by</p>\n<ol dir=\"auto\">\n<li><code class=\"notranslate\">sleep</code>ing while waiting to retry again, thus releasing the GIL</li>\n<li>only checking if the timeout has passed every 100 retries to minimize Ruby execution</li>\n<li><code class=\"notranslate\">sleep</code>ing 60 microseconds to ensure other Threads have an opportunity to acquire the GIL and progress</li>\n</ol>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">I have written a more in-depth exploration of this problem on my blog: <a href=\"https://fractaledmind.github.io/2023/12/11/sqlite-on-rails-improving-concurrency/\" rel=\"nofollow\">https://fractaledmind.github.io/2023/12/11/sqlite-on-rails-improving-concurrency/</a>.</p>\n<p dir=\"auto\">Together with <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2044844906\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50371\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50371/hovercard\" href=\"https://github.com/rails/rails/pull/50371\">#50371</a>, this PR is one-half of the story of stabilizing the SQLite3 adapters ability to handle concurrency.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50370",
            "title": "Improve concurrency support for SQLite3",
            "date_modified": "2023-12-18T08:49:54.000Z",
            "date_published": "2023-12-16T16:08:19.000Z",
            "author": {
                "name": "fractaledmind",
                "url": "https://github.com/fractaledmind"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4400771?u=7a6b509621cc140edb9aaeeac75ab9ae6d6e6a9a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">While these are currently equivalent in <code class=\"notranslate\">csrf_meta_tags</code>, it's safer for potential future code. It also helps communicate to users that <code class=\"notranslate\">html_safe</code> can be a dangerous method and that there are safer alternatives to it.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50366",
            "title": "`csrf_meta_tags`: use `safe_join` instead of `html_safe`",
            "date_modified": "2023-12-15T18:20:45.000Z",
            "date_published": "2023-12-15T17:05:41.000Z",
            "author": {
                "name": "smmr0",
                "url": "https://github.com/smmr0"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5642707?u=f98bcd4f29a47438b74a1aa35f3d872fd0b0070b&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50326.\">Fix</span>: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2035939378\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50326\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50326/hovercard\" href=\"https://github.com/rails/rails/issues/50326\">#50326</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\"><code class=\"notranslate\">params.deep_transform_keys</code> should transform the keys of the params, including nested hashes, arrays, and ActionController::Parameters objects.</p>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50361",
            "title": "Fix inconsistent results of params.deep_transform_keys",
            "date_modified": "2023-12-15T02:14:17.000Z",
            "date_published": "2023-12-15T02:14:08.000Z",
            "author": {
                "name": "iagopiimenta",
                "url": "https://github.com/iagopiimenta"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1688137?u=6e2ec05e392b37648521c2f1cd824a9bf4415b8e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #49197.\">Fix</span>: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1887289217\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49197\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49197/hovercard\" href=\"https://github.com/rails/rails/issues/49197\">#49197</a></p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class User &lt; ActiveRecord::Base\n  has_one :profile\n  has_one :profile_image, through: :profile\nend\n\nrelation = User.preload(:profile_image)\nrelation.first.association(:profile).loaded? #=&gt; true\nrelation.strict_loading.first.association(:profile).loaded? #=&gt; expected true, got false\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">User</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">has_one</span> <span class=\"pl-pds\">:profile</span>\n  <span class=\"pl-en\">has_one</span> <span class=\"pl-pds\">:profile_image</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">through</span>: <span class=\"pl-pds\">:profile</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-s1\">relation</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">preload</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:profile_image</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">relation</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">first</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">association</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:profile</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">loaded?</span> <span class=\"pl-c\">#=&gt; true</span>\n<span class=\"pl-s1\">relation</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">strict_loading</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">first</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">association</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:profile</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">loaded?</span> <span class=\"pl-c\">#=&gt; expected true, got false</span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<h3 dir=\"auto\">Additional information</h3>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50358",
            "title": "Fixed a bug that through association is not preloaded when strict_loading is added",
            "date_modified": "2023-12-17T12:32:24.000Z",
            "date_published": "2023-12-14T14:37:14.000Z",
            "author": {
                "name": "alpaca-tc",
                "url": "https://github.com/alpaca-tc"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1709692?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">The current implementation does not respect the layout parameter in case of mixed collections.</p>\n<p dir=\"auto\">This commit fixes the issue by ensuring that the code path for mixed collections render the partial inside the provided layout.</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #49590.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1938859635\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49590\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49590/hovercard\" href=\"https://github.com/rails/rails/issues/49590\">#49590</a></p>\n<p dir=\"auto\">The current implementation of <code class=\"notranslate\">render_collection_derive_partial</code> ignores the layout parameter in case of mixed collections.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes<code class=\"notranslate\">render_collection_derive_partial</code> to call a new <code class=\"notranslate\">render_collection_with_no_partial</code> method which renders the partial inside the specified layout.</p>\n<h3 dir=\"auto\">Additional information</h3>\n",
            "url": "https://github.com/rails/rails/pull/50348",
            "title": "Render Partial Collection with a layout parameter",
            "date_modified": "2023-12-18T20:36:54.000Z",
            "date_published": "2023-12-13T14:08:48.000Z",
            "author": {
                "name": "cmaruz",
                "url": "https://github.com/cmaruz"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/13816206?u=b3f1167e3181e3e4b093f443511446e576d13d9e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50346.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2039338756\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50346\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50346/hovercard\" href=\"https://github.com/rails/rails/issues/50346\">#50346</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR updates the method <a href=\"https://github.com/rails/rails/blob/main/activerecord/lib/active_record/reflection.rb#L785\">derive_fk_query_constraints</a> to return correct value when association id is part of query constraints.</p>\n<p dir=\"auto\">Context</p>\n<ul dir=\"auto\">\n<li>Model having Query constraints as <code class=\"notranslate\">[:associated_model_id, :id]</code></li>\n<li>Model having belong to association with <code class=\"notranslate\">associated_model</code></li>\n</ul>\n<p dir=\"auto\">Current Behaviour</p>\n<ul dir=\"auto\">\n<li>Derived foreign key value is <code class=\"notranslate\">[associated_model_id, associated_model_id]</code></li>\n</ul>\n<p dir=\"auto\">Updated Behaviour</p>\n<ul dir=\"auto\">\n<li>Derived foreign key value should be <code class=\"notranslate\">associated_model_id</code></li>\n</ul>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">Please refer to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2039338756\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50346\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50346/hovercard\" href=\"https://github.com/rails/rails/issues/50346\">#50346</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50347",
            "title": "Fix derived foreign key to return correctly when association id is part of query constraints",
            "date_modified": "2023-12-16T21:14:22.000Z",
            "date_published": "2023-12-13T10:00:03.000Z",
            "author": {
                "name": "iamradioactive",
                "url": "https://github.com/iamradioactive"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/42195321?u=810b1a1449a94590f2ff9e2f189d4c37f90691b3&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">In the rails contributors <a href=\"https://discord.com/channels/849034466856665118/974004968015155230/1129535848753406092\" rel=\"nofollow\">discord</a>, there was a discussion in the past about a Rails behavior that is somewhat unknown to Rails newbies (I am included in that list) where it showed that Rails can identify which relationship you define according to the scope of the model.</p>\n<p dir=\"auto\">I'm opening this PR for opinions on how this can be documented, as it seems to be something very interesting about Rails and which is only noticed if you have the correct intuition that Rails can do this.</p>\n<p dir=\"auto\"></p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/c9cdd800d30ec38f079b3df0772ab47f4ba4b11f/activerecord/lib/active_record/inheritance.rb#L241-L244\">rails/activerecord/lib/active_record/inheritance.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 241 to 244\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/c9cdd800d30ec38f079b3df0772ab47f4ba4b11f\">c9cdd80</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L241\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"241\"></td>\n          <td id=\"LC241\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c\"># Build a list of candidates to search for</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L242\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"242\"></td>\n          <td id=\"LC242\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s1\">candidates</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L243\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"243\"></td>\n          <td id=\"LC243\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-en\">name</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">scan</span><span class=\"pl-kos\">(</span><span class=\"pl-sr\">/::|$/</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span> <span class=\"pl-s1\">candidates</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">unshift</span> <span class=\"pl-s\">\"<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span>$`<span class=\"pl-kos\">}</span></span>::<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">type_name</span><span class=\"pl-kos\">}</span></span>\"</span> <span class=\"pl-kos\">}</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L244\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"244\"></td>\n          <td id=\"LC244\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s1\">candidates</span> &lt;&lt; <span class=\"pl-s1\">type_name</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50342",
            "title": "doc(active_record): adding more examples about scope control",
            "date_modified": "2023-12-17T10:32:04.000Z",
            "date_published": "2023-12-13T01:44:22.000Z",
            "author": {
                "name": "JohnAnon9771",
                "url": "https://github.com/JohnAnon9771"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">By the time an <code class=\"notranslate\">ActiveJob::Base#perform</code> method is invoked, Active Record instances are already deserialized and reified through GlobalID integration.</p>\n<p dir=\"auto\">Unfortunately, since end-users don't have a means of configuring that loading process, it's common for Active Job executions to raise be at conflict with the application's Active Record strict loading configuration. That can result in errors like:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"ActiveRecord::StrictLoadingViolationError: `Article` is marked for strict_loading. The Tag association named `:tags` cannot be lazily loaded.\"><pre class=\"notranslate\"><code class=\"notranslate\">ActiveRecord::StrictLoadingViolationError: `Article` is marked for strict_loading. The Tag association named `:tags` cannot be lazily loaded.\n</code></pre></div>\n<p dir=\"auto\">Fortunately, calls to <code class=\"notranslate\">GlobalID::Locator.locate</code> support an optional <code class=\"notranslate\">includes:</code> keyword argument that's incorporated into the Active Record query to fetch the record.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit introduces a rudimentary interface to provide <code class=\"notranslate\">ActiveJob::Base</code> descendants with a means of eager-loading associations to comply with strict loading.</p>\n<p dir=\"auto\">While it certainly isn't the public interface to ship, this change supports something in the realm of the following example:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Article &lt; ApplicationRecord\n  self.strict_loading_by_default = true\n\n  has_and_belongs_to_many :tags\nend\n\nclass Tag &lt; ApplicationRecord\n  has_and_belongs_to_many :articles\nend\n\nclass PublishJob &lt; ApplicationJob\n  def perform(article)\n    article.tags.each { |tag| ... }\n  end\n\n  private\n    def options_for_global_id(model_class)\n      if model_class == Article\n        { includes: [:tags] }\n      else\n        super\n      end\n    end\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Article</span> &lt; <span class=\"pl-v\">ApplicationRecord</span>\n  <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">strict_loading_by_default</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">true</span>\n\n  <span class=\"pl-en\">has_and_belongs_to_many</span> <span class=\"pl-pds\">:tags</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Tag</span> &lt; <span class=\"pl-v\">ApplicationRecord</span>\n  <span class=\"pl-en\">has_and_belongs_to_many</span> <span class=\"pl-pds\">:articles</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">PublishJob</span> &lt; <span class=\"pl-v\">ApplicationJob</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">perform</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">article</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-s1\">article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">tags</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">each</span> <span class=\"pl-kos\">{</span> |<span class=\"pl-s1\">tag</span>| ... <span class=\"pl-kos\">}</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-k\">private</span>\n    <span class=\"pl-k\">def</span> <span class=\"pl-en\">options_for_global_id</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">model_class</span><span class=\"pl-kos\">)</span>\n      <span class=\"pl-k\">if</span> <span class=\"pl-s1\">model_class</span> == <span class=\"pl-v\">Article</span>\n        <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">includes</span>: <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:tags</span><span class=\"pl-kos\">]</span> <span class=\"pl-kos\">}</span>\n      <span class=\"pl-k\">else</span>\n        <span class=\"pl-smi\">super</span>\n      <span class=\"pl-k\">end</span>\n    <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">The interface proposed in the current diff is awkward and not particularly well-named. It aims to demonstrate the necessary layers of abstraction that need to be breached in order for a Job to specify how to load records of a given model class. I'm hoping to gather feedback and guidance to shape the developer-facing public interface to configure how <code class=\"notranslate\">GlobalID::Locator.locate</code> is invoked. <strong>All feedback is welcomed</strong>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50341",
            "title": "Help Active Job comply with Strict Loading",
            "date_modified": "2023-12-13T15:49:45.000Z",
            "date_published": "2023-12-13T00:02:07.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Support for the new <code class=\"notranslate\">action_dispatch.show_exceptions</code> values was<br>\nintroduced in <a href=\"https://github.com/rails/rails/commit/e28f147329330e7ae55606e62ecc3de328431f0b\">e28f147</a>. Alongside the change to introduce new values<br>\n(like <code class=\"notranslate\">:all</code>, <code class=\"notranslate\">:rescuable</code>, <code class=\"notranslate\">:none</code>), the default behavior was changed<br>\nfor <code class=\"notranslate\">Rails.env.test?</code>.</p>\n<p dir=\"auto\">Prior to that commit, the <code class=\"notranslate\">test</code> environment's default value was <code class=\"notranslate\">false</code><br>\n(introduced in <a href=\"https://github.com/rails/rails/commit/d898a4ba425a201827f07a5bb11c8c6bf85159b8\">d898a4b</a>) (which corresponds to the new <code class=\"notranslate\">:none</code><br>\nsetting).</p>\n<p dir=\"auto\">The new default behavior has some unintended negative side effects that<br>\nimpact the feedback loop at the core of test-driven development.<br>\nWhen errors are rescued and transformed into HTML pages, the context of<br>\nthe cause of failure is obscured by additional layers of information.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">First, this commit adds more prominent entries to the Upgrading and<br>\nConfiguring guides, as well as the 7.1 Release Notes to document the<br>\ndetails of the configuration and its new values.</p>\n<p dir=\"auto\">Next, this commit adds more documentation around the change in default<br>\nbehavior. To start, it mentions the new value in the sections for the<br>\naffected test types: Controller, Integration, and System.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50339",
            "title": "Document developer-facing change to `config.action_dispatch.show_exceptions` default",
            "date_modified": "2023-12-15T17:35:40.000Z",
            "date_published": "2023-12-12T20:13:56.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        }
    ]
}