{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/509837?u=697e4a265d5359363a5d57a24b07f9a79cb0b08a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">The testing guide for Active Job currently implies that when you queue a job it will be performed:</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/509837/246954363-c864a0c2-ec53-45bb-9991-e8f55fb74ce6.png\"><img src=\"https://user-images.githubusercontent.com/509837/246954363-c864a0c2-ec53-45bb-9991-e8f55fb74ce6.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">This isn't true; by default jobs are enqueued, not performed.</p>\n<p dir=\"auto\">This PR fleshes out the docs a bit to show both examples, and adds a test to confirm the default behaviour.</p>",
            "url": "https://github.com/rails/rails/pull/48526",
            "title": "Update Active Job testing guide",
            "date_modified": "2023-06-19T23:59:53.000Z",
            "date_published": "2023-06-19T23:59:49.000Z",
            "author": {
                "name": "ghiculescu",
                "url": "https://github.com/ghiculescu"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/8207?u=519e0cd2eb38c2b5c30ce471f5801c3b77b37f31&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Update Action Dispatch Assertions' <code class=\"notranslate\">html_document</code> to use the HTML5 parser if it's available, to better represent what an end user will see in their browser DOM.</p>\n<p dir=\"auto\">Update Action View TestCase's private <code class=\"notranslate\">document_root_element</code> and the form tag helper test to use HTML5 as well.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This is part of ongoing work to update Rails to use HTML5.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48523",
            "title": "Update Action View and Action Dispatch to use HTML5 when available",
            "date_modified": "2023-06-19T20:36:18.000Z",
            "date_published": "2023-06-19T20:36:14.000Z",
            "author": {
                "name": "flavorjones",
                "url": "https://github.com/flavorjones"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/8207?u=519e0cd2eb38c2b5c30ce471f5801c3b77b37f31&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Update Action Text to use the HTML5 sanitizer when available, and to parse markup using Nokogiri::HTML5 when available. Previously, Action Text used Nokogiri's HTML4 parsers for these operations.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This pull request updates the default value for <code class=\"notranslate\">ActionText::ContentHelper.sanitizer</code> from <code class=\"notranslate\">Rails::Html::Sanitizer.safe_list_sanitizer.new</code> to <code class=\"notranslate\">Rails::Html::Sanitizer.best_supported_vendor.safe_list_sanitizer.new</code>. The method <code class=\"notranslate\">.best_supported_vendor</code> is available in rails-html-sanitizer v1.6.0 and later, which <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/500ccaaeea1d18ef7f40146f3839d454cec06783/hovercard\" href=\"https://github.com/rails/rails/commit/500ccaaeea1d18ef7f40146f3839d454cec06783\"><tt>500ccaa</tt></a> made the minimum for Action View.</p>\n<p dir=\"auto\">This pull request also adds two new methods that return the \"best supported\" HTML document and document fragment classes: <code class=\"notranslate\">ActionText.html_document_class</code> and <code class=\"notranslate\">ActionText.html_document_fragment_class</code>. These methods are used internally where code previously referenced <code class=\"notranslate\">Nokogiri::HTML</code> directly.</p>\n<p dir=\"auto\">The change from <code class=\"notranslate\">#clone</code> to <code class=\"notranslate\">#dup</code> is necessary to work around an issue in Nokogiri where <code class=\"notranslate\">#clone</code> is not defined properly for HTML5 fragment and the fragment does not have a parent Document. <code class=\"notranslate\">#dup</code> behaves the way we expect, so this should be fine.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This is part of ongoing work to update Rails to use HTML5.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48522",
            "title": "Update Action Text to use HTML5 when available",
            "date_modified": "2023-06-19T20:13:27.000Z",
            "date_published": "2023-06-19T20:13:23.000Z",
            "author": {
                "name": "flavorjones",
                "url": "https://github.com/flavorjones"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/8207?u=519e0cd2eb38c2b5c30ce471f5801c3b77b37f31&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Use Nokogiri::HTML5 to generate the guides. This doesn't meaningfully change the output, but will help ensure we're emitting valid HTML5 markup. A followup commit could reasonably rip out the W3C validator, I think.</p>\n<p dir=\"auto\">Note that the most frequent changes to the output are:</p>\n<ul dir=\"auto\">\n<li>attribute values, most often data-clipboard-text. TheHTML5 spec prescribes entity-escaping fewer characters in attribute values than libxml2 did, and wraps attribute values in double-quotes. In particular <code class=\"notranslate\">&gt;</code> and <code class=\"notranslate\">&lt;</code> are not escaped per the HTML5 spec which may be surprising to look at if you're used to libxml2's output.</li>\n<li>linebreaks are different for some HTML elements, particularly lists and tables have fewer linebreaks between elements.</li>\n</ul>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request replaces calls to <code class=\"notranslate\">Nokogiri::HTML.fragment</code> with a call to a new private method, <code class=\"notranslate\">html_fragment</code> which uses either <code class=\"notranslate\">Nokogiri::HTML5.fragment</code> if HTML5 available, else <code class=\"notranslate\">Nokogiri::HTML4.fragment</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Part of an ongoing effort to update Rails to use HTML5.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48521",
            "title": "Update guides generation to use Nokogiri's HTML5 parser",
            "date_modified": "2023-06-19T20:13:33.000Z",
            "date_published": "2023-06-19T19:59:12.000Z",
            "author": {
                "name": "flavorjones",
                "url": "https://github.com/flavorjones"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/771411?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This commit changes the active_record_encryption.configuration to be set on an after initialize block. After PR <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1200151545\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/44873\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/44873/hovercard\" href=\"https://github.com/rails/rails/pull/44873\">#44873</a>, we can configure now hash_digest_class that will be used on ActiveRecord::Encryption. But the docs said that we could change it via an initializer by setting<br>\nRails.application.config.active_record.encryption.hash_digest_class. This wasn't working because the railtie<br>\n\"active_record_encryption.configuration\" was being set before the initializer was loaded. This changes this behave to configure the active_record encryption after the initialize was loaded.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">I found this while debugging <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1707228995\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48204\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48204/hovercard\" href=\"https://github.com/rails/rails/issues/48204\">#48204</a> and I noticed that the PR <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1200151545\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/44873\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/44873/hovercard\" href=\"https://github.com/rails/rails/pull/44873\">#44873</a> added an option to configure the hash_class used to encrypt the attribute by setting the <code class=\"notranslate\">ActiveRecord::Encryption.config.hash_digest_class</code> on the initializer. But while debugging my issue, I found that the code to use this hash_digest_class wasn't using the different hash_digest_class that I set and I noticed that the ActiveRecord::Encryption was only configured only at the <code class=\"notranslate\">active_record</code> railtie before the custom initializers I have.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"    initializer &quot;active_record_encryption.configuration&quot; do |app|\n      ActiveRecord::Encryption.configure \\\n         primary_key: app.credentials.dig(:active_record_encryption, :primary_key),\n         deterministic_key: app.credentials.dig(:active_record_encryption, :deterministic_key),\n         key_derivation_salt: app.credentials.dig(:active_record_encryption, :key_derivation_salt),\n         **config.active_record.encryption\"><pre class=\"notranslate\">    <span class=\"pl-en\">initializer</span> <span class=\"pl-s\">\"active_record_encryption.configuration\"</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">app</span>|\n      <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Encryption</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">configure</span> \\\n         <span class=\"pl-pds\">primary_key</span>: <span class=\"pl-s1\">app</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">credentials</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">dig</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:active_record_encryption</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:primary_key</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n         <span class=\"pl-pds\">deterministic_key</span>: <span class=\"pl-s1\">app</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">credentials</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">dig</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:active_record_encryption</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:deterministic_key</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n         <span class=\"pl-pds\">key_derivation_salt</span>: <span class=\"pl-s1\">app</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">credentials</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">dig</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:active_record_encryption</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:key_derivation_salt</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n         **<span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">active_record</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">encryption</span></pre></div>\n<p dir=\"auto\">and my <code class=\"notranslate\">new_framework_defaults_7_1</code> was loaded after that.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48520",
            "title": "Wrap active_record_encryption.configuration on an after initialize",
            "date_modified": "2023-06-19T22:56:16.000Z",
            "date_published": "2023-06-19T15:32:17.000Z",
            "author": {
                "name": "duduribeiro",
                "url": "https://github.com/duduribeiro"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/75765648?u=1dc3ffb2f347af44627baa665b1b2dff0abd7dd1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Currently, insert_all/upsert_all only accept array of hashes, so I want to make it accept array of models as well.<br>\nExample:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Book.insert_all([\n  Book.new(title: &quot;Rework&quot;, author: &quot;David&quot;),\n  Book.new(title: &quot;Eloquent Ruby&quot;, author: &quot;Russ&quot;)\n])\"><pre class=\"notranslate\"><code class=\"notranslate\">Book.insert_all([\n  Book.new(title: \"Rework\", author: \"David\"),\n  Book.new(title: \"Eloquent Ruby\", author: \"Russ\")\n])\n</code></pre></div>\n\n<h3 dir=\"auto\">Detail</h3>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">If you do not want timestamp values to be updated automatically, you must set record_timestamps to false.<br>\nExample:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Book.insert_all([Book.new(title: &quot;Rework&quot;, author: &quot;David&quot;)])\nBook.last.updated_at = '2023-05-23 20:37:10.97 UTC'\n\nBook.insert_all([Book.new(title: &quot;Rework&quot;, author: &quot;David&quot;)], record_timestamps: false)\nBook.last.updated_at = nil\"><pre class=\"notranslate\"><code class=\"notranslate\">Book.insert_all([Book.new(title: \"Rework\", author: \"David\")])\nBook.last.updated_at = '2023-05-23 20:37:10.97 UTC'\n\nBook.insert_all([Book.new(title: \"Rework\", author: \"David\")], record_timestamps: false)\nBook.last.updated_at = nil\n</code></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48513",
            "title": "Allow insert_all/upsert_all to use an array of models",
            "date_modified": "2023-06-19T11:10:53.000Z",
            "date_published": "2023-06-18T13:30:51.000Z",
            "author": {
                "name": "TakuyaKurimoto",
                "url": "https://github.com/TakuyaKurimoto"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR makes a couple of changes, so I've broken them down atomically.</p>\n<p dir=\"auto\">Based on what I've found from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1624211690\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47675\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/47675/hovercard\" href=\"https://github.com/rails/rails/pull/47675\">#47675</a>, there were a couple of improvements to be made.</p>\n<p dir=\"auto\">Please feel free to review them on a per-commit basis, starting:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://github.com/rails/rails/commit/7552929471c77cafacd988aff031dd6394e653cc\">Make ActionMailer::TestCase#read_fixture public</a>\n<ul dir=\"auto\">\n<li>Perhaps a bit controversial, but since it's been documented in the <a href=\"https://guides.rubyonrails.org/testing.html#revenge-of-the-fixtures\" rel=\"nofollow\">guides</a> for ages, why not?</li>\n</ul>\n</li>\n<li><a href=\"https://github.com/rails/rails/commit/6dfdb5e1bcfd42a29348490ef5512bd5f8703d7c\">Fix AR::TestFixtures.fixture_paths= docs</a>\n<ul dir=\"auto\">\n<li>Remove deprecated method and add docs for the new plural forms</li>\n</ul>\n</li>\n<li><a href=\"https://github.com/rails/rails/commit/387970fdec4d2147c2e71e0c510cffbf1c17091e\">Document ActiveSupport::TestCase.fixture_paths= and getter</a>\n<ul dir=\"auto\">\n<li>Also document them where they are intended to be used, when requiring \"rails/test_help\"</li>\n</ul>\n</li>\n<li><a href=\"https://github.com/rails/rails/commit/c1db265021e02279f8bcf087f49bd569db93623d\">Fixup AR::FixtureSet docs</a>\n<ul dir=\"auto\">\n<li>Linkify the <code class=\"notranslate\">fixture_paths=</code> setter now that it's documented, and other small cleanups</li>\n</ul>\n</li>\n</ul>\n<p dir=\"auto\">Planning to not merge this one without feedback, since it's changing the public visibility of a method and adding other possibly controversial docs.</p>",
            "url": "https://github.com/rails/rails/pull/48512",
            "title": "Update documentation around fixture paths",
            "date_modified": "2023-06-20T00:05:20.000Z",
            "date_published": "2023-06-18T08:57:31.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/509837?u=697e4a265d5359363a5d57a24b07f9a79cb0b08a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #48463.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1755595459\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48463\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48463/hovercard\" href=\"https://github.com/rails/rails/issues/48463\">#48463</a></p>\n<p dir=\"auto\">Since <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"998126151\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/43227\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/43227/hovercard\" href=\"https://github.com/rails/rails/pull/43227\">#43227</a>, the default CSP suggested in the initializer does not work with empty sessions. See <a href=\"https://github.com/rails/rails/pull/43227#issuecomment-1191692615\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/43227/hovercard\">this comment</a> for an example issue and workaround.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR just adds a fallback in case the session has not been loaded. I also updated the railties test to match the config in the default initializer.</p>",
            "url": "https://github.com/rails/rails/pull/48510",
            "title": "Allow default CSP setup to work with empty sessions",
            "date_modified": "2023-06-20T00:21:39.000Z",
            "date_published": "2023-06-18T07:50:25.000Z",
            "author": {
                "name": "ghiculescu",
                "url": "https://github.com/ghiculescu"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created to <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #47357.\">fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1580073071\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47357\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/47357/hovercard\" href=\"https://github.com/rails/rails/issues/47357\">#47357</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request ensures that when using <code class=\"notranslate\">scoping</code> on update, delete and reload, scopes are only applied if <code class=\"notranslate\">all_queries: true</code> and only default scopes with <code class=\"notranslate\">all_queries: true</code> are applied. Because all default scopes are applied initially with the <code class=\"notranslate\">where</code> clause when scoping, my approach was to remove the unneeded scopes after the fact in these three scenarios.</p>\n<p dir=\"auto\">Except for the update and delete cases <strong>without</strong> <code class=\"notranslate\">scoping(all_queries: true)</code>, all other tests failed initially (4/6).</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Added <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/pjambet/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/pjambet\">@pjambet</a> as a co-author since they thoroughly documented all the expected and actual behaviour and tests.</p>\n<p dir=\"auto\">Unsure if this needs a CHANGELOG entry?</p>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48509",
            "title": "[Fix #47357] Inconsistent update, delete, reload behaviour with `#scoping` and default scopes",
            "date_modified": "2023-06-18T07:31:30.000Z",
            "date_published": "2023-06-17T14:33:33.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/11679928?u=cda9703c49801755597161a69ed96a87c27b4a0d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #48486.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1759285533\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48486\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48486/hovercard\" href=\"https://github.com/rails/rails/issues/48486\">#48486</a></p>\n<p dir=\"auto\">Saving ranges with an empty range</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Simply return if the string is empty, the same as it's being done for an \"empty\" string.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48507",
            "title": "Fix empty string saving for ranges",
            "date_modified": "2023-06-19T23:14:27.000Z",
            "date_published": "2023-06-16T19:10:35.000Z",
            "author": {
                "name": "szymonlipka",
                "url": "https://github.com/szymonlipka"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/142719?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">When eager_load is enabled and something (like the frozen_record gem) tries to load yaml files that use <code class=\"notranslate\">ActiveRecord::FixtureSet.identify(...)</code> we'll get an uninitialized constant error.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">With a new rails app, add the <code class=\"notranslate\">frozen_record</code> gem and two files:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ cat app/models/ice.rb\nclass Ice &lt; FrozenRecord::Base\n  self.base_path = Rails.root.join(&quot;db/data&quot;).to_s\nend\n$ cat db/data/ices.yml.erb\n- y: &lt;%= ActiveRecord::FixtureSet.identify(:fake) %&gt;\"><pre class=\"notranslate\"><code class=\"notranslate\">$ cat app/models/ice.rb\nclass Ice &lt; FrozenRecord::Base\n  self.base_path = Rails.root.join(\"db/data\").to_s\nend\n$ cat db/data/ices.yml.erb\n- y: &lt;%= ActiveRecord::FixtureSet.identify(:fake) %&gt;\n</code></pre></div>\n<p dir=\"auto\">Running <code class=\"notranslate\">CI=true bin/rails test</code> will abort with an uninitialized constant error:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ CI=1 bin/rails test\n(erb):1:in `&lt;main&gt;': uninitialized constant ActiveRecord::FixtureSet (NameError)\n\n_erbout = +''; _erbout.&lt;&lt; &quot;- y: &quot;.freeze; _erbout.&lt;&lt;(( ActiveRecord::FixtureSet.identify(:fake) ).to_s); _erbout.&lt;&lt; &quot;\\n&quot;.freeze\"><pre class=\"notranslate\"><code class=\"notranslate\">$ CI=1 bin/rails test\n(erb):1:in `&lt;main&gt;': uninitialized constant ActiveRecord::FixtureSet (NameError)\n\n_erbout = +''; _erbout.&lt;&lt; \"- y: \".freeze; _erbout.&lt;&lt;(( ActiveRecord::FixtureSet.identify(:fake) ).to_s); _erbout.&lt;&lt; \"\\n\".freeze\n</code></pre></div>\n<p dir=\"auto\">It may be worth noting that this file is already autoloaded in this module for a different constant:<br>\n</p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/df24e61cfb9a0e61f35989e35da487299d805e03/activerecord/lib/active_record.rb#L84\">rails/activerecord/lib/active_record.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 84\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/rails/rails/commit/df24e61cfb9a0e61f35989e35da487299d805e03\">df24e61</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L84\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"84\"></td>\n          <td id=\"LC84\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-en\">autoload</span> <span class=\"pl-pds\">:TestFixtures</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"active_record/fixtures\"</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48506",
            "title": "Autoload ActiveRecord::FixtureSet",
            "date_modified": "2023-06-16T21:52:17.000Z",
            "date_published": "2023-06-16T18:45:25.000Z",
            "author": {
                "name": "rwstauner",
                "url": "https://github.com/rwstauner"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2651240?u=97e6903620ef2874e2231cee9eb2654b7811d750&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Apply scope to association subqueries. (belongs_to/has_one/has_many).</p>\n<p dir=\"auto\">Given:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Author &lt; ApplicationRecord\n  has_many :welcome_posts, -&gt; { where(title: &quot;welcome&quot;) } , class_name: &quot;Post&quot;\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Author</span> &lt; <span class=\"pl-v\">ApplicationRecord</span>\n  <span class=\"pl-en\">has_many</span> <span class=\"pl-pds\">:welcome_posts</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">-&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">where</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">title</span>: <span class=\"pl-s\">\"welcome\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">}</span> <span class=\"pl-kos\">,</span> <span class=\"pl-pds\">class_name</span>: <span class=\"pl-s\">\"Post\"</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">Before:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Author.where(welcome_posts: Post.all)\n#=&gt; SELECT (...) WHERE &quot;authors&quot;.&quot;id&quot; IN (SELECT &quot;posts&quot;.&quot;author_id&quot; FROM &quot;posts&quot;)\"><pre class=\"notranslate\"><span class=\"pl-v\">Author</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">where</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">welcome_posts</span>: <span class=\"pl-v\">Post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\">#=&gt; SELECT (...) WHERE \"authors\".\"id\" IN (SELECT \"posts\".\"author_id\" FROM \"posts\")</span></pre></div>\n<p dir=\"auto\">Later:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Author.where(welcome_posts: Post.all)\n#=&gt; SELECT (...) WHERE &quot;authors&quot;.&quot;id&quot; IN (SELECT &quot;posts&quot;.&quot;author_id&quot; FROM &quot;posts&quot; WHERE &quot;posts&quot;.&quot;title&quot; = 'welcome')\"><pre class=\"notranslate\"><span class=\"pl-v\">Author</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">where</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">welcome_posts</span>: <span class=\"pl-v\">Post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\">#=&gt; SELECT (...) WHERE \"authors\".\"id\" IN (SELECT \"posts\".\"author_id\" FROM \"posts\" WHERE \"posts\".\"title\" = 'welcome')</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48487",
            "title": "Apply scope to association subqueries",
            "date_modified": "2023-06-16T18:48:48.000Z",
            "date_published": "2023-06-15T18:13:11.000Z",
            "author": {
                "name": "lazaronixon",
                "url": "https://github.com/lazaronixon"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/45299?u=7d70bac77efa7641741857d155a3eb8d7941a35f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Make <code class=\"notranslate\">assert_changes</code> error messages show objects with <code class=\"notranslate\">.inspect</code> so that <code class=\"notranslate\">nil</code> is displayed as \"nil\" instead of an empty string, we can differentiate strings and symbols, etc.</p>\n<p dir=\"auto\">Make <code class=\"notranslate\">assert_no_changes</code> error messages surface the actual value.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>\n<p dir=\"auto\">Let me know if I should update the CHANGELOG as this is a minor change.</p>",
            "url": "https://github.com/rails/rails/pull/48482",
            "title": "Improve error messages of `assert_changes` and `assert_no_changes`",
            "date_modified": "2023-06-15T09:18:29.000Z",
            "date_published": "2023-06-15T09:18:25.000Z",
            "author": {
                "name": "pcreux",
                "url": "https://github.com/pcreux"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2651240?u=97e6903620ef2874e2231cee9eb2654b7811d750&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Since version 7.0.5 <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/bdbe58b50461dc44c42df4d5427fa78aeb1debcb/hovercard\" href=\"https://github.com/rails/rails/commit/bdbe58b50461dc44c42df4d5427fa78aeb1debcb\"><tt>bdbe58b</tt></a>  we are able to properly keep integrity in <code class=\"notranslate\">has_one</code> relationships, so when we create a new record <code class=\"notranslate\">account.create_client(...)</code> it will prevent duplication, but we can still bypass it on the other side of the relationship using <code class=\"notranslate\">Client.create!(..., account: existing_account)</code>.</p>\n<p dir=\"auto\">That said I'm proposing to add a new option <code class=\"notranslate\">unique</code> to the <code class=\"notranslate\">belongs_to</code> method. Here are some advantages of this approach...</p>\n<ul dir=\"auto\">\n<li>Unique indexes are not required.</li>\n<li>Different from unique indexes we can use it with an optional association.</li>\n<li>Take advantage of the new <code class=\"notranslate\">belongs_to_required_validates_foreign_key</code>.</li>\n<li>Validation API, messages, etc...</li>\n</ul>\n<p dir=\"auto\">Before:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Client\n  belongs_to :account; validates_uniqueness_of(:account, allow_nil: true, message: :unique)\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Client</span>\n  <span class=\"pl-en\">belongs_to</span> <span class=\"pl-pds\">:account</span><span class=\"pl-kos\">;</span> <span class=\"pl-en\">validates_uniqueness_of</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:account</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">allow_nil</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">message</span>: <span class=\"pl-pds\">:unique</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">Later:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Client\n  belongs_to :account, unique: true\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Client</span>\n  <span class=\"pl-en\">belongs_to</span> <span class=\"pl-pds\">:account</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">unique</span>: <span class=\"pl-c1\">true</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\"><a href=\"https://thoughtbot.com/blog/rails-has-one-limitations\" rel=\"nofollow\">https://thoughtbot.com/blog/rails-has-one-limitations</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48480",
            "title": "Add unique option to belongs_to association",
            "date_modified": "2023-06-17T19:55:43.000Z",
            "date_published": "2023-06-15T07:00:03.000Z",
            "author": {
                "name": "lazaronixon",
                "url": "https://github.com/lazaronixon"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1080678?u=b6e211b7766e6aa01e794067f67dd65d419c0150&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Rails 7.2 will remove support for <code class=\"notranslate\">#remove_connection</code> in favor of <code class=\"notranslate\">#remove_connection_pool</code>. This deprecation also represents a change in behavior. <code class=\"notranslate\">#remove_connection_pool</code> will not accept a <code class=\"notranslate\">name</code> argument as it should always be called on the class that owns the pool an application wants removed. In addition it will no longer reset a subclass with it's own connection to the parent pool.</p>\n<p dir=\"auto\">Previous behavior:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class ActiveRecord::Base\nend\n\nclass Post &lt; ActiveRecord::Base\n  establish_connection :post_db\nend\n\nPost.remove_connection\n=&gt; would reassign Post to `ActiveRecord::Base`  and `Post.connected?` returns `true`.\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Post</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">establish_connection</span> <span class=\"pl-pds\">:post_db</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-v\">Post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">remove_connection</span>\n<span class=\"pl-c1\">=&gt;</span> <span class=\"pl-en\">would</span> <span class=\"pl-en\">reassign</span> <span class=\"pl-en\">Post</span> <span class=\"pl-en\">to</span> <span class=\"pl-s\">`ActiveRecord::Base`</span>  <span class=\"pl-k\">and</span> <span class=\"pl-s\">`Post.connected?`</span><span class=\"pl-kos\"></span> <span class=\"pl-en\">returns</span> <span class=\"pl-s\">`true`</span><span class=\"pl-kos\">.</span><span class=\"pl-en\"></span></pre></div>\n<p dir=\"auto\">New behavior:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class ActiveRecord::Base\nend\n\nclass Post &lt; ActiveRecord::Base\n  establish_connection :post_db\nend\n\nPost.remove_connection\n=&gt; Removes the pool keyed on `Post` and `Post.connected?` returns `nil`.\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Post</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">establish_connection</span> <span class=\"pl-pds\">:post_db</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-v\">Post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">remove_connection</span>\n<span class=\"pl-c1\">=&gt;</span> <span class=\"pl-en\">Removes</span> <span class=\"pl-en\">the</span> <span class=\"pl-en\">pool</span> <span class=\"pl-en\">keyed</span> <span class=\"pl-en\">on</span> <span class=\"pl-s\">`Post`</span> <span class=\"pl-k\">and</span> <span class=\"pl-s\">`Post.connected?`</span><span class=\"pl-kos\"></span> <span class=\"pl-en\">returns</span> <span class=\"pl-s\">`nil`</span><span class=\"pl-kos\">.</span><span class=\"pl-en\"></span></pre></div>\n<p dir=\"auto\">If the <code class=\"notranslate\">Post</code> class does not have its own connection and <code class=\"notranslate\">Post.remove_connection</code> is called, the behavior is unchanged. Active Record will not remove the pool belonging to <code class=\"notranslate\">ActiveRecord::Base</code>. To remove the parent pool, applications should call <code class=\"notranslate\">ActiveRecord::Base.remove_connection</code> directly.</p>\n<p dir=\"auto\">I chose to add a new method instead of deprecating behavior in the current one because this behavior change isn't worth the overhead of a config option. I also think it's more likely to get feedback if this is a dealbreaker change.</p>\n<p dir=\"auto\">I'm making this change because due to the current design of Active Record connection management, it does not make sense that <code class=\"notranslate\">remove_connection</code> would reassign connections to the parent class. In a multi-db application this would be dangerous, we would not want to assign <code class=\"notranslate\">AnimalsRecord</code> to <code class=\"notranslate\">ActiveRecord::Base</code> if they are completely different databases. In addition it does not make sense to take a <code class=\"notranslate\">name</code> argument when the <code class=\"notranslate\">name</code> should be derived from the connection_specification_name on self.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>\n<hr>\n<p dir=\"auto\">cc/ <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewd/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewd\">@matthewd</a> in case you have strong opinions on this.</p>\n<p dir=\"auto\">Background:<br>\nI noticed that this was added for manageiq in <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/6458610d0b95049bbc847cbc1039d6f5be8cc30c/hovercard\" href=\"https://github.com/rails/rails/commit/6458610d0b95049bbc847cbc1039d6f5be8cc30c\"><tt>6458610</tt></a> from this report <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"154095811\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/24959\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/24959/hovercard\" href=\"https://github.com/rails/rails/issues/24959\">#24959</a>. I don't think we should keep supporting this because its behavior is really surprising given the current design of connection management.</p>",
            "url": "https://github.com/rails/rails/pull/48478",
            "title": "Deprecate `#remove_connection` in favor of `#remove_connection_pool`.",
            "date_modified": "2023-06-14T21:23:31.000Z",
            "date_published": "2023-06-14T21:13:36.000Z",
            "author": {
                "name": "eileencodes",
                "url": "https://github.com/eileencodes"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/26221?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">For local environments (development and test), Rails creates a secrets file. However this file is called development_secret.txt, which imho is confusing as it is used by both dev and test environments.</p>\n\n<p dir=\"auto\">This Pull Request has been created because naming of local secret file is confusing</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the name of the generate secret method as well as the secrets file itself.<br>\nBoth in development and test environment a secret file is generated if no secret_key_base exists, however, the file is always called <code class=\"notranslate\">development_secret.txt</code>. As Rails defines <code class=\"notranslate\">development</code> and <code class=\"notranslate\">test</code> environments as <code class=\"notranslate\">local</code>, it makes sense to call this file <code class=\"notranslate\">local_secret.txt</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">So this PR changes <code class=\"notranslate\">def generate_development_secret</code> to <code class=\"notranslate\">def generate_local_secret</code><br>\nand<br>\n<code class=\"notranslate\">development_secret.txt</code> to <code class=\"notranslate\">local.secret.txt</code>.</p>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48471",
            "title": "Improve naming of local secret generation",
            "date_modified": "2023-06-19T10:21:22.000Z",
            "date_published": "2023-06-14T11:41:33.000Z",
            "author": {
                "name": "mdh",
                "url": "https://github.com/mdh"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/13816206?u=b3f1167e3181e3e4b093f443511446e576d13d9e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This PR <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #48445.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1751360731\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48445\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48445/hovercard\" href=\"https://github.com/rails/rails/issues/48445\">#48445</a> .</p>\n<p dir=\"auto\">As per the current behaviour, Two queries are being fired to validate uniqueness of an encrypted attribute even in cases when <strong>encrypted_type.previous_types</strong> is nil. An additional query with the current encrypted/ciphered value should not be fired.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR updates the loop in <strong><a href=\"https://github.com/rails/rails/blob/main/activerecord/lib/active_record/encryption/extended_deterministic_uniqueness_validator.rb#L17\">ExtendedDeterministicUniquenessValidator</a></strong> to iterate over <strong>encrypted_type.previous_types</strong> only i.e. to exclude the current encrypted_type.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">For Additional context Please refer to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1751360731\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48445\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48445/hovercard\" href=\"https://github.com/rails/rails/issues/48445\">#48445</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48462",
            "title": "Do not revalidate encrypted attribute with current encrypted_type",
            "date_modified": "2023-06-13T14:48:12.000Z",
            "date_published": "2023-06-13T12:57:02.000Z",
            "author": {
                "name": "iamradioactive",
                "url": "https://github.com/iamradioactive"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/771968?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This commit adds support for replacing the compressor used for serialized cache entries.  Custom compressors must respond to <code class=\"notranslate\">deflate</code> and <code class=\"notranslate\">inflate</code>.  For example:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"module MyCompressor\n  def self.deflate(string)\n    # compression logic...\n  end\n\n  def self.inflate(compressed)\n    # decompression logic...\n  end\nend\n\nconfig.cache_store = :redis_cache_store, { compressor: MyCompressor }\"><pre class=\"notranslate\"><span class=\"pl-k\">module</span> <span class=\"pl-v\">MyCompressor</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">deflate</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">string</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-c\"># compression logic...</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-k\">def</span> <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">inflate</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">compressed</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-c\"># decompression logic...</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">cache_store</span> <span class=\"pl-c1\">=</span> <span class=\"pl-pds\">:redis_cache_store</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">compressor</span>: <span class=\"pl-v\">MyCompressor</span> <span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">Additionally, as part of this work, a new optimization has been added for cache format version 7.1 such that the version and expiry of cache entries can be checked without deserializing (or decompressing) the entries.</p>\n<p dir=\"auto\">Also as part of this work, custom cache coders now support compression when the cache format version is &gt;= 7.1, and they benefit from the improvements introduced by cache format version 7.1 (namely, lazy deserialization from this commit, and optimized serialization of bare strings from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1694791749\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48122\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48122/hovercard\" href=\"https://github.com/rails/rails/pull/48122\">#48122</a>).</p>\n<hr>\n<p dir=\"auto\">/cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/byroot/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/byroot\">@byroot</a> since you expressed interest in this in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1736309755\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48368\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48368/hovercard?comment_id=1572814330&amp;comment_type=issue_comment\" href=\"https://github.com/rails/rails/issues/48368#issuecomment-1572814330\">#48368 (comment)</a>.</p>",
            "url": "https://github.com/rails/rails/pull/48451",
            "title": "Support replacing cache compressor",
            "date_modified": "2023-06-17T03:50:32.000Z",
            "date_published": "2023-06-11T21:27:10.000Z",
            "author": {
                "name": "jonathanhefner",
                "url": "https://github.com/jonathanhefner"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/57028?u=a8e7c3d4b3f9ea54f1302bca3bedf0a4f228aa0e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because I recently stumbled upon a use case where I needed to send a bounce email (with <code class=\"notranslate\">ActionMailbox.bounce_with</code>, but without going through ActiveJob and a queue. Since this seems like a reasonable use case, I suggest adding an option to <code class=\"notranslate\">bounce_with</code> to allow for the immediate delivery of the bounce email.</p>\n<h3 dir=\"auto\">Details</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">ActionMailbox::Base#bounce_with</code> to accept an optional kwarg, <code class=\"notranslate\">:deliver_now</code>, which, if <code class=\"notranslate\">true</code>, provokes the sending of the bounce email without going through a queue.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\" # Enqueues the bounce email\nMyMailbox.bounce_with MyMailer.my_method(args)\n\n# Delivers the email immediately\nMyMailbox.bounce_with MyMailer.my_method(args, deliver_now: true)\"><pre class=\"notranslate\"> <span class=\"pl-c\"># Enqueues the bounce email</span>\n<span class=\"pl-v\">MyMailbox</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">bounce_with</span> <span class=\"pl-v\">MyMailer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">my_method</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">args</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-c\"># Delivers the email immediately</span>\n<span class=\"pl-v\">MyMailbox</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">bounce_with</span> <span class=\"pl-v\">MyMailer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">my_method</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">args</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">deliver_now</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">)</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48446",
            "title": "Bounce emails can be sent with `deliver_now`",
            "date_modified": "2023-06-11T10:59:19.000Z",
            "date_published": "2023-06-11T10:59:15.000Z",
            "author": {
                "name": "r3trofitted",
                "url": "https://github.com/r3trofitted"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6142?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">It can remove hundreds of lines of deprecation warning backtraces from spamming the console or the logs.  It maintains forward compatibility with the <code class=\"notranslate\">pg</code> gem, which will eventually require the new behavior.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">It's very small: just a single <code class=\"notranslate\">**</code> for some keyword args.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<ul dir=\"auto\">\n<li>See the original issue for more context: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1680963007\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48046\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48046/hovercard\" href=\"https://github.com/rails/rails/issues/48046\">#48046</a></li>\n<li>Backported PR: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1681132170\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48048\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48048/hovercard\" href=\"https://github.com/rails/rails/pull/48048\">#48048</a> (from tiramizoo/pg-1-5-warning)</li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48435",
            "title": "Backport: Fix the pg 1.5.0 deprecation warning",
            "date_modified": "2023-06-09T16:59:32.000Z",
            "date_published": "2023-06-09T16:55:15.000Z",
            "author": {
                "name": "nevans",
                "url": "https://github.com/nevans"
            }
        }
    ]
}