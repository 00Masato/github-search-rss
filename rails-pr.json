{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/75903418?u=6f227375ed865d3bb51476d2e1fe8ce241ac7af4&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because I was working on some system specs for my project and noticed the deprecation warning in my console. I thought that this would be a great opportunity to contribute and create my first pull request to Rails! Even though it's a simple maintenance fix, it's very exciting to update the rails repository no matter the size of the change.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the <code class=\"notranslate\">action_cable/connection/base.rb#started_request_message</code> and <code class=\"notranslate\">action_cable/connection/base.rb#finished_request_message</code> methods to use <code class=\"notranslate\">Time.to_fs</code> instead of <code class=\"notranslate\">Time.to_s</code> as the deprecation warning suggests as well. This was causing the deprecation warning message in my system spec.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Should be a simple maintenance fix, nothing should be broken :)</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48954",
            "title": "Updating Time.to_s to Time.to_fs",
            "date_modified": "2023-08-16T16:34:33.000Z",
            "date_published": "2023-08-16T16:34:29.000Z",
            "author": {
                "name": "kemaldemirgil",
                "url": "https://github.com/kemaldemirgil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2377?u=d3cff5e4910d850a36ced404d0a45304547f88f8&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">When RedisCacheStore uses a connection pool, <code class=\"notranslate\">RedisCacheStore#mset_capable?</code> would always return true due to the class-check here: <a href=\"https://github.com/rails/rails/blame/a844773245e96de8a47d24df76747cdc9e4aa01f/activesupport/lib/active_support/cache/redis_cache_store.rb#L315\">https://github.com/rails/rails/blame/a844773245e96de8a47d24df76747cdc9e4aa01f/activesupport/lib/active_support/cache/redis_cache_store.rb#L315</a></p>\n<p dir=\"auto\">In Rails 7.0.7, collection caching <a href=\"https://github.com/rails/rails/pull/48645\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48645/hovercard\">started using write_multi</a>. If you're using Redis::Distributed with a connection pool, it'll then raise <code class=\"notranslate\">MAPPED_MSET cannot be used in Redis::Distributed because the keys involved need to be on the same server or because we cannot guarantee that the operation will be atomic.</code>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the class-check to handle connection pools, so that mget/mset_capable are set appropriately based on the underling class.<br>\nI've also added another subclass of RedisCacheStoreCommonBehaviorTest, this one using distributed-redis + a connection pool, to try &amp; get some more coverage there. (I also wanted to point out that I've <a href=\"https://github.com/rails/rails/pull/48952/commits/afa6a6ba3bd68a32bdb4b9a506a5819a15437ae4#diff-6cbd9119d9ff9196372e53699cb973838036a376995cf32e4c0c5d6584520d6aR277\">disabled a test there</a> because <code class=\"notranslate\">delete_multi</code> returns the incorrect number of deletions when using Redis::Distributed. )</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">I'd originally looked at <a href=\"https://github.com/redis/redis-rb/pull/1215\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/redis/redis-rb/pull/1215/hovercard\">fixing this upstream in redis-rb</a> to add mset support to Redis::Distributed, and then started looking at replacing RedisCacheStore's use of Redis::Distributed with a new wrapper-class that could handle the sharding itself. I think this fix might be a better option in the short-term though, as a small fix to 7-0-stable.</p>\n<p dir=\"auto\">I don't believe the same fix is needed on main because that no-longer uses mset_capable (<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/f9fce850da754daca5274f402b7b6dc77c7489b9/hovercard\" href=\"https://github.com/rails/rails/commit/f9fce850da754daca5274f402b7b6dc77c7489b9\"><tt>f9fce85</tt></a>). It might be worth adding the extra test coverage from the new RedisCacheStoreWithDistributedRedisTest though - any preferences how that's done?</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48952",
            "title": "Fix CacheStore#write_multi with Redis::Distributed+ConnectionPool",
            "date_modified": "2023-08-16T14:08:31.000Z",
            "date_published": "2023-08-16T13:19:53.000Z",
            "author": {
                "name": "jdelStrother",
                "url": "https://github.com/jdelStrother"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">My main motivation was to remove <code class=\"notranslate\">git_source</code> from the <code class=\"notranslate\">bug_report_templates</code>, which is possible by <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rubygems/rubygems/commit/c2e81f8ff6/hovercard\" href=\"https://github.com/rubygems/rubygems/commit/c2e81f8ff6\">rubygems/rubygems@<tt>c2e81f8ff6</tt></a></p>\n<p dir=\"auto\">In general, I'm curious what is preventing us from upgrading <code class=\"notranslate\">bundler</code> and probably the <code class=\"notranslate\">required_rubygems_version</code> should be increased at some point?</p>\n<p dir=\"auto\">Seems like <code class=\"notranslate\">git_source</code> was removed from the generated <code class=\"notranslate\">Gemfile</code> (but not templates) in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1741432682\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48396\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48396/hovercard\" href=\"https://github.com/rails/rails/pull/48396\">#48396</a>.</p>",
            "url": "https://github.com/rails/rails/pull/48951",
            "title": "Bump bundler requirement to >= 2.2.0",
            "date_modified": "2023-08-16T15:39:35.000Z",
            "date_published": "2023-08-16T09:39:54.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/386234?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><a href=\"https://playwright.dev/\" rel=\"nofollow\">Playwright</a> is getting popularity as a new browser automation tool. There is a community-maintained Ruby client (<a href=\"https://github.com/YusukeIwaki/playwright-ruby-client\">client</a> and <a href=\"https://github.com/YusukeIwaki/capybara-playwright-driver\">capybara driver</a>) as well. I have been using it for a while now and it works great, and it would be great if we could add support for it to Rails.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR adds support for the Playwright driver to Rails.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48950",
            "title": "Add support for Playwright as a driver for system tests",
            "date_modified": "2023-08-16T12:21:25.000Z",
            "date_published": "2023-08-16T07:28:00.000Z",
            "author": {
                "name": "yuki24",
                "url": "https://github.com/yuki24"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">While these are valid Rack Handler names, their handler name is not the same as their gem name.</p>\n<table role=\"table\">\n<thead>\n<tr>\n<th>handler</th>\n<th>gem</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>fastcgi</td>\n<td>fcgi</td>\n</tr>\n<tr>\n<td>lsws</td>\n<td>ruby-lsapi</td>\n</tr>\n</tbody>\n</table>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Do not suggest adding non-existant gems to Gemfile</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48949",
            "title": "Do not suggest adding non-existent gems to Gemfile",
            "date_modified": "2023-08-16T10:32:43.000Z",
            "date_published": "2023-08-16T06:01:02.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1080678?u=b6e211b7766e6aa01e794067f67dd65d419c0150&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">We originally implemented this project to use OR queries instead of IN because it seemed like there was no way to do that without a row constructor. While working on implementing this feature in our vitess gem I noticed that we can actually get the queries we wanted, and the new code is more performant than generating an OR.</p>\n<p dir=\"auto\">SQL Before:</p>\n<div class=\"highlight highlight-source-sql notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"SELECT &quot;sharded_comments&quot;.*\nFROM &quot;sharded_comments&quot;\nWHERE (&quot;sharded_comments&quot;.&quot;blog_id&quot; = 969142904\nAND (&quot;sharded_comments&quot;.&quot;blog_post_id&quot; = 357271355\nOR &quot;sharded_comments&quot;.&quot;blog_post_id&quot; = 756811794)\nOR &quot;sharded_comments&quot;.&quot;blog_id&quot; = 308674288\nAND &quot;sharded_comments&quot;.&quot;blog_post_id&quot; = 1055755181)\"><pre class=\"notranslate\"><span class=\"pl-k\">SELECT</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sharded_comments<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-k\">*</span>\n<span class=\"pl-k\">FROM</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sharded_comments<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">WHERE</span> (<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sharded_comments<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>blog_id<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">969142904</span>\n<span class=\"pl-k\">AND</span> (<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sharded_comments<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>blog_post_id<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">357271355</span>\n<span class=\"pl-k\">OR</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sharded_comments<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>blog_post_id<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">756811794</span>)\n<span class=\"pl-k\">OR</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sharded_comments<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>blog_id<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">308674288</span>\n<span class=\"pl-k\">AND</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sharded_comments<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>blog_post_id<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">1055755181</span>)</pre></div>\n<p dir=\"auto\">SQL After:</p>\n<div class=\"highlight highlight-source-sql notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"SELECT &quot;sharded_comments&quot;.*\nFROM &quot;sharded_comments&quot;\nWHERE &quot;sharded_comments&quot;.&quot;blog_id&quot;\nIN (969142904, 308674288)\nAND &quot;sharded_comments&quot;.&quot;blog_post_id&quot;\nIN (357271355, 756811794, 1055755181)\"><pre class=\"notranslate\"><span class=\"pl-k\">SELECT</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sharded_comments<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-k\">*</span>\n<span class=\"pl-k\">FROM</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sharded_comments<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">WHERE</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sharded_comments<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>blog_id<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">IN</span> (<span class=\"pl-c1\">969142904</span>, <span class=\"pl-c1\">308674288</span>)\n<span class=\"pl-k\">AND</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>sharded_comments<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>blog_post_id<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-k\">IN</span> (<span class=\"pl-c1\">357271355</span>, <span class=\"pl-c1\">756811794</span>, <span class=\"pl-c1\">1055755181</span>)</pre></div>\n<p dir=\"auto\">Using one of the tests that utilizes this code path, I benchmarked the queries. The new implementation is faster:</p>\n<p dir=\"auto\">Before:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Warming up --------------------------------------\n             queries   147.000  i/100ms\nCalculating -------------------------------------\n             queries      1.486k (± 3.2%) i/s -      7.497k in   5.050742s\"><pre class=\"notranslate\"><code class=\"notranslate\">Warming up --------------------------------------\n             queries   147.000  i/100ms\nCalculating -------------------------------------\n             queries      1.486k (± 3.2%) i/s -      7.497k in   5.050742s\n</code></pre></div>\n<p dir=\"auto\">After:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Warming up --------------------------------------\n             queries   179.000  i/100ms\nCalculating -------------------------------------\n             queries      1.747k (± 4.5%) i/s -      8.771k in   5.031424s\"><pre class=\"notranslate\"><code class=\"notranslate\">Warming up --------------------------------------\n             queries   179.000  i/100ms\nCalculating -------------------------------------\n             queries      1.747k (± 4.5%) i/s -      8.771k in   5.031424s\n</code></pre></div>\n<p dir=\"auto\">We can probably improve this more but I think this query is more in line with what we want and expect while also being more performant (without having to build a new row constructor in arel).</p>",
            "url": "https://github.com/rails/rails/pull/48947",
            "title": "Use IN sql instead of OR sql for query constraints",
            "date_modified": "2023-08-15T21:13:53.000Z",
            "date_published": "2023-08-15T20:14:46.000Z",
            "author": {
                "name": "eileencodes",
                "url": "https://github.com/eileencodes"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Previously, when a Request had a non-authorized HTTP_HOST but an authorized HTTP_X_FORWARDED_HOST, the HTTP_X_FORWARDED_HOST value would be displayed as the one being blocked. However, this could be confusing for users since that value would already be added to <code class=\"notranslate\">config.hosts</code>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit addresses the issue by tweaking how the blocked host is displayed. Instead of always displaying Request#host (which will return X_FORWARDED_HOST when present whether or not that's the host being blocked), each host being blocked will be displayed on its own.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #40230.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"702217507\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/40230\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/40230/hovercard\" href=\"https://github.com/rails/rails/issues/40230\">#40230</a><br>\nSupercedes <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1391515790\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46158\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/46158/hovercard\" href=\"https://github.com/rails/rails/pull/46158\">#46158</a></p>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/Eusebius1920/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Eusebius1920\">@Eusebius1920</a> I added you as a coauthor for your work on the previous PR</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48941",
            "title": "Fix host display when X_FORWARDED_HOST authorized",
            "date_modified": "2023-08-15T07:35:44.000Z",
            "date_published": "2023-08-15T07:34:14.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/76693?u=baf66d56dcdc2cf6b0f5d9345736f78b529afc82&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I've been playing a bit with MRSK on a new Rails 7.1alpha project (using <code class=\"notranslate\">main</code>) and something that is both mentioned in the video and the <a href=\"https://github.com/mrsked/mrsk#using-a-generated-env-file\">Readme</a> is the ability to set a <code class=\"notranslate\">.env.erb</code> template and then run <code class=\"notranslate\">mrsk envify</code> to generate the final <code class=\"notranslate\">.env</code>.</p>\n<p dir=\"auto\">Given that MRSK might become more popular to deploy Rails applications, it feels like a good default to automatically remove any <code class=\"notranslate\">.env</code> from the Git repository that are not templates or examples.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This adds a few new lines to the <code class=\"notranslate\">.gitignore</code> template to ignore all env files that are not ending by <code class=\"notranslate\">.erb</code> or <code class=\"notranslate\">.example</code></p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This is similar to what the <code class=\"notranslate\">.dockerignore</code> is <a href=\"https://github.com/rails/rails/blob/main/railties/lib/rails/generators/rails/app/templates/dockerignore.tt#L13\">currently doing</a>, with the exception of allowing template files and any specialized env files (eg. <code class=\"notranslate\">.env.staging.erb</code> / <code class=\"notranslate\">.env.staging.example</code>)</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48940",
            "title": "Ignore all environment files in the gitignore template",
            "date_modified": "2023-08-15T17:28:55.000Z",
            "date_published": "2023-08-14T18:39:58.000Z",
            "author": {
                "name": "cover",
                "url": "https://github.com/cover"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1518299?u=a2dd8dd1835679cfd6b1924ef63a6e61ea62fa2a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1723197770\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48287\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48287/hovercard\" href=\"https://github.com/rails/rails/pull/48287\">#48287</a> introduced auto loading fixtures in engines. All engines present in the root folder of the rails app would have their fixtures auto loaded. This caused tests to fail when gems were vendorized, because fixtures from the internal rails test suite would be loaded.</p>\n<p dir=\"auto\"><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1729552267\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48323\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48323/hovercard\" href=\"https://github.com/rails/rails/pull/48323\">#48323</a> Added a check to exclude the vendor folder.</p>\n<p dir=\"auto\">This PR extends the check introduced in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1729552267\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48323\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48323/hovercard\" href=\"https://github.com/rails/rails/pull/48323\">#48323</a> to prevent loading fixtures from gem paths instead of just the vendor folder.</p>\n<p dir=\"auto\">Some tools like devenv install gems in the root of the app, but outside of the vendor folder (<code class=\"notranslate\">.devenv/state</code>).</p>\n<p dir=\"auto\">This change prevents automatically loading fixtures from gems instead of the vendor folder.</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I run rails using devenv and after updating rails, my test suite started to complain about fixtures from rails internal tests.<br>\nThe current check doesn't fix the issue for all situations. This new check <em>should</em>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48933",
            "title": "Prevent autoloading fixtures in gem paths.",
            "date_modified": "2023-08-13T19:52:28.000Z",
            "date_published": "2023-08-13T04:24:10.000Z",
            "author": {
                "name": "JoeDupuis",
                "url": "https://github.com/JoeDupuis"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/96156234?u=9ced8d6ac6128a8dea78e7f0d9233669ff0ffecf&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This branch allows a user to set <code class=\"notranslate\">self.table_alias</code> in the model to custom set a table alias.  It then accounts for the SQL needed for this in the AST.  It addresses <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1814805867\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48775\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48775/hovercard\" href=\"https://github.com/rails/rails/issues/48775\">#48775</a>.</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This was motivated by the behavior shown in <a href=\"https://github.com/rails/rails/issues/48775\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48775/hovercard\">48775</a> and by a suggestion to implement it by <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/rafaelfranca/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rafaelfranca\">@rafaelfranca</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request allows a user to set a SQL <code class=\"notranslate\">table_alias</code> in the model by using <code class=\"notranslate\">self.table_alias = \"alias\"</code>.  Once this is done it gets added to the <code class=\"notranslate\">Alias</code> node in the AST.  In order to account for this in the SQL created by the AST I have the <code class=\"notranslate\">Insert</code> statement using the original table name instead of the <code class=\"notranslate\">table_alias</code> when a <code class=\"notranslate\">table_alias</code> is present so that the SQL INSERT will function.</p>\n<p dir=\"auto\">With the <code class=\"notranslate\">Update</code> and <code class=\"notranslate\">Delete</code> methods I changed the default behavior of <code class=\"notranslate\">visit_Arel_Table</code> to use <code class=\"notranslate\">AS</code> when a <code class=\"notranslate\">table_alias</code> is present, <code class=\"notranslate\">table AS t</code> vs <code class=\"notranslate\">table t</code>.  One last adjustment was necessary in the <code class=\"notranslate\">Delete</code> method.  In order for MySQL to use the alias in the delete method I needed to add the <code class=\"notranslate\">table_alias</code> after <code class=\"notranslate\">DELETE </code>.  So the code checks for MySQL and if the Node is using a <code class=\"notranslate\">table_alias</code> it will then insert the alias  after <code class=\"notranslate\">DELETE </code>, <code class=\"notranslate\">DELETE t FROM table AS t</code> vs <code class=\"notranslate\">DELETE FROM table AS t</code>.</p>\n<p dir=\"auto\">With these adjustments in place one can now successfully use a <code class=\"notranslate\">table_alias</code> set from the model with the Public API.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48932",
            "title": "This branch allows a user to set self.table_alias in the model",
            "date_modified": "2023-08-13T19:26:08.000Z",
            "date_published": "2023-08-13T02:50:09.000Z",
            "author": {
                "name": "paulreece",
                "url": "https://github.com/paulreece"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22918438?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Extends on <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1765797832\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48533\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48533/hovercard\" href=\"https://github.com/rails/rails/pull/48533\">#48533</a>.</p>\n<p dir=\"auto\">This allows access to the raw <code class=\"notranslate\">id</code> column value on records for which an id column exists but is not the primary key. This is common amongst models with composite primary keys.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Use <code class=\"notranslate\">alias_attribute</code> to provide a <code class=\"notranslate\">uid</code> alias for the <code class=\"notranslate\">id</code> attribute. That was one of the primary use cases described in the above pull request; as such, we've decided to provide it out of the box in Rails.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Is there a better way to provide documentation for <code class=\"notranslate\">#uid</code> than via a comment inserted above the <code class=\"notranslate\">alias_attribute</code> call?</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/nvasilevski/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/nvasilevski\">@nvasilevski</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/rafaelfranca/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rafaelfranca\">@rafaelfranca</a></p>",
            "url": "https://github.com/rails/rails/pull/48930",
            "title": "Use `alias_attribute` to provide `uid` alias for `id` attribute",
            "date_modified": "2023-08-15T17:50:21.000Z",
            "date_published": "2023-08-11T17:03:28.000Z",
            "author": {
                "name": "adrianna-chang-shopify",
                "url": "https://github.com/adrianna-chang-shopify"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6826778?u=f003e43af6f187f1ff48cfb577150c77a54f4138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">We want to be clear that alias_attribute is not meant to be used for non-attributes, and provide a clear deprecation warning if it's used for associations or otherwise non-attribute methods. This adds specific deprecation warnings for overriding an attribute method that won't forward in the future, aliasing an association (a common anti-pattern), and aliasing a non-attribute method.</p>\n<p dir=\"auto\">In addition, we add tests for some of these common cases to ensure that we get the expected deprecation warning.</p>\n<ul dir=\"auto\">\n<li>If the user has manually defined an attribute method, we need to warn them that we won't forward to that method call in the future.</li>\n<li>If the user is using <code class=\"notranslate\">alias_attribute</code> to alias an association (a common anti-pattern), we need to warn them of that specifically.</li>\n<li>Finally, we can warn if <code class=\"notranslate\">alias_attribute</code> is being used with a non-attribute target.</li>\n</ul>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">We add a check to walk up the alias chain to ensure that the target hasn't been redefined by the user. If the targets are all attribute methods and the class has the attribute, we can use <code class=\"notranslate\">define_proxy_call</code>. Otherwise, we determine a deprecation warning to issue.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Opened separately from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1843597332\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48913\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48913/hovercard\" href=\"https://github.com/rails/rails/pull/48913\">#48913</a> to try to keep the changes easier to reason about, but let me know if there are any conflicts I may have missed.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48929",
            "title": "Refine the alias_attribute warning message to be more specific",
            "date_modified": "2023-08-11T19:29:01.000Z",
            "date_published": "2023-08-11T16:50:27.000Z",
            "author": {
                "name": "ipc103",
                "url": "https://github.com/ipc103"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/58582?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created to <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #48922.\">fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1845388034\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48922\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48922/hovercard\" href=\"https://github.com/rails/rails/issues/48922\">#48922</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The helper <code class=\"notranslate\">encrypted_attribute?</code> currently delegates the check to the global default encryptor configured, cf</p>\n<p dir=\"auto\"></p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/e6d59cdebbd0ddaf88029a7b9f03f5d642780e0a/activerecord/lib/active_record/encryption/encryptable_record.rb#L141-L144\">rails/activerecord/lib/active_record/encryption/encryptable_record.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 141 to 144\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/rails/rails/commit/e6d59cdebbd0ddaf88029a7b9f03f5d642780e0a\">e6d59cd</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L141\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"141\"></td>\n          <td id=\"LC141\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c\"># Returns whether a given attribute is encrypted or not.</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L142\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"142\"></td>\n          <td id=\"LC142\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">encrypted_attribute?</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">attribute_name</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L143\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"143\"></td>\n          <td id=\"LC143\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Encryption</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">encryptor</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">encrypted?</span> <span class=\"pl-en\">read_attribute_before_type_cast</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">attribute_name</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L144\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"144\"></td>\n          <td id=\"LC144\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">This Pull Requests delegates the check to the EncryptedAttributeType instance defined for the attribute. This attribute type properly applies context properties defined initially with <code class=\"notranslate\">encrypts</code>, such as a custom encryptor or message serializer.</p>\n<p dir=\"auto\">This fixes an issue where the <code class=\"notranslate\">encrypted_attribute?</code> helper would return erroneous results.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48923",
            "title": "[Fix #48922] Honour encrypted attribute context in encrypted_attribute?",
            "date_modified": "2023-08-10T15:23:12.000Z",
            "date_published": "2023-08-10T15:21:02.000Z",
            "author": {
                "name": "maximerety",
                "url": "https://github.com/maximerety"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/142914?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">If this looks good, I'll fill in the gaps in documentation and respond<br>\nto feedback in a timely manner.</p>\n<p dir=\"auto\">Is a simpler version of what's in<br>\n<a href=\"https://github.com/rails/rails/blob/7-0-stable/activerecord/lib/active_record/core.rb#L373-L396\">https://github.com/rails/rails/blob/7-0-stable/activerecord/lib/active_record/core.rb#L373-L396</a></p>\n<p dir=\"auto\">I'm using this in our application and thought I'd share back.</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">We using ActiveModel::Model to build plain-old-ruby<br>\nobjects for things like API clients.  When I use<br>\nthe Attributes API to define secrets like <code class=\"notranslate\">attribute :api_key, :string</code><br>\nI don't want the <code class=\"notranslate\">api_key</code> to show up anywhere.</p>\n<p dir=\"auto\">This Pull Request has been created because ActiveModel::Model<br>\nis missing the <code class=\"notranslate\">filter_attributes</code> behavior present in<br>\nActiveRecord::Core.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes adds <code class=\"notranslate\">filter_attributes</code> to ActiveModel::API</p>\n<p dir=\"auto\">I added it to ActiveModel::API so that it does not interfere with<br>\nActiveRecord.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">We're using this in our app.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48921",
            "title": "feat: Add ActiveModel::Model.filter_attributes",
            "date_modified": "2023-08-13T16:33:55.000Z",
            "date_published": "2023-08-10T14:03:53.000Z",
            "author": {
                "name": "bf4",
                "url": "https://github.com/bf4"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22743?u=e50ea34a823df4b4f098a77e63c67b043847b06c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because it's not intuitive how we should match the arguments passed to an ActiveJob job when using keyword arguments.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit adds an example to the <code class=\"notranslate\">assert_enqueued_with</code> method documentation, demonstrating how to use it with keyword arguments. The example clarifies that keyword arguments should be specified as a hash inside an array, guiding developers to write tests for jobs that use keyword arguments.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48920",
            "title": "[docs] Update assert_enqueued_with documentation with keyword arguments example",
            "date_modified": "2023-08-11T07:55:37.000Z",
            "date_published": "2023-08-10T12:38:36.000Z",
            "author": {
                "name": "fidalgo",
                "url": "https://github.com/fidalgo"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This flattens our workflow graph pretty much in half.</p>\n<p dir=\"auto\">By compacting the lint jobs into a single job inside a single workflow, we maybe lose some readability -- but since the cost to maintain those files is already really low, they are rarely changed, versus the number of checks on each PR makes for a worse experience IMO.</p>\n<p dir=\"auto\">This also means that all of those separate checks can be found on a single page (e.g. <a href=\"https://github.com/zzak/rails/actions/runs/5820736204/job/15781737808?pr=20\">here</a>), for better or worse.. navigating the actions UI across multiple workflows and jobs is already strenuous. There is an argument that if one of these steps fails, debugging it there may be difficult, but I've tried to order them in terms of priority of \"if this step fails it should fail first\".</p>\n<p dir=\"auto\">If any of the <code class=\"notranslate\">Lint</code> steps fails, figuring out which one and why may not be as straight-forward, that maybe the only downside here. There are plans to move this workflow entirely to Buildkite at some point, probably after a refactor (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1804093901\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/buildkite-config/issues/62\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/buildkite-config/pull/62/hovercard\" href=\"https://github.com/rails/buildkite-config/pull/62\">rails/buildkite-config#62</a>, where they can go back to being separate \"jobs\" in that context and all of the important stuff is in a single place.</p>\n<p dir=\"auto\">So this is more of an intermediary step to improve the PR page and hopefully make reviewing them and deciding which checks failed matters, more efficient.</p>",
            "url": "https://github.com/rails/rails/pull/48919",
            "title": "Refactor actions to make fewer status checks",
            "date_modified": "2023-08-10T23:05:09.000Z",
            "date_published": "2023-08-10T12:10:24.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6826778?u=f003e43af6f187f1ff48cfb577150c77a54f4138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">We currently issue a deprecation warning when an attribute method is overwritten to let people know that they'll need to manually define the alias override as well. If the override is also defined on the parent class, then we shouldn't need to issue a deprecation warning.</p>\n<p dir=\"auto\">Before, the following was raising a deprecation warning for because <code class=\"notranslate\">subject_was</code> is not implemented directly on the child class.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Topic &lt; ActiveRecord::Base\n  alias_attribute :subject, :title\n  \n  def title_was\n    &quot;override_title&quot;\n  end\n  alias_method :subject_was, :title_was\nend\n\nclass SubTopic &lt; Topic\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Topic</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">alias_attribute</span> <span class=\"pl-pds\">:subject</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:title</span>\n  \n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">title_was</span>\n    <span class=\"pl-s\">\"override_title\"</span>\n  <span class=\"pl-k\">end</span>\n  <span class=\"pl-en\">alias_method</span> <span class=\"pl-pds\">:subject_was</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:title_was</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">SubTopic</span> &lt; <span class=\"pl-v\">Topic</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">Following this change, the behavior works correctly without a deprecation warning.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Because we're using a class_attribute to track all of the attribute_aliases, each subclass was regenerating the parent class methods. When a child was generating methods for the parent, it was only looking to see if the manual override method was defined within.</p>\n<p dir=\"auto\">Instead, we can use a class instance variable to track the attributes aliased locally in that particular subclass. We then walk up the chain and re-define the attribute methods if they haven't been defined yet.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48913",
            "title": "Allow parent to define alias method override",
            "date_modified": "2023-08-16T16:36:21.000Z",
            "date_published": "2023-08-09T16:07:41.000Z",
            "author": {
                "name": "ipc103",
                "url": "https://github.com/ipc103"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Follow-up to <a href=\"https://github.com/rails/rails/pull/47420\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/47420/hovercard\">#47420</a></p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">With the changes made in <a href=\"https://github.com/rails/rails/pull/47420\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/47420/hovercard\">#47420</a>, <code class=\"notranslate\">has_secure_token</code> declarations can be configured to execute in an <code class=\"notranslate\">after_initialize</code> callback. This commit proposed a new Rails 7.1 default: generate all <code class=\"notranslate\">has_secure_token</code> values when their corresponding models are initialized.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">To preserve pre-7.1 behavior, applications can set <code class=\"notranslate\">config.active_record.generate_secure_token_on = :create</code>.</p>\n<p dir=\"auto\">By default, generate the value when the model is initialized:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class User &lt; ApplicationRecord\n  has_secure_token\nend\n\nrecord = User.new\nrecord.token # =&gt; &quot;fwZcXX6SkJBJRogzMdciS7wf&quot;\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">User</span> &lt; <span class=\"pl-v\">ApplicationRecord</span>\n  <span class=\"pl-en\">has_secure_token</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-s1\">record</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span>\n<span class=\"pl-s1\">record</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">token</span> <span class=\"pl-c\"># =&gt; \"fwZcXX6SkJBJRogzMdciS7wf\"</span></pre></div>\n<p dir=\"auto\">With <code class=\"notranslate\">config.active_record.generate_secure_token_on = :create</code>, generate the<br>\nvalue when the model is created:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# config/application.rb\nconfig.active_record.generate_secure_token_on = :create\n\n# app/models/user.rb\nclass User &lt; ApplicationRecord\n  has_secure_token on: :create\nend\n\nrecord = User.new\nrecord.token # =&gt; nil\nrecord.save!\nrecord.token # =&gt; &quot;fwZcXX6SkJBJRogzMdciS7wf&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"># config/application.rb</span>\n<span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">active_record</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">generate_secure_token_on</span> <span class=\"pl-c1\">=</span> <span class=\"pl-pds\">:create</span>\n\n<span class=\"pl-c\"># app/models/user.rb</span>\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">User</span> &lt; <span class=\"pl-v\">ApplicationRecord</span>\n  <span class=\"pl-en\">has_secure_token</span> <span class=\"pl-pds\">on</span>: <span class=\"pl-pds\">:create</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-s1\">record</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span>\n<span class=\"pl-s1\">record</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">token</span> <span class=\"pl-c\"># =&gt; nil</span>\n<span class=\"pl-s1\">record</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">save!</span>\n<span class=\"pl-s1\">record</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">token</span> <span class=\"pl-c\"># =&gt; \"fwZcXX6SkJBJRogzMdciS7wf\"</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48912",
            "title": "Change `has_secure_token` default to `on: :initialize`",
            "date_modified": "2023-08-11T15:43:46.000Z",
            "date_published": "2023-08-09T14:23:11.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created to investigate <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"33442709\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/15097\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/15097/hovercard\" href=\"https://github.com/rails/rails/issues/15097\">#15097</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes [REPLACE ME]</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">I noticed that options are also extracted from the recall here:<br>\n</p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/d73daaca479ac50ef2983d3f0af3ae16af738cf0/actionpack/lib/action_dispatch/routing/route_set.rb#L738-L747\">rails/actionpack/lib/action_dispatch/routing/route_set.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 738 to 747\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/rails/rails/commit/d73daaca479ac50ef2983d3f0af3ae16af738cf0\">d73daac</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L738\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"738\"></td>\n          <td id=\"LC738\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c\"># This pulls :controller, :action, and :id out of the recall.</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L739\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"739\"></td>\n          <td id=\"LC739\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c\"># The recall key is only used if there is no key in the options</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L740\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"740\"></td>\n          <td id=\"LC740\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c\"># or if the key in the options is identical. If any of</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L741\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"741\"></td>\n          <td id=\"LC741\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c\"># :controller, :action or :id is not found, don't pull any</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L742\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"742\"></td>\n          <td id=\"LC742\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c\"># more keys from the recall.</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L743\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"743\"></td>\n          <td id=\"LC743\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">normalize_controller_action_id!</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L744\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"744\"></td>\n          <td id=\"LC744\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">use_recall_for</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:controller</span><span class=\"pl-kos\">)</span> || <span class=\"pl-k\">return</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L745\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"745\"></td>\n          <td id=\"LC745\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">use_recall_for</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:action</span><span class=\"pl-kos\">)</span> || <span class=\"pl-k\">return</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L746\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"746\"></td>\n          <td id=\"LC746\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">use_recall_for</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:id</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L747\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"747\"></td>\n          <td id=\"LC747\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">But the <code class=\"notranslate\">id</code> is never extracted (in the case of my test) since the <code class=\"notranslate\">controller</code> doesn't get extracted in the first place as <code class=\"notranslate\">segment_keys.include?(key)</code> returns <code class=\"notranslate\">false</code> here:<br>\n</p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/d73daaca479ac50ef2983d3f0af3ae16af738cf0/actionpack/lib/action_dispatch/routing/route_set.rb#L712\">rails/actionpack/lib/action_dispatch/routing/route_set.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 712\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/rails/rails/commit/d73daaca479ac50ef2983d3f0af3ae16af738cf0\">d73daac</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L712\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"712\"></td>\n          <td id=\"LC712\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">if</span> !<span class=\"pl-en\">named_route_exists?</span> || <span class=\"pl-en\">segment_keys</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">include?</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">key</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">I'm unsure of the usecase for using the recall like this, just thought I'd point it out since it's relevant.</p>\n<p dir=\"auto\"><strong>Edit:</strong> I'm guessing this is utilised in mailers going off of the documentation added here: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"89463344\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/20631\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/20631/hovercard\" href=\"https://github.com/rails/rails/pull/20631\">#20631</a>?</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48892",
            "title": "Draft | Investigate implicit recall usage in url helpers",
            "date_modified": "2023-08-16T10:37:00.000Z",
            "date_published": "2023-08-05T10:42:54.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/74767965?u=fb3b1970f39754753bdbaa49346ece0b55dfe67f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Provides a simple way for users to set length</p>\n<p dir=\"auto\">This reduces the need for users to make typos like minium and avoid validation.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Post &lt; ActiveRecord::Base\n  validates :title, length: { minium: 10, maximum: 20 }\nend\n\npost = Post.new(title: &quot;Invalid&quot;)\nputs post.valid? # true\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Post</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">validates</span> <span class=\"pl-pds\">:title</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">length</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">minium</span>: <span class=\"pl-c1\">10</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">maximum</span>: <span class=\"pl-c1\">20</span> <span class=\"pl-kos\">}</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-s1\">post</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">title</span>: <span class=\"pl-s\">\"Invalid\"</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-en\">puts</span> <span class=\"pl-s1\">post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">valid?</span> <span class=\"pl-c\"># true</span></pre></div>\n<p dir=\"auto\">so If user can use <code class=\"notranslate\">min</code> &amp; <code class=\"notranslate\">max</code> then it can prevent the wrong situation happened.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Post &lt; ActiveRecord::Base\n  validates :title, length: { min: 10, max: 20 }\nend\n\npost = Post.new(title: &quot;Invalid&quot;)\nputs post.valid? # false\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Post</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">validates</span> <span class=\"pl-pds\">:title</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">length</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">min</span>: <span class=\"pl-c1\">10</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">max</span>: <span class=\"pl-c1\">20</span> <span class=\"pl-kos\">}</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-s1\">post</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">title</span>: <span class=\"pl-s\">\"Invalid\"</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-en\">puts</span> <span class=\"pl-s1\">post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">valid?</span> <span class=\"pl-c\"># false</span></pre></div>\n<p dir=\"auto\"><a href=\"https://discuss.rubyonrails.org/t/proposal-add-min-and-max-alias-to-lengthvalidator/82771\" rel=\"nofollow\">https://discuss.rubyonrails.org/t/proposal-add-min-and-max-alias-to-lengthvalidator/82771</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<ol dir=\"auto\">\n<li>add the <code class=\"notranslate\">min</code> &amp; <code class=\"notranslate\">max</code> to the <code class=\"notranslate\">CHECKS</code> and <code class=\"notranslate\">MESSAGE</code> like alias the <code class=\"notranslate\">minimum</code> and <code class=\"notranslate\">maximum</code></li>\n<li>add test to make sure everything works good</li>\n</ol>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Other way likes to validate the typo like <code class=\"notranslate\">minium</code>.</p>\n<p dir=\"auto\">Add possible keys into the <code class=\"notranslate\">RESERVED_OPTIONS</code></p>\n<p dir=\"auto\">and like:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"unless options.keys.all? { |k| RESERVED_OPTIONS.include?(k) }\n  raise ArgumentError ...\nend\n\nkeys = CEHCKS.keys &amp; options.keys\"><pre class=\"notranslate\"><span class=\"pl-k\">unless</span> <span class=\"pl-en\">options</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">keys</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all?</span> <span class=\"pl-kos\">{</span> |<span class=\"pl-s1\">k</span>| <span class=\"pl-c1\">RESERVED_OPTIONS</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">include?</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">k</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">}</span>\n  <span class=\"pl-en\">raise</span> <span class=\"pl-v\">ArgumentError</span> ...\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-s1\">keys</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">CEHCKS</span><span class=\"pl-kos\">.</span><span class=\"pl-s1\">keys</span> &amp; <span class=\"pl-en\">options</span><span class=\"pl-kos\">.</span><span class=\"pl-s1\">keys</span></pre></div>\n<p dir=\"auto\">I try the code above, that's not a good idea, because add possible keys into <code class=\"notranslate\">RESERVED_OPTIONS</code> would break the rules now.</p>\n<p dir=\"auto\">like <code class=\"notranslate\">:message</code> would be excepted below, so error message would be breaked</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48890",
            "title": "Support min & max for length validation",
            "date_modified": "2023-08-07T16:08:45.000Z",
            "date_published": "2023-08-04T19:55:28.000Z",
            "author": {
                "name": "RobertChang0722",
                "url": "https://github.com/RobertChang0722"
            }
        }
    ]
}