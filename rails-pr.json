{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">CI fails (<a href=\"https://buildkite.com/rails/rails/builds/106122#018ea915-24d5-42e7-ac76-2c344ed66683\" rel=\"nofollow\">https://buildkite.com/rails/rails/builds/106122#018ea915-24d5-42e7-ac76-2c344ed66683</a>) on rack HEAD because we do not explicitly require <code class=\"notranslate\">ostruct</code> in the test file.<br>\nPreviously, it was required by the rack itself (<a href=\"https://github.com/rack/rack/pull/2166/files\">https://github.com/rack/rack/pull/2166/files</a>) and so worked well.</p>",
            "url": "https://github.com/rails/rails/pull/51491",
            "title": "Add missing `ostruct` require to `http_token_authentication_test.rb`",
            "date_modified": "2024-04-04T12:50:21.000Z",
            "date_published": "2024-04-04T12:50:09.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/19192189?u=dd60737844a9db7f1475bab21fc3e5258a405e15&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This has been built-in in Bundler for years now, and the builtin version is much better as it allows to point to a PR directly.</p>",
            "url": "https://github.com/rails/rails/pull/51490",
            "title": "Stop generating files with `git_source(:github)`",
            "date_modified": "2024-04-04T12:39:26.000Z",
            "date_published": "2024-04-04T12:39:21.000Z",
            "author": {
                "name": "casperisfine",
                "url": "https://github.com/casperisfine"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Correct some grammar and update the framework defaults documentation from use <code class=\"notranslate\">true</code> and <code class=\"notranslate\">false</code> to <code class=\"notranslate\">:never</code> and <code class=\"notranslate\">:default</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51489",
            "title": "Fix documentation for `enqueue_after_transaction_commit`",
            "date_modified": "2024-04-04T10:07:12.000Z",
            "date_published": "2024-04-04T10:01:14.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/27268721?u=81141cf8d0024e6b052196df2020fae21250e709&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because of a bug mentioned in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2169291575\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51254\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51254/hovercard\" href=\"https://github.com/rails/rails/issues/51254\">#51254</a> wherein encrypting one attribute in a model filters out other similar matching attributes in inspect.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR makes the following changes:</p>\n<ul dir=\"auto\">\n<li>Adds a new support for exact_filters in ParameterFilter</li>\n<li>Adds <code class=\"notranslate\">filter_exact_attributes</code> as a class variable to ActiveRecord::Base</li>\n<li>Changes <code class=\"notranslate\">filter_attributes</code> to <code class=\"notranslate\">filter_exact_attributes</code> in auto_filtered_parameters.rb</li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51488",
            "title": "Add exact filtering to parameter filter",
            "date_modified": "2024-04-04T09:07:49.000Z",
            "date_published": "2024-04-04T07:52:45.000Z",
            "author": {
                "name": "keshavbiswa",
                "url": "https://github.com/keshavbiswa"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22231095?u=4b9ed50e760e192f3d22f1327a15326e70eb5ed4&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">In the guides index section, the text-decorator and color are not showing properly on hovering. And the issue is causing because of the higher specificity.<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/22231095/319448485-2c36b760-594c-43c9-9991-f6318e279d4c.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTIyMzU5ODUsIm5iZiI6MTcxMjIzNTY4NSwicGF0aCI6Ii8yMjIzMTA5NS8zMTk0NDg0ODUtMmMzNmI3NjAtNTk0Yy00M2M5LTk5OTEtZjYzMThlMjc5ZDRjLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MDQlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDA0VDEzMDEyNVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWUwMDViOThkYmVkYWRiNDZmNzRiMDk5NzMxODkzOTExNzU0NDRiZWU5NGI4ZTJjMzk3ZGU1MmI5ZTc5MmQxMWYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.QtqNTnGMOZgPPvXzXd1YeiyGAoZUHlNq46gtUgN09Yk\"><img src=\"https://private-user-images.githubusercontent.com/22231095/319448485-2c36b760-594c-43c9-9991-f6318e279d4c.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTIyMzU5ODUsIm5iZiI6MTcxMjIzNTY4NSwicGF0aCI6Ii8yMjIzMTA5NS8zMTk0NDg0ODUtMmMzNmI3NjAtNTk0Yy00M2M5LTk5OTEtZjYzMThlMjc5ZDRjLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MDQlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDA0VDEzMDEyNVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWUwMDViOThkYmVkYWRiNDZmNzRiMDk5NzMxODkzOTExNzU0NDRiZWU5NGI4ZTJjMzk3ZGU1MmI5ZTc5MmQxMWYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.QtqNTnGMOZgPPvXzXd1YeiyGAoZUHlNq46gtUgN09Yk\" alt=\"Screenshot 2024-04-04 at 10 26 58 AM\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/22231095/319447379-03381990-fa57-4ce4-8d20-288477265470.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTIyMzU5ODUsIm5iZiI6MTcxMjIzNTY4NSwicGF0aCI6Ii8yMjIzMTA5NS8zMTk0NDczNzktMDMzODE5OTAtZmE1Ny00Y2U0LThkMjAtMjg4NDc3MjY1NDcwLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MDQlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDA0VDEzMDEyNVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWQ3OTBkYTBmYmNhYmIwZTdhMTM2YmI1ZmFiZDc1YTQ1NTVjZjA5YmU1ODFhZGQ5NGRlMzc4MTFjZTU0NzY3ODMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.VU-Lc-RwsfkGgl6vYYa7Ms5UjzUTOUo1THAw0BeyCkM\"><img src=\"https://private-user-images.githubusercontent.com/22231095/319447379-03381990-fa57-4ce4-8d20-288477265470.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTIyMzU5ODUsIm5iZiI6MTcxMjIzNTY4NSwicGF0aCI6Ii8yMjIzMTA5NS8zMTk0NDczNzktMDMzODE5OTAtZmE1Ny00Y2U0LThkMjAtMjg4NDc3MjY1NDcwLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MDQlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDA0VDEzMDEyNVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWQ3OTBkYTBmYmNhYmIwZTdhMTM2YmI1ZmFiZDc1YTQ1NTVjZjA5YmU1ODFhZGQ5NGRlMzc4MTFjZTU0NzY3ODMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.VU-Lc-RwsfkGgl6vYYa7Ms5UjzUTOUo1THAw0BeyCkM\" alt=\"Screenshot 2024-04-04 at 10 17 39 AM\" style=\"max-width: 100%;\"></a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request fixes the hovering style issue.<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/22231095/319447351-7b34dec4-9f69-416a-b46b-172408e811df.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTIyMzU5ODUsIm5iZiI6MTcxMjIzNTY4NSwicGF0aCI6Ii8yMjIzMTA5NS8zMTk0NDczNTEtN2IzNGRlYzQtOWY2OS00MTZhLWI0NmItMTcyNDA4ZTgxMWRmLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MDQlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDA0VDEzMDEyNVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWE5YTc0Yzg1Njc2OTE3MWY4ZWI2YWFiYzg3ZWUyYmM5ZGIzNmI0YTI0YjRlZWFjYmYyY2FhNDUzYmQ0ZWU0MDgmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.nHBkLx-5bWoAYUGpHS5wwVZmB8y5OyZOoxP42hRhLuw\"><img src=\"https://private-user-images.githubusercontent.com/22231095/319447351-7b34dec4-9f69-416a-b46b-172408e811df.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTIyMzU5ODUsIm5iZiI6MTcxMjIzNTY4NSwicGF0aCI6Ii8yMjIzMTA5NS8zMTk0NDczNTEtN2IzNGRlYzQtOWY2OS00MTZhLWI0NmItMTcyNDA4ZTgxMWRmLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MDQlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDA0VDEzMDEyNVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWE5YTc0Yzg1Njc2OTE3MWY4ZWI2YWFiYzg3ZWUyYmM5ZGIzNmI0YTI0YjRlZWFjYmYyY2FhNDUzYmQ0ZWU0MDgmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.nHBkLx-5bWoAYUGpHS5wwVZmB8y5OyZOoxP42hRhLuw\" alt=\"Screenshot 2024-04-04 at 9 06 11 AM\" style=\"max-width: 100%;\"></a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>\n<p dir=\"auto\">cc/ <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/jathayde/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jathayde\">@jathayde</a></p>",
            "url": "https://github.com/rails/rails/pull/51484",
            "title": "Fix textdecorator specificity on hovering in index [ci skip]",
            "date_modified": "2024-04-04T12:01:07.000Z",
            "date_published": "2024-04-04T04:50:13.000Z",
            "author": {
                "name": "akhilgkrishnan",
                "url": "https://github.com/akhilgkrishnan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1518299?u=d3dda61ebb16317ded64f166b59e35e1e160b9b1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #51448.\">Fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2215236766\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51448\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51448/hovercard\" href=\"https://github.com/rails/rails/issues/51448\">#51448</a></p>\n<p dir=\"auto\">Add a Date decoder to the pg adapter to type cast dates at the connection level</p>\n<p dir=\"auto\">This would type cast columns of type <code class=\"notranslate\">date</code> to ruby <code class=\"notranslate\">Date</code> when running a raw query through <code class=\"notranslate\">ActiveRecord::Base.connection.select_all</code>.</p>\n<p dir=\"auto\">Before:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"ActiveRecord::Base.connection.select_value(&quot;select '2024-01-01'::date&quot;).class \n#=&gt; String\"><pre class=\"notranslate\"><span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">connection</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">select_value</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"select '2024-01-01'::date\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">class</span> \n<span class=\"pl-c\">#=&gt; String</span></pre></div>\n<p dir=\"auto\">After:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"ActiveRecord::Base.connection.select_value(&quot;select '2024-01-01'::date&quot;).class \n#=&gt;  Date \"><pre class=\"notranslate\"><span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">connection</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">select_value</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"select '2024-01-01'::date\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">class</span> \n<span class=\"pl-c\">#=&gt;  Date </span></pre></div>\n<p dir=\"auto\">While I don't think we'd want to to set a type cast expectation at this level (not all adapters have dates), this would brings the PG adapter to parity (for dates) with the Mysql2 adapter.</p>\n<p dir=\"auto\">We already convert timestamp, it would makes sense to also convert dates.</p>\n<p dir=\"auto\">I wasn't sure if I should add a test. I am thinking that a test sets an expectation about type casting at the adapter level.<br>\nThis changes a public API, albeit a pretty low level one, but it seems like we don't test the other types either. I removed timestamps + float/numeric and all tests still pass.</p>\n<p dir=\"auto\">I added a message in the changelog entry to make sure it doesn't burn anyone.</p>\n<p dir=\"auto\">Unsure if we should merge this. Impact radius is large, but after digging into it and running the tests, it looks pretty benign.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51483",
            "title": "Add a Date decoder to the pg adapter ",
            "date_modified": "2024-04-04T00:29:16.000Z",
            "date_published": "2024-04-04T00:27:33.000Z",
            "author": {
                "name": "JoeDupuis",
                "url": "https://github.com/JoeDupuis"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/39735028?u=91330295c614cf3cec0b64bf242a14fc2ceb358f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">We have created our own features for optional Rails dependencies needed for active storage, postgres and mysql. Features provide a bit better ergonomics for adding or removing these from the devcontainer, and previously we were always installing these dependencies via the devcontainer's dockerfile, whether the app was using them or not.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">With this change, when we generate the app, we just add the features we need to the <code class=\"notranslate\">devcontainer.json</code>. And also, we swap features in and out as need when doing <code class=\"notranslate\">db:system:change</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51481",
            "title": "Use devcontainer features for optional dependencies",
            "date_modified": "2024-04-03T23:31:28.000Z",
            "date_published": "2024-04-03T23:15:11.000Z",
            "author": {
                "name": "andrewn617",
                "url": "https://github.com/andrewn617"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/7812?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">We recently had a user upload blowing out our server on out of memory errors. In digging a bit deeper, I discovered ruby-vips can be a lot more efficient running the required analysis.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Vips::Image#avg requires loading and evaluating the entire image. libvips can be a lot more efficient at retrieving the metadata we need.</p>\n<p dir=\"auto\"><code class=\"notranslate\">Vips::Image.new_from_file</code> will kick out if it doesn't understand the input format and there is already a general recuse.</p>\n<p dir=\"auto\">This lets ruby-vips do only what it needs to do to grab the metadata we need.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">For the image that was blowing out our process the original image analysis used an additional 1,400 MB of memory above what the process was using before the analysis.</p>\n<p dir=\"auto\">This modified version only needed an additional 90 MB.</p>\n<p dir=\"auto\">This included the entire process including downloading the source image from remote storage.</p>\n<p dir=\"auto\">I did not add additional tests as the functionality is covered by the existing tests and I am not sure performance related tests would make sense.</p>",
            "url": "https://github.com/rails/rails/pull/51480",
            "title": "Be a lot more memory efficient analyzing images with ruby-vips",
            "date_modified": "2024-04-03T21:04:05.000Z",
            "date_published": "2024-04-03T21:04:01.000Z",
            "author": {
                "name": "albus522",
                "url": "https://github.com/albus522"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/204146?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50827.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2092292151\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50827\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50827/hovercard\" href=\"https://github.com/rails/rails/issues/50827\">#50827</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request stops the preloading of the Selenium browser when the browser is remote.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> NA - Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> NA - CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51479",
            "title": "Don't preload Selenium browser when remote",
            "date_modified": "2024-04-03T19:20:04.000Z",
            "date_published": "2024-04-03T19:09:14.000Z",
            "author": {
                "name": "nhorton",
                "url": "https://github.com/nhorton"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/84159?u=611f8cb6bdccc221b89e645b60cb8471d9269ada&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Problem</h3>\n<p dir=\"auto\">In the <code class=\"notranslate\">AbstractMysqlAdapter</code> the <code class=\"notranslate\">get_full_version</code> is called on the concrete implementing class, and then the result is parsed here:<br>\n</p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/a134d9166e4d34ab0d97fb82f3e4f0092b3b98ee/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L1026\">rails/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 1026\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/a134d9166e4d34ab0d97fb82f3e4f0092b3b98ee\">a134d91</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L1026\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1026\"></td>\n          <td id=\"LC1026\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s1\">full_version_string</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">match</span><span class=\"pl-kos\">(</span><span class=\"pl-sr\">/^(?:5<span class=\"pl-cce\">\\.</span>5<span class=\"pl-cce\">\\.</span>5-)?(<span class=\"pl-cce\">\\d</span>+<span class=\"pl-cce\">\\.</span><span class=\"pl-cce\">\\d</span>+<span class=\"pl-cce\">\\.</span><span class=\"pl-cce\">\\d</span>+)/</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">This assumes a numeric version string of an exact format can be extracted and returned. If it cannot, the call to <code class=\"notranslate\">match</code> returns <code class=\"notranslate\">nil</code> and then <code class=\"notranslate\">[1]</code> will raise.</p>\n<p dir=\"auto\">We encountered a problem where we are using a proxy that sometimes returns an unexpected value. This is a problem with the proxy, to be clear, but it was challenging to debug because the <code class=\"notranslate\">[] for nil</code> error deep in the framework is not descriptive and did not report the invalid value.</p>\n<h3 dir=\"auto\">Solution</h3>\n<p dir=\"auto\">Guard the regex match, and if it is not matched raise an <code class=\"notranslate\">ActiveRecord::ActiveRecordError</code> with a descriptive message <strong>that includes the unexpected version string</strong>. That would have been invaluable for debugging.</p>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/nvasilevski/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/nvasilevski\">@nvasilevski</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51478",
            "title": "Raise named exception in `AbstractMysqlAdapter` when DB reports an invalid version",
            "date_modified": "2024-04-03T20:49:47.000Z",
            "date_published": "2024-04-03T16:33:28.000Z",
            "author": {
                "name": "kmcphillips",
                "url": "https://github.com/kmcphillips"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/51218?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">On<br>\nruby 3.1.2p20 (2022-04-12 revision 4491bb740a) [x86_64-linux-gnu] (e.g. Ubuntu 23.10), simple rails commands fail with<br>\n<code class=\"notranslate\">no anonymous block parameter</code>:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:38:in `require': vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:190: no anonymous block parameter (SyntaxError)\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:38:in `&lt;class:AbstractAdapter&gt;'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:31:in `&lt;module:ConnectionAdapters&gt;'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:15:in `&lt;module:ActiveRecord&gt;'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:14:in `&lt;top (required)&gt;'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:3:in `require'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:3:in `&lt;top (required)&gt;'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters.rb:100:in `require'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters.rb:100:in `resolve'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/database_configurations/database_config.rb:18:in `adapter_class'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/database_configurations/database_config.rb:26:in `validate!'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/abstract/connection_handler.rb:268:in `resolve_pool_config'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/abstract/connection_handler.rb:116:in `establish_connection'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_handling.rb:53:in `establish_connection'\n        from repro.rb:20:in `&lt;main&gt;'\n\"><pre class=\"notranslate\"><code class=\"notranslate\">vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:38:in `require': vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:190: no anonymous block parameter (SyntaxError)\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:38:in `&lt;class:AbstractAdapter&gt;'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:31:in `&lt;module:ConnectionAdapters&gt;'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:15:in `&lt;module:ActiveRecord&gt;'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:14:in `&lt;top (required)&gt;'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:3:in `require'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:3:in `&lt;top (required)&gt;'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters.rb:100:in `require'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters.rb:100:in `resolve'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/database_configurations/database_config.rb:18:in `adapter_class'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/database_configurations/database_config.rb:26:in `validate!'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/abstract/connection_handler.rb:268:in `resolve_pool_config'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_adapters/abstract/connection_handler.rb:116:in `establish_connection'\n        from vendor/bundle/ruby/3.1.0/bundler/gems/rails-0e0da316ca80/activerecord/lib/active_record/connection_handling.rb:53:in `establish_connection'\n        from repro.rb:20:in `&lt;main&gt;'\n\n</code></pre></div>\n<p dir=\"auto\">One file repro:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frozen_string_literal: true\n\nrequire &quot;bundler/inline&quot;\nrequire 'bundler'\nBundler.configure\n\ngemfile(true) do\n  source &quot;https://rubygems.org&quot;\n\n  git_source(:github) { |repo| &quot;https://github.com/#{repo}.git&quot; }\n\n  gem &quot;rails&quot;, github: &quot;rails/rails&quot;, branch: &quot;main&quot;\n\n  gem &quot;sqlite3&quot;\nend\n\nrequire &quot;active_record&quot;\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: &quot;sqlite3&quot;, database: &quot;:memory:&quot;)\n\"><pre class=\"notranslate\"><span class=\"pl-c\"># frozen_string_literal: true</span>\n\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"bundler/inline\"</span>\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">'bundler'</span>\n<span class=\"pl-v\">Bundler</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">configure</span>\n\n<span class=\"pl-en\">gemfile</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">true</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">source</span> <span class=\"pl-s\">\"https://rubygems.org\"</span>\n\n  <span class=\"pl-en\">git_source</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:github</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span> |<span class=\"pl-s1\">repo</span>| <span class=\"pl-s\">\"https://github.com/<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">repo</span><span class=\"pl-kos\">}</span></span>.git\"</span> <span class=\"pl-kos\">}</span>\n\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">\"rails\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">github</span>: <span class=\"pl-s\">\"rails/rails\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">branch</span>: <span class=\"pl-s\">\"main\"</span>\n\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">\"sqlite3\"</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"active_record\"</span>\n\n<span class=\"pl-c\"># This connection will do for database-independent bug reports.</span>\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">establish_connection</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">adapter</span>: <span class=\"pl-s\">\"sqlite3\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">database</span>: <span class=\"pl-s\">\":memory:\"</span><span class=\"pl-kos\">)</span></pre></div>\n<p dir=\"auto\">This Pull Request has been created to fix this issue.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">I do not know why this triggers \"no anonymous block parameter\", as the parameter is clearly there.<br>\nIt was introduced when a named parameter was added, without the named parameter the error does not occur.<br>\nHowever, converting to a named block parameter fixes this issue.</p>",
            "url": "https://github.com/rails/rails/pull/51476",
            "title": "Fix \"no anonymous block parameter\" in ruby 3.1",
            "date_modified": "2024-04-04T02:38:41.000Z",
            "date_published": "2024-04-03T14:36:24.000Z",
            "author": {
                "name": "marvinthepa",
                "url": "https://github.com/marvinthepa"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #51463.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2219534455\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51463\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51463/hovercard\" href=\"https://github.com/rails/rails/issues/51463\">#51463</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Raises an <code class=\"notranslate\">ArgumentError</code> when a <code class=\"notranslate\">ActionDispatch::Routing::Mapper::Resources::Resource</code> is initalized with <code class=\"notranslate\">:on</code> or <code class=\"notranslate\">:except</code> options that aren't default (index, create, new, show, update, and destroy) actions .</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">See my comment below as to why this seems like more changes than it needs to be.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51464",
            "title": "[Fix #51463] Raise an error when invalid `:on` or `:except` options are given to `#resource` or `#resources`",
            "date_modified": "2024-04-04T09:38:53.000Z",
            "date_published": "2024-04-02T04:30:58.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #51461.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2218168973\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51461\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51461/hovercard\" href=\"https://github.com/rails/rails/issues/51461\">#51461</a>.</p>",
            "url": "https://github.com/rails/rails/pull/51462",
            "title": "Fix inline habtm fixtures for tables with composite primary keys",
            "date_modified": "2024-04-02T00:43:37.000Z",
            "date_published": "2024-04-02T00:43:32.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2223?u=01d20ee07241d135f5b4f55bec2930dc41399d07&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/2223/318311421-995815e6-1d34-4550-b49c-c7a78e213cc1.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTIyMzU5ODUsIm5iZiI6MTcxMjIzNTY4NSwicGF0aCI6Ii8yMjIzLzMxODMxMTQyMS05OTU4MTVlNi0xZDM0LTQ1NTAtYjQ5Yy1jN2E3OGUyMTNjYzEucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQwNCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MDRUMTMwMTI1WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZWIzYmIwM2ZjZDE1NDc1ZTNjZTE5YzQ5OWNkN2IzNTNlMjBhNWY0YTNlMjg1NWI0Y2VjOGE3N2JkNTY0ZGQ5OSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.iO0L_bJB0dxrQ-hENt3hk_f84aa-PC-y0l0-4sDHrPE\"><img width=\"958\" alt=\"Screenshot 2024-03-31 at 8 43 35 PM\" src=\"https://private-user-images.githubusercontent.com/2223/318311421-995815e6-1d34-4550-b49c-c7a78e213cc1.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTIyMzU5ODUsIm5iZiI6MTcxMjIzNTY4NSwicGF0aCI6Ii8yMjIzLzMxODMxMTQyMS05OTU4MTVlNi0xZDM0LTQ1NTAtYjQ5Yy1jN2E3OGUyMTNjYzEucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQwNCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MDRUMTMwMTI1WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZWIzYmIwM2ZjZDE1NDc1ZTNjZTE5YzQ5OWNkN2IzNTNlMjBhNWY0YTNlMjg1NWI0Y2VjOGE3N2JkNTY0ZGQ5OSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.iO0L_bJB0dxrQ-hENt3hk_f84aa-PC-y0l0-4sDHrPE\" style=\"max-width: 100%;\"></a>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This updates print CSS to be more inline with the overall style. The sidebar is inlined (same as mobile), and content is 100%. Previous code in the launch from boilerplate has been struck or integrated better.</p>\n<ul dir=\"auto\">\n<li>Links show in text after the original link text</li>\n<li>Border line around code and copy button are removed</li>\n<li>Print is now generated from SCSS to CSS via the generator that builds the other CSS files</li>\n</ul>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Some browsers will override backgrounds on print</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51458",
            "title": "New print styles and generator to add to build",
            "date_modified": "2024-04-01T14:57:32.000Z",
            "date_published": "2024-04-01T00:58:28.000Z",
            "author": {
                "name": "jathayde",
                "url": "https://github.com/jathayde"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">There is often a need to quickly see how many SQL queries the current action produced. For example, to quickly check if N+1 was solved or if the caching is working and so the # of queries reduced etc. This can be done manually by inspecting the logs and counting the number of queries, but for largish actions with tens-hundreds of SQL queries this is not a simple task.</p>\n<p dir=\"auto\">This PR enhances the log output to also print the query counts.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"# Before\nCompleted 200 OK in 3804ms (Views: 41.0ms | ActiveRecord: 33.5ms | Allocations: 112788)\n\n# After\nCompleted 200 OK in 3804ms (Views: 41.0ms | ActiveRecord: 33.5ms (2 queries, 1 cached) | Allocations: 112788)\"><pre class=\"notranslate\"><code class=\"notranslate\"># Before\nCompleted 200 OK in 3804ms (Views: 41.0ms | ActiveRecord: 33.5ms | Allocations: 112788)\n\n# After\nCompleted 200 OK in 3804ms (Views: 41.0ms | ActiveRecord: 33.5ms (2 queries, 1 cached) | Allocations: 112788)\n</code></pre></div>",
            "url": "https://github.com/rails/rails/pull/51457",
            "title": "Add queries count to template rendering instrumentation",
            "date_modified": "2024-04-04T12:28:48.000Z",
            "date_published": "2024-04-01T00:30:31.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/3938172?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">I've created this Pull Request because not all ActiveRecord persistence methods affect timestamps or have a touch option. This can be problematic, especially when there is some ETL processing that relies on the <code class=\"notranslate\">updated_at</code> timestamps instead of copying the whole table. For instance, if someone uses <code class=\"notranslate\">#update_columns</code> for performance reasons, it may result in lost updates. This is particularly an issue for <code class=\"notranslate\">#update_column</code>. If a user wants to keep timestamps current, they have to explicitly call the <code class=\"notranslate\">#touch</code> method after using <code class=\"notranslate\">#update_column</code>.</p>\n<p dir=\"auto\">Examples:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# we don't want to perform any callbacks or validations here so use #update_columns\ncurrent_user.update_columns(\n  last_ip: request.remote_ip,\n  updated_at: Time.current # but we still want to keep track of the last changes, so have to provide a timestamp explicitly\n)\"><pre class=\"notranslate\"><span class=\"pl-c\"># we don't want to perform any callbacks or validations here so use #update_columns</span>\n<span class=\"pl-en\">current_user</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">update_columns</span><span class=\"pl-kos\">(</span>\n  <span class=\"pl-pds\">last_ip</span>: <span class=\"pl-en\">request</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">remote_ip</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-pds\">updated_at</span>: <span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">current</span> <span class=\"pl-c\"># but we still want to keep track of the last changes, so have to provide a timestamp explicitly</span>\n<span class=\"pl-kos\">)</span></pre></div>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"current_user.update_column(:last_ip, request.remote_ip)\ncurrent_user.touch\"><pre class=\"notranslate\"><span class=\"pl-en\">current_user</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">update_column</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:last_ip</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">request</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">remote_ip</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-en\">current_user</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">touch</span></pre></div>\n<p dir=\"auto\">Rails discussion: <a href=\"https://discuss.rubyonrails.org/t/proposal-add-touch-option-for-update-columns-update-column/85388\" rel=\"nofollow\">https://discuss.rubyonrails.org/t/proposal-add-touch-option-for-update-columns-update-column/85388</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR adds a <code class=\"notranslate\">touch</code> option to the <code class=\"notranslate\">#update_columns</code> and <code class=\"notranslate\">#update_column</code> methods.<br>\nThe option allows to update <code class=\"notranslate\">updated_at</code>/<code class=\"notranslate\">updated_on</code> attributes with</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"    person.update_columns(name: 'John Doe', touch: true)\"><pre class=\"notranslate\">    <span class=\"pl-en\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">update_columns</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">name</span>: <span class=\"pl-s\">'John Doe'</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">touch</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">)</span></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51455",
            "title": "Add `touch` option to `#update_columns` and `#update_column` methods",
            "date_modified": "2024-04-03T09:44:15.000Z",
            "date_published": "2024-03-31T17:50:27.000Z",
            "author": {
                "name": "moofkit",
                "url": "https://github.com/moofkit"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4574230?u=70f23f5045acd15a3b542b0cec7a3b10bb5f2078&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I was exploring making use of Action Cables for a project I was working on, and didn't find any mention of the <code class=\"notranslate\">transmit</code> method of channels, which allows you to transmit data to the specific subscriber that initiated the interaction.</p>\n<p dir=\"auto\">As someone relatively new to Rails and entirely new to Action Cables I spun my wheels for a bit trying to figure out how interactions like this should be handled, and I was surprised to see the method wasn't even mentioned in the guide on Action Cables.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Documentation PR</p>\n<p dir=\"auto\">This Pull Request updates the Action Cable guide to add information on the existence of the <code class=\"notranslate\">transmit</code> method, allowing channels to send data to a specific subscriber.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51451",
            "title": "Action Cable Guide - add Transmit method",
            "date_modified": "2024-03-31T05:19:57.000Z",
            "date_published": "2024-03-30T03:23:34.000Z",
            "author": {
                "name": "OtherwiseJunk",
                "url": "https://github.com/OtherwiseJunk"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Counter caches were marked as readonly a very long time ago (rails 2), </p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/c1bc61cba0be6e5e830dae2f1497237f5ce3eb0d/activerecord/lib/active_record/associations.rb#L848-L850\">rails/activerecord/lib/active_record/associations.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 848 to 850\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/c1bc61cba0be6e5e830dae2f1497237f5ce3eb0d\">c1bc61c</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L848\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"848\"></td>\n          <td id=\"LC848\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-en\">module_eval</span><span class=\"pl-kos\">(</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L849\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"849\"></td>\n          <td id=\"LC849\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s\">\"<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">reflection</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">class_name</span><span class=\"pl-kos\">}</span></span>.send(:attr_readonly,<span class=\"pl-cce\">\\\"</span><span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">cache_column</span><span class=\"pl-kos\">}</span></span><span class=\"pl-cce\">\\\"</span>.intern) if defined?(<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">reflection</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">class_name</span><span class=\"pl-kos\">}</span></span>) &amp;&amp; <span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">reflection</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">class_name</span><span class=\"pl-kos\">}</span></span>.respond_to?(:attr_readonly)\"</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L850\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"850\"></td>\n          <td id=\"LC850\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-kos\">)</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n but this is no longer true.<p></p>\n<p dir=\"auto\">I was confused by this before, but I do not remember what I tested last time that it looked correct for me 🤦 😅  <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1213664068\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/44950\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/44950/hovercard\" href=\"https://github.com/rails/rails/pull/44950\">#44950</a></p>\n<p dir=\"auto\">Reproducible test</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frozen_string_literal: true\n\nrequire &quot;bundler/inline&quot;\n\ngemfile(true) do\n  source &quot;https://rubygems.org&quot;\n\n  git_source(:github) { |repo| &quot;https://github.com/#{repo}.git&quot; }\n\n  # gem &quot;rails&quot;\n  # If you want to test against edge Rails replace the previous line with this:\n  gem &quot;rails&quot;, github: &quot;rails/rails&quot;, branch: &quot;main&quot;\n\n  gem &quot;sqlite3&quot;\nend\n\nrequire &quot;active_record&quot;\nrequire &quot;minitest/autorun&quot;\nrequire &quot;logger&quot;\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: &quot;sqlite3&quot;, database: &quot;:memory:&quot;)\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord.raise_on_assign_to_attr_readonly = true\n\nActiveRecord::Schema.define do\n  create_table :posts, force: true do |t|\n    t.integer :comments_count\n  end\n\n  create_table :comments, force: true do |t|\n    t.integer :post_id\n  end\nend\n\nclass Post &lt; ActiveRecord::Base\n  has_many :comments\nend\n\nclass Comment &lt; ActiveRecord::Base\n  belongs_to :post, counter_cache: true\nend\n\nclass BugTest &lt; Minitest::Test\n  def test_counter_cache\n    post = Post.create!\n    post.comments.create!\n\n    assert Post.readonly_attributes.any?  # &lt;---- fails\n\n    assert_raises do  # &lt;---- will also fail\n      post.update!(comments_count: 10)\n    end\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-c\"># frozen_string_literal: true</span>\n\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"bundler/inline\"</span>\n\n<span class=\"pl-en\">gemfile</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">true</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">source</span> <span class=\"pl-s\">\"https://rubygems.org\"</span>\n\n  <span class=\"pl-en\">git_source</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:github</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span> |<span class=\"pl-s1\">repo</span>| <span class=\"pl-s\">\"https://github.com/<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">repo</span><span class=\"pl-kos\">}</span></span>.git\"</span> <span class=\"pl-kos\">}</span>\n\n  <span class=\"pl-c\"># gem \"rails\"</span>\n  <span class=\"pl-c\"># If you want to test against edge Rails replace the previous line with this:</span>\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">\"rails\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">github</span>: <span class=\"pl-s\">\"rails/rails\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">branch</span>: <span class=\"pl-s\">\"main\"</span>\n\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">\"sqlite3\"</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"active_record\"</span>\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"minitest/autorun\"</span>\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"logger\"</span>\n\n<span class=\"pl-c\"># This connection will do for database-independent bug reports.</span>\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">establish_connection</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">adapter</span>: <span class=\"pl-s\">\"sqlite3\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">database</span>: <span class=\"pl-s\">\":memory:\"</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">logger</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Logger</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">STDOUT</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-v\">ActiveRecord</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">raise_on_assign_to_attr_readonly</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">true</span>\n\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Schema</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">define</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">create_table</span> <span class=\"pl-pds\">:posts</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">force</span>: <span class=\"pl-c1\">true</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">integer</span> <span class=\"pl-pds\">:comments_count</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-en\">create_table</span> <span class=\"pl-pds\">:comments</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">force</span>: <span class=\"pl-c1\">true</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">integer</span> <span class=\"pl-pds\">:post_id</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Post</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">has_many</span> <span class=\"pl-pds\">:comments</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Comment</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">belongs_to</span> <span class=\"pl-pds\">:post</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">counter_cache</span>: <span class=\"pl-c1\">true</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">BugTest</span> &lt; <span class=\"pl-v\">Minitest</span>::<span class=\"pl-v\">Test</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_counter_cache</span>\n    <span class=\"pl-s1\">post</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">create!</span>\n    <span class=\"pl-s1\">post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">comments</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">create!</span>\n\n    <span class=\"pl-en\">assert</span> <span class=\"pl-v\">Post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">readonly_attributes</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">any?</span>  <span class=\"pl-c\"># &lt;---- fails</span>\n\n    <span class=\"pl-en\">assert_raises</span> <span class=\"pl-k\">do</span>  <span class=\"pl-c\"># &lt;---- will also fail</span>\n      <span class=\"pl-s1\">post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">update!</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">comments_count</span>: <span class=\"pl-c1\">10</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-k\">end</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/jonathanhefner/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jonathanhefner\">@jonathanhefner</a></p>",
            "url": "https://github.com/rails/rails/pull/51450",
            "title": "Counter cache columns are not marked as readonly [skip ci]",
            "date_modified": "2024-03-30T19:47:39.000Z",
            "date_published": "2024-03-29T22:02:41.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/13203?u=60f42a553b09bc71f5e399845142fba0ca9e9bb5&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h2 dir=\"auto\">Motivation / Background</h2>\n<p dir=\"auto\">An issue was identified where an error occurs when executing <code class=\"notranslate\">apply_rubocop_autocorrect_after_generate!</code> with <code class=\"notranslate\">--pretend</code> option, according to feedback from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2212161008\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rubocop/rubocop-rails/issues/1263\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rubocop/rubocop-rails/pull/1263/hovercard\" href=\"https://github.com/rubocop/rubocop-rails/pull/1263\">rubocop/rubocop-rails#1263</a>.</p>\n<h2 dir=\"auto\">Details</h2>\n<p dir=\"auto\">This PR fixes the following error when executing <code class=\"notranslate\">apply_rubocop_autocorrect_after_generate!</code> with <code class=\"notranslate\">--pretend</code> option:</p>\n<div class=\"highlight highlight-text-shell-session notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ bin/rails g migration create_users -p\"><pre class=\"notranslate\">$ <span class=\"pl-s1\">bin/rails g migration create_users -p</span></pre></div>\n<h3 dir=\"auto\">Before</h3>\n<p dir=\"auto\">An <code class=\"notranslate\">Errno::ENOENT</code> error occurs:</p>\n<div class=\"highlight highlight-text-shell-session notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"invoke  active_record\ncreate    db/migrate/20240329060627_create_users.rb\n/Users/koic/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/rails-8e46af8c9396/railties/lib/rails/configuration.rb:138:in\n`system': No such file or directory - bin/rubocop (Errno::ENOENT)\"><pre class=\"notranslate\"><span class=\"pl-c1\">invoke  active_record</span>\n<span class=\"pl-c1\">create    db/migrate/20240329060627_create_users.rb</span>\n<span class=\"pl-c1\">/Users/koic/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/bundler/gems/rails-8e46af8c9396/railties/lib/rails/configuration.rb:138:in</span>\n<span class=\"pl-c1\">`system': No such file or directory - bin/rubocop (Errno::ENOENT)</span></pre></div>\n<h3 dir=\"auto\">After</h3>\n<p dir=\"auto\">No errors.</p>\n<h2 dir=\"auto\">Checklist</h2>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51446",
            "title": "Fix an error for `apply_rubocop_autocorrect_after_generate!` with `--pretend`",
            "date_modified": "2024-03-30T10:23:42.000Z",
            "date_published": "2024-03-29T06:17:20.000Z",
            "author": {
                "name": "koic",
                "url": "https://github.com/koic"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/99586?u=b4abd791d83e768c72cb832147b4a210caecf47d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>",
            "url": "https://github.com/rails/rails/pull/51445",
            "title": "Remove node_modules from the final image",
            "date_modified": "2024-04-01T03:46:51.000Z",
            "date_published": "2024-03-29T02:55:34.000Z",
            "author": {
                "name": "shouichi",
                "url": "https://github.com/shouichi"
            }
        }
    ]
}