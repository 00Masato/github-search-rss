{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">When discussing testing frameworks for new projects, the absence of <code class=\"notranslate\">around</code> hooks is usually a focal point of the conversation that pushes consensus toward alternative test harnesses.</p>\n<p dir=\"auto\">Minitest itself <a href=\"https://github.com/minitest/minitest/issues/892\" data-hovercard-type=\"issue\" data-hovercard-url=\"/minitest/minitest/issues/892/hovercard\">will not support built-in <code class=\"notranslate\">around</code> hooks</a>. While the <a href=\"https://github.com/jeremyevans/minitest-hooks\">minitest-hooks</a> gem provides support for <code class=\"notranslate\">around</code>, Active Support's callback system makes adding <code class=\"notranslate\">around</code> hooks fairly trivial, and is guaranteed to be implemented in the same way as all other callbacks (Controller, Jobs, Mailers, etc.).</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Add a callback, which runs between <code class=\"notranslate\">TestCase#setup</code> and <code class=\"notranslate\">TestCase#teardown</code>. Yields the test class instance and the test case to the block:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Test &lt; ActiveSupport::TestCase\n  around do |_, test_case|\n    # pass the block\n    Client.with(stubbed: true, &amp;test_case)\n\n    # call the block\n    Client.with stubbed: true do\n      test_case.call\n    end\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Test</span> &lt; <span class=\"pl-v\">ActiveSupport</span>::<span class=\"pl-v\">TestCase</span>\n  <span class=\"pl-en\">around</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">_</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">test_case</span>|\n    <span class=\"pl-c\"># pass the block</span>\n    <span class=\"pl-v\">Client</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">with</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">stubbed</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">,</span> &amp;<span class=\"pl-s1\">test_case</span><span class=\"pl-kos\">)</span>\n\n    <span class=\"pl-c\"># call the block</span>\n    <span class=\"pl-v\">Client</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">with</span> <span class=\"pl-pds\">stubbed</span>: <span class=\"pl-c1\">true</span> <span class=\"pl-k\">do</span>\n      <span class=\"pl-s1\">test_case</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">call</span>\n    <span class=\"pl-k\">end</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Additional Information</h3>\n<p dir=\"auto\">To support this change, rename the <code class=\"notranslate\">activesupport/test/testing/after_teardown_test.rb</code> file to <code class=\"notranslate\">activesupport/test/testing/callbacks_test.rb</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50889",
            "title": "Introduce `ActiveSupport::TestCase.around`",
            "date_modified": "2024-01-26T19:33:06.000Z",
            "date_published": "2024-01-26T15:29:23.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/644950?u=21ceba0f35732731441f413b999b2c9d589d0440&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">In Intercom we are working on detecting queries with large result sets, as Vitess based databases (like in our case Planetscale) block queries that return more than (by default) 100k result set rows.</p>\n<p dir=\"auto\">We have an internal patch for this that works well for us, but thought to contribute this upstream, so others can benefit</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">{*}Adapter.log</code>, which emits <code class=\"notranslate\">sql.active_record</code> notifications.</p>\n<p dir=\"auto\">Previously the instrument call only logs information that goes into a request, but allows the caller inside the block to modify the payload. We make use of this inside each adapter to add a new field to each <code class=\"notranslate\">sql.active_record</code> notification with the number of result rows being returned in each query.</p>\n<p dir=\"auto\">This allows consumers of this notification <a href=\"https://github.com/DataDog/dd-trace-rb/blob/master/lib/datadog/tracing/contrib/active_record/events/sql.rb\">(example)</a> to consume this metric.</p>\n<p dir=\"auto\">There is previous work in this regard with the <a href=\"https://github.com/rails/rails/blob/main/activerecord/lib/active_record/relation/record_fetch_warning.rb\"><code class=\"notranslate\">RecordFetchWarning</code></a> module that can be included, which demonstrates the need to monitor queries with large result sets. In our case these log lines weren't easy to integrate into our observability stack, and having a numerical value attached to each sql trace allowed us to use the full power of our observability suite.</p>\n<p dir=\"auto\">This pr also includes three tests in the instrumentation test suite that verify this working for model instanciation queries, direct value queries like <code class=\"notranslate\">pluck</code> and raw <code class=\"notranslate\">ActiveRecord::Base.connection.execute(sql)</code> queries.</p>\n<h3 dir=\"auto\">Performance</h3>\n<p dir=\"auto\">The change asks the resultset how many elements it has. Expectation was that that should be a constant lookup, and benchmarks suggest this to be true:</p>\n<p dir=\"auto\">I have tested this change with <code class=\"notranslate\">examples/performance</code> on adapters <code class=\"notranslate\">sqlite3</code>, <code class=\"notranslate\">mysql2</code> and <code class=\"notranslate\">postgresql</code> with no measurable difference in performance (less than 0.1% when standard deviation was 1%).</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">I originally approached this inside <code class=\"notranslate\">abstract_adapter</code> but it turns out every adapters Result uses a different method, so I moved the call into each adapters respective usage of <code class=\"notranslate\">log</code></p>\n<p dir=\"auto\"><a href=\"https://github.com/rails/rails/blob/main/activerecord/lib/active_record/relation/record_fetch_warning.rb\"><code class=\"notranslate\">RecordFetchWarning</code></a> works by patching <code class=\"notranslate\">exec_queries</code>, so it aggregates the result set size of multiple queries into one, which is less helpful for this case, as the limits imposed by Vitess are per query. Additionally, this does not support the case of executing raw SQL on the connection, which is something that this patch captures.</p>\n<p dir=\"auto\">As for the field name on the payload <code class=\"notranslate\">row_count</code> seemed like a good name as it follows the same pattern as <code class=\"notranslate\">result_count</code> does in <a href=\"https://guides.rubyonrails.org/active_support_instrumentation.html#instantiation-active-record\" rel=\"nofollow\">https://guides.rubyonrails.org/active_support_instrumentation.html#instantiation-active-record</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50887",
            "title": "Add row_count field to sql.active_record notification",
            "date_modified": "2024-01-26T16:56:16.000Z",
            "date_published": "2024-01-26T13:55:17.000Z",
            "author": {
                "name": "marvin-bitterlich",
                "url": "https://github.com/marvin-bitterlich"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50812.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2091410608\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50812\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50812/hovercard\" href=\"https://github.com/rails/rails/issues/50812\">#50812</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">#merge_select_values</code>, <code class=\"notranslate\">#merge_joins</code> and <code class=\"notranslate\">#merge_outer_joins</code> in <code class=\"notranslate\">ActiveRecord::Relation::Merger</code> to unionise selects, inner and outer joins when the two sources of a <code class=\"notranslate\">merge</code> are related via STI.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">The only similar case left in <code class=\"notranslate\">ActiveRecord::Relation::Merger</code> is when <a href=\"https://github.com/rails/rails/blob/68eade83c87ae309191add6dfa4959d7d7e07464/activerecord/lib/active_record/relation/merger.rb#L101\">merging preloads</a>.</p>\n<p dir=\"auto\">I don't think that is similar to these cases since the preload values are simply used to preload associations. I thought I would just mention it anyway.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50886",
            "title": "[Fix #50812] Don't duplicate selects, inner and outer joins when merging with STI",
            "date_modified": "2024-01-26T14:09:06.000Z",
            "date_published": "2024-01-26T13:54:50.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/122306143?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Adds documentation for the <code class=\"notranslate\">attachment_changes</code> method of Active Storage.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50885",
            "title": "Document Attached::Model#attachment_changes [ci skip]",
            "date_modified": "2024-01-26T14:14:49.000Z",
            "date_published": "2024-01-26T13:18:39.000Z",
            "author": {
                "name": "tsvallender",
                "url": "https://github.com/tsvallender"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/19192189?u=dd60737844a9db7f1475bab21fc3e5258a405e15&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Ref: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2028934613\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50284\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50284/hovercard\" href=\"https://github.com/rails/rails/pull/50284\">#50284</a></p>\n<p dir=\"auto\">While having the inverse association configured it generally positive as it avoid some extra queries etc, infering it may break legecy code, as evidenced by how it broke <code class=\"notranslate\">ActiveStorage::Blob</code> in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2089482274\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50800\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50800/hovercard\" href=\"https://github.com/rails/rails/pull/50800\">#50800</a></p>\n<p dir=\"auto\">As such we can't just enable this behavior immediately, we need to provide and upgrade path for users.</p>\n<p dir=\"auto\">At this stage this PR is just a quick draft to discuss how exactly we should gate this. We can just make it a regular framework default, but perhaps emitting a deprecation warning when we would have infered the inverse relation would help users upgrade?  cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/rafaelfranca/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rafaelfranca\">@rafaelfranca</a> as you generally have great insights on this kind of new framework default.</p>",
            "url": "https://github.com/rails/rails/pull/50883",
            "title": "Put plural inverse association inference behind a configuration flag",
            "date_modified": "2024-01-26T17:23:32.000Z",
            "date_published": "2024-01-26T09:19:56.000Z",
            "author": {
                "name": "casperisfine",
                "url": "https://github.com/casperisfine"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/853015?u=7a457811f0ebec8f47bc83ee39021835888a5955&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because the documentation is out-of-sync.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Since <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"613078684\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/39164\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/39164/hovercard\" href=\"https://github.com/rails/rails/pull/39164\">#39164</a> extension in filename are deprecated (shipped with Rails 6.1)<br>\nAnd has been removed in Rails 7.0.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">N/A</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li>[N/A] Tests are added or updated if you fix a bug or add a feature.</li>\n<li>[N/A] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50881",
            "title": "Update caching_with_rails.md regarding extension in filename [ci skip]",
            "date_modified": "2024-01-26T05:34:13.000Z",
            "date_published": "2024-01-26T03:51:09.000Z",
            "author": {
                "name": "D-system",
                "url": "https://github.com/D-system"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/47848?u=41ccf0d1865a17f47d140f73a3293f1f3559fc0f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2082675602\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50759\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50759/hovercard\" href=\"https://github.com/rails/rails/issues/50759\">#50759</a></p>\n<p dir=\"auto\"><code class=\"notranslate\">./tools/rdoc-to-md -a --only=actionpack</code> to reproduce the results.</p>",
            "url": "https://github.com/rails/rails/pull/50879",
            "title": "Transform actionpack documentation to Markdown",
            "date_modified": "2024-01-25T22:29:37.000Z",
            "date_published": "2024-01-25T19:53:03.000Z",
            "author": {
                "name": "rafaelfranca",
                "url": "https://github.com/rafaelfranca"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1734607?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">You may want to avoid compression when using ActiveRecord encryption.</p>\n<p dir=\"auto\">Reasons include</p>\n<ul dir=\"auto\">\n<li>Your data is already compressed</li>\n<li>Avoiding revealing information about the entropy of the encrypted value (see <a href=\"https://github.blog/2022-10-26-why-and-how-github-encrypts-sensitive-database-columns-using-activerecordencryption/#turn-off-compression-by-default\" rel=\"nofollow\">https://github.blog/2022-10-26-why-and-how-github-encrypts-sensitive-database-columns-using-activerecordencryption/#turn-off-compression-by-default</a>)</li>\n</ul>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Add a <code class=\"notranslate\">compress</code> option to ActiveRecord::Encryption::Encryptor, which defaults to <code class=\"notranslate\">true</code>. When set to <code class=\"notranslate\">false</code>, the encryptor will never compress the data.</p>\n<p dir=\"auto\">This can be used with the <code class=\"notranslate\">encryptor</code> option in the model:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Record &lt; ApplicationRecord\n  encrypts :field, encryptor: ActiveRecord::Encryption::Encryptor.new(compress: false)\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Record</span> &lt; <span class=\"pl-v\">ApplicationRecord</span>\n  <span class=\"pl-en\">encrypts</span> <span class=\"pl-pds\">:field</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">encryptor</span>: <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Encryption</span>::<span class=\"pl-v\">Encryptor</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">compress</span>: <span class=\"pl-c1\">false</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-k\">end</span></pre></div>",
            "url": "https://github.com/rails/rails/pull/50876",
            "title": "Allow encryption without compression",
            "date_modified": "2024-01-25T14:50:57.000Z",
            "date_published": "2024-01-25T14:50:53.000Z",
            "author": {
                "name": "djmb",
                "url": "https://github.com/djmb"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/519226?u=59a6c3425b6e478c5da291701c8e9df97422d039&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">this pull request improve the current implementation of ignoring table during the schema dump by allowing to ignore tables from other postgres schema than \"public\".</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes [REPLACE ME]</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">the proposed implementation lack the ability to specify exactly from which schema, the table is ignored but I think that even do, it's better than the current implementation.</p>\n<ul dir=\"auto\">\n<li><a href=\"https://www.postgresql.org/docs/current/app-pgdump.html\" rel=\"nofollow\">pg_dump documentation</a></li>\n<li>[pattern documentation](<a href=\"https://www.postgresql.org/docs/current/app-psql.html#APP-PSQL-PATTERNS\" rel=\"nofollow\">https://www.postgresql.org/docs/current/app-psql.html#APP-PSQL-PATTERNS</a></li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>\n<p dir=\"auto\">I feel that the code change is too small to request updating CHANGELOG or writing new tests</p>",
            "url": "https://github.com/rails/rails/pull/50873",
            "title": "dump schema: ignore tables from any postgres schema",
            "date_modified": "2024-01-25T13:41:01.000Z",
            "date_published": "2024-01-25T13:31:52.000Z",
            "author": {
                "name": "gagalago",
                "url": "https://github.com/gagalago"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1322013?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This is already done in rake tasks in the <code class=\"notranslate\">load_config</code> task. However, if migrations want to be manipulated/used by a non-rake program this initialization would miss any extra directories configured by the user.</p>\n<p dir=\"auto\">We move the initialization to an initializer block. With this we can remove the rake config since it depends on <code class=\"notranslate\">environment</code> anyway.</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">In our app we use schema-based multitenancy which means we need to setup and migrate for each tenant. We have created<br>\na few helpers to aid in this task.<br>\nRecently, we began modularizing our app, and started moving our migrations into packs.<br>\nThen we started facing issues with migrations that tried to run more than once.<br>\nWe diagnosed the root cause that our tenant creation command was not invoking <code class=\"notranslate\">db:load_config</code> before loading the schema.<br>\nThis resulted in \"packed\" migrations not being recorded in the initial seed of the <code class=\"notranslate\">schema_migrations</code> table. Then when we attempted to run migrations on that tenant those migrations would try to run and fail.</p>\n<p dir=\"auto\">This Pull Request has been created because a fix for this is to ensure whenever the app is loaded, the correct default paths<br>\nare loaded.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the initialization from a rake task to the app initialization process.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50867",
            "title": "Initialize ActiveRecord::Migrator.migrations_paths at application initialization",
            "date_modified": "2024-01-24T17:46:06.000Z",
            "date_published": "2024-01-24T17:44:10.000Z",
            "author": {
                "name": "fsateler",
                "url": "https://github.com/fsateler"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/99586?u=b4abd791d83e768c72cb832147b4a210caecf47d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><code class=\"notranslate\">File</code> is already accepted as an attachable, so why not?</p>",
            "url": "https://github.com/rails/rails/pull/50862",
            "title": "Accept Tempfile as ActiveStorage attachable",
            "date_modified": "2024-01-25T14:59:26.000Z",
            "date_published": "2024-01-24T10:31:28.000Z",
            "author": {
                "name": "shouichi",
                "url": "https://github.com/shouichi"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5238698?u=891eeb449bcb179b920fd08ed86c18eb6d477a04&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #45636.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1314546104\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/45636\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/45636/hovercard\" href=\"https://github.com/rails/rails/issues/45636\">#45636</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds a check in <code class=\"notranslate\">ActionView::PathSet#find_all</code> to ensure all passed formats are valid.</p>\n<p dir=\"auto\">Since <code class=\"notranslate\">#find_all</code> is used by <code class=\"notranslate\">#exists?</code> and <code class=\"notranslate\">#find</code>, the check is extended to all the public methods in the class that search templates.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50861",
            "title": "ActionView: Raise on invalid format",
            "date_modified": "2024-01-24T08:37:47.000Z",
            "date_published": "2024-01-24T08:37:24.000Z",
            "author": {
                "name": "3v0k4",
                "url": "https://github.com/3v0k4"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/13130705?u=c91ddc42cdbe8620020f2935052801734da051cf&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The section \"Error Message Scopes\" describes how the Rails look up the namespaces for a validation error message with code snippets. The first code snippet shows abstract namespaces like <code class=\"notranslate\">errors.attributes.[attribute_name]</code> while the second one demonstrates the materialized one like <code class=\"notranslate\">errors.attributes.name.blank</code>. The first code snippet lacks the validation error \"key.\" My team member was confused and created a translation without \"key\", so I think it would be helpful to add \".[key]\" to the abstract namespaces.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li><del>[ ] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</del></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li><del>[ ] Tests are added or updated if you fix a bug or add a feature.</del></li>\n<li><del>[ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</del></li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50860",
            "title": "Add \".[key]\" to the abstract namespaces [ci skip]",
            "date_modified": "2024-01-26T00:51:59.000Z",
            "date_published": "2024-01-24T07:58:00.000Z",
            "author": {
                "name": "yykamei",
                "url": "https://github.com/yykamei"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50830.\">Closes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2092565763\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50830\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50830/hovercard\" href=\"https://github.com/rails/rails/issues/50830\">#50830</a>.</p>\n<p dir=\"auto\">The code works, but docs/tests etc are currently missing. I want to validate the approach before proceeding.</p>\n<p dir=\"auto\">Inside action mailer I am reusing private methods from the implementation of callbacks from the action controller, see <a href=\"https://github.com/rails/rails/blob/main/actionpack/lib/abstract_controller/callbacks.rb\">https://github.com/rails/rails/blob/main/actionpack/lib/abstract_controller/callbacks.rb</a>.</p>\n<p dir=\"auto\">The questions to consider are:</p>\n<ol dir=\"auto\">\n<li>Should the mailer callbacks really depend on the internals of controller callbacks, considering that it already includes it <div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/776626ff987a96201b0bdbd86d716ca6698fa8b3/actionmailer/lib/action_mailer/base.rb#L493\">rails/actionmailer/lib/action_mailer/base.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 493\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/776626ff987a96201b0bdbd86d716ca6698fa8b3\">776626f</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L493\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"493\"></td>\n          <td id=\"LC493\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-en\">include</span> <span class=\"pl-v\">AbstractController</span>::<span class=\"pl-v\">Callbacks</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</li>\n<li>Controllers callbacks have a <code class=\"notranslate\">raise_on_missing_callbacks_action</code>, see <div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/776626ff987a96201b0bdbd86d716ca6698fa8b3/actionpack/lib/abstract_controller/callbacks.rb#L36\">rails/actionpack/lib/abstract_controller/callbacks.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 36\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/776626ff987a96201b0bdbd86d716ca6698fa8b3\">776626f</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L36\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"36\"></td>\n          <td id=\"LC36\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-en\">mattr_accessor</span> <span class=\"pl-pds\">:raise_on_missing_callback_actions</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">default</span>: <span class=\"pl-c1\">false</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n which can be set via <code class=\"notranslate\">config.action_controller. raise_on_missing_callbacks_action</code>. This kinda makes sense for action mailer too, so should we introduce <code class=\"notranslate\">config.action_mailer.raise_on_missing_callbacks_action</code> config?</li>\n<li>Controller callbacks use the word <code class=\"notranslate\">\"controller\"</code>, see <div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/776626ff987a96201b0bdbd86d716ca6698fa8b3/actionpack/lib/abstract_controller/callbacks.rb#L54\">rails/actionpack/lib/abstract_controller/callbacks.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 54\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/776626ff987a96201b0bdbd86d716ca6698fa8b3\">776626f</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L54\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"54\"></td>\n          <td id=\"LC54\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s\">              callback on <span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">controller</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">class</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">name</span><span class=\"pl-kos\">}</span></span>, but it is listed in the controller's</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n, while for mailer we should use the <code class=\"notranslate\">\"mailer\"</code> word or should we make the message text more generic?</li>\n</ol>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/bensheldon/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/bensheldon\">@bensheldon</a></p>",
            "url": "https://github.com/rails/rails/pull/50858",
            "title": "Support options for ActionMailer delivery callbacks",
            "date_modified": "2024-01-23T23:16:31.000Z",
            "date_published": "2024-01-23T23:16:27.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/29010172?u=b22422071c289f4126829f8c3f71015caf915154&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds documentation comments to the belongs_to and has_one methods in ActiveRecord::Associations to explain that autosave: true also enables validations by default. This is to reflect the actual behavior of these methods, as described in the source code and observed in application behavior.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Reference to the issue discussed in Rails: Undocumented - validations enabled by autosave <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2090245533\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50807\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50807/hovercard\" href=\"https://github.com/rails/rails/issues/50807\">#50807</a><br>\nInline gemfile with bundler example -</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"require &quot;bundler/inline&quot;\n\ngemfile do\n  source &quot;https://rubygems.org&quot;\n  gem &quot;rails&quot;, &quot;7.1.3&quot;\n  gem &quot;sqlite3&quot;\nend\n\nrequire &quot;active_record&quot;\nrequire &quot;minitest/autorun&quot;\nrequire &quot;logger&quot;\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: &quot;sqlite3&quot;, database: &quot;:memory:&quot;)\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :authors do |t|\n    t.string :name\n  end\n\n  create_table :books do |t|\n    t.belongs_to :author\n    t.string :title\n  end\nend\n\nclass Author &lt; ActiveRecord::Base\n  has_one :book, autosave: true\nend\n\nclass Book &lt; ActiveRecord::Base\n  belongs_to :author\n  validates :title, presence: true\nend\n\nclass BugTest &lt; Minitest::Test\n  def test_autosave_with_validations\n    author = Author.new(name: &quot;J.K. Rowling&quot;)\n    author.build_book # Not setting a title to trigger validation failure\n\n    refute author.save, &quot;Author should not be saved due to book validation failure&quot;\n    assert author.book.errors.full_messages.include?(&quot;Title can't be blank&quot;), &quot;Book should contain error on title&quot;\n  end\nend\n\"><pre class=\"notranslate\"><span class=\"pl-en\">require</span> <span class=\"pl-s\">\"bundler/inline\"</span>\n\n<span class=\"pl-en\">gemfile</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">source</span> <span class=\"pl-s\">\"https://rubygems.org\"</span>\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">\"rails\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"7.1.3\"</span>\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">\"sqlite3\"</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"active_record\"</span>\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"minitest/autorun\"</span>\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"logger\"</span>\n\n<span class=\"pl-c\"># This connection will do for database-independent bug reports.</span>\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">establish_connection</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">adapter</span>: <span class=\"pl-s\">\"sqlite3\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">database</span>: <span class=\"pl-s\">\":memory:\"</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">logger</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Logger</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">STDOUT</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Schema</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">define</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">create_table</span> <span class=\"pl-pds\">:authors</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">string</span> <span class=\"pl-pds\">:name</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-en\">create_table</span> <span class=\"pl-pds\">:books</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">belongs_to</span> <span class=\"pl-pds\">:author</span>\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">string</span> <span class=\"pl-pds\">:title</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Author</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">has_one</span> <span class=\"pl-pds\">:book</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">autosave</span>: <span class=\"pl-c1\">true</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Book</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">belongs_to</span> <span class=\"pl-pds\">:author</span>\n  <span class=\"pl-en\">validates</span> <span class=\"pl-pds\">:title</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">presence</span>: <span class=\"pl-c1\">true</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">BugTest</span> &lt; <span class=\"pl-v\">Minitest</span>::<span class=\"pl-v\">Test</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_autosave_with_validations</span>\n    <span class=\"pl-s1\">author</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Author</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"J.K. Rowling\"</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-s1\">author</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">build_book</span> <span class=\"pl-c\"># Not setting a title to trigger validation failure</span>\n\n    <span class=\"pl-en\">refute</span> <span class=\"pl-s1\">author</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">save</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"Author should not be saved due to book validation failure\"</span>\n    <span class=\"pl-en\">assert</span> <span class=\"pl-s1\">author</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">book</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">errors</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">full_messages</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">include?</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Title can't be blank\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"Book should contain error on title\"</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change, specifically the addition of documentation for autosave: true behavior.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message includes a detailed description of the changes, for example: [Doc <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2090245533\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50807\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50807/hovercard\" href=\"https://github.com/rails/rails/issues/50807\">#50807</a>] Document autosave validation behavior for associations.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are not required as this is a documentation update.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG is not updated since this is a minor documentation change and does not affect library behavior.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50856",
            "title": "Document autosave validation behavior for ActiveRecord associations [ci skip]",
            "date_modified": "2024-01-23T21:03:11.000Z",
            "date_published": "2024-01-23T19:41:36.000Z",
            "author": {
                "name": "Dmoment",
                "url": "https://github.com/Dmoment"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Closes [<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2094843344\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50844\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50844/hovercard\" href=\"https://github.com/rails/rails/issues/50844\">#50844</a>][]</p>\n<h2 dir=\"auto\">Motivation / Background</h2>\n<p dir=\"auto\">A controller declared in the top-level module can render a top-level Active Model instance whose partial is declared in the root view directory (like <code class=\"notranslate\">articles/_article.html.erb</code>).</p>\n<p dir=\"auto\">A controller scoped within a module can render an Active Model instance whose partial is similarly scoped within view directory (like <code class=\"notranslate\">scoped/articles/_article.html.erb</code>).</p>\n<p dir=\"auto\">A controller scoped within a module cannot render an Active Model instance whose partial is declared in the root view directory (like <code class=\"notranslate\">articles/_article.html.erb</code>), despite the absence of a similarly scoped partial.</p>\n<p dir=\"auto\">This is intended behavior that's powered by<br>\n<a href=\"https://guides.rubyonrails.org/configuring.html#config-action-view-prefix-partial-path-with-controller-namespace\" rel=\"nofollow\"><code class=\"notranslate\">config.action_view.prefix_partial_path_with_controller_namespace = true</code></a> (<code class=\"notranslate\">true</code> by default).</p>\n<p dir=\"auto\">This change was introduced in March of 2012 as part of <a href=\"https://github.com/rails/rails/pull/5625\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/5625/hovercard\">#5625</a>.</p>\n<h2 dir=\"auto\">Detail</h2>\n<p dir=\"auto\">As a consumer of Action View, my intuition is that the lookup would fallback, in the same way that a controller that inherits from <code class=\"notranslate\">ApplicationController</code> could define its own view, then rely on fallback to render an <code class=\"notranslate\">app/views/application</code> partial.</p>\n<p dir=\"auto\">This commit modifies the behavior to gracefully fall back to the root-level view partial.</p>\n<h2 dir=\"auto\">Checklist</h2>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50852",
            "title": "Action View: Fallback to existing partial when possible",
            "date_modified": "2024-01-23T15:27:15.000Z",
            "date_published": "2024-01-23T15:19:52.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/24068?u=93d718fa5371367f608deae2aa9a7759bd367a2d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">The asset pipeline really shouldn't be checked for remote images regardless, but this also happens to fix an issue with images pasted into Trix that get serialized as action-text-attachments with \"blob:\" urls.</p>",
            "url": "https://github.com/rails/rails/pull/50849",
            "title": "Fixes ActionView::Template::Error when pasting images via Trix",
            "date_modified": "2024-01-23T02:15:02.000Z",
            "date_published": "2024-01-23T02:14:58.000Z",
            "author": {
                "name": "schristm",
                "url": "https://github.com/schristm"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1946610?u=a3b5a8c410b2f492e84364b49ae235caef4ecb4f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because I am writing some tests for my app around records being deleted by calling <code class=\"notranslate\">reload</code>, and there was no easy way to assert that the record raising the <code class=\"notranslate\">ActiveRecord::RecordNotFound</code> exception was the record I was expecting</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">raise_record_not_found_exception!</code> to find IDs based on the primary key from the where condition, if no IDs are explicitly passed</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50846",
            "title": "Set ActiveRecord::RecordNotFound#id when raised from a call to #reload a deleted record",
            "date_modified": "2024-01-23T16:49:20.000Z",
            "date_published": "2024-01-23T00:04:37.000Z",
            "author": {
                "name": "segiddins",
                "url": "https://github.com/segiddins"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5077225?u=e9f968c9eb790ee7734442f6b7998155400ad1d8&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request fixes a bug in the low-level SQLite adapter introspection logic. I came across the bug when working with virtual columns and JSON, but there are many possible cases where this would cause problems. Here is one reproducible bug script though:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frozen_string_literal: true\n\nrequire &quot;bundler/inline&quot;\n\ngemfile(true) do\n  source &quot;https://rubygems.org&quot;\n\n  git_source(:github) { |repo| &quot;https://github.com/#{repo}.git&quot; }\n\n  gem &quot;rails&quot;, github: &quot;rails/rails&quot;, branch: &quot;main&quot;\n  gem &quot;sqlite3&quot;\nend\n\nrequire &quot;active_record&quot;\nrequire &quot;minitest/autorun&quot;\nrequire &quot;logger&quot;\n\nActiveRecord::Base.establish_connection(adapter: &quot;sqlite3&quot;, database: &quot;:memory:&quot;);\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :posts, force: true do |t|\n    t.json :payload, null: false, default: {}\n    t.virtual :external_id, type: :string, as: &quot;JSON_EXTRACT(payload, '$.id')&quot;, stored: true, null: false, index: true\n  end\nend\n\nclass Post &lt; ActiveRecord::Base; end\n\nclass BugTest &lt; Minitest::Test\n  def test_virtual_column_with_comma_in_definition_is_autopopulated\n    post = Post.create!(payload: { id: 'pst_1' })\n\n    assert_equal 'pst_1', post.external_id\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-c\"># frozen_string_literal: true</span>\n\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"bundler/inline\"</span>\n\n<span class=\"pl-en\">gemfile</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">true</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">source</span> <span class=\"pl-s\">\"https://rubygems.org\"</span>\n\n  <span class=\"pl-en\">git_source</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:github</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span> |<span class=\"pl-s1\">repo</span>| <span class=\"pl-s\">\"https://github.com/<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">repo</span><span class=\"pl-kos\">}</span></span>.git\"</span> <span class=\"pl-kos\">}</span>\n\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">\"rails\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">github</span>: <span class=\"pl-s\">\"rails/rails\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">branch</span>: <span class=\"pl-s\">\"main\"</span>\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">\"sqlite3\"</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"active_record\"</span>\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"minitest/autorun\"</span>\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"logger\"</span>\n\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">establish_connection</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">adapter</span>: <span class=\"pl-s\">\"sqlite3\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">database</span>: <span class=\"pl-s\">\":memory:\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">logger</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Logger</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">STDOUT</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Schema</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">define</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">create_table</span> <span class=\"pl-pds\">:posts</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">force</span>: <span class=\"pl-c1\">true</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">json</span> <span class=\"pl-pds\">:payload</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">null</span>: <span class=\"pl-c1\">false</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">default</span>: <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span>\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">virtual</span> <span class=\"pl-pds\">:external_id</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">type</span>: <span class=\"pl-pds\">:string</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">as</span>: <span class=\"pl-s\">\"JSON_EXTRACT(payload, '$.id')\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">stored</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">null</span>: <span class=\"pl-c1\">false</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">index</span>: <span class=\"pl-c1\">true</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Post</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">;</span> <span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">BugTest</span> &lt; <span class=\"pl-v\">Minitest</span>::<span class=\"pl-v\">Test</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_virtual_column_with_comma_in_definition_is_autopopulated</span>\n    <span class=\"pl-s1\">post</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">create!</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">payload</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">id</span>: <span class=\"pl-s\">'pst_1'</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n\n    <span class=\"pl-en\">assert_equal</span> <span class=\"pl-s\">'pst_1'</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">external_id</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request more intelligently parses the SQL string description of the table to ensure that we only split by commas that mark a new column definition. In order to accomplish this, the table parsing method needs the list of column names for the table. When <code class=\"notranslate\">table_structure_sql</code> is called by <code class=\"notranslate\">table_structure_with_collation</code>, these can be supplied as they are already present; when it is called by <code class=\"notranslate\">foreign_keys</code>, however, they are not present and thus must be fetched.</p>\n<p dir=\"auto\">I also added a simple regression test as a part of the virtual column test case.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This bug has existed for a long time, but I most recently touched the relevant code in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1910980756\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49376\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49376/hovercard\" href=\"https://github.com/rails/rails/pull/49376\">#49376</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>\n<p dir=\"auto\">cc: <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/byroot/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/byroot\">@byroot</a> (this is related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1907061730\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49346\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49346/hovercard\" href=\"https://github.com/rails/rails/pull/49346\">#49346</a>), <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/tenderlove/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/tenderlove\">@tenderlove</a> (this is related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1898859181\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49290\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49290/hovercard\" href=\"https://github.com/rails/rails/pull/49290\">#49290</a>), <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/yahonda/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yahonda\">@yahonda</a> (this is related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1910980756\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49376\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49376/hovercard\" href=\"https://github.com/rails/rails/pull/49376\">#49376</a>)</p>",
            "url": "https://github.com/rails/rails/pull/50838",
            "title": "Fix SQLite table definition parsing bug to handle commas in default function definitions",
            "date_modified": "2024-01-22T13:18:26.000Z",
            "date_published": "2024-01-22T13:18:21.000Z",
            "author": {
                "name": "fractaledmind",
                "url": "https://github.com/fractaledmind"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50833.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2092932851\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50833\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50833/hovercard\" href=\"https://github.com/rails/rails/issues/50833\">#50833</a>.<br>\nFollow up to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1638188755\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47753\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/47753/hovercard\" href=\"https://github.com/rails/rails/pull/47753\">#47753</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1654618259\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47863\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/47863/hovercard\" href=\"https://github.com/rails/rails/pull/47863\">#47863</a>.</p>\n<p dir=\"auto\">The easiest way to preserve the old behavior is to rename indexes back after the <code class=\"notranslate\">rename_table</code> was run.</p>",
            "url": "https://github.com/rails/rails/pull/50837",
            "title": "Ensure pre-7.1 migrations use legacy index names when using `rename_table`",
            "date_modified": "2024-01-22T12:59:04.000Z",
            "date_published": "2024-01-22T12:59:00.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        }
    ]
}