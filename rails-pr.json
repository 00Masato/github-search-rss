{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/108?u=2cbfc0fbb4f9ff7a485ee1930ce1ff6872120d47&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">For example:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"  product_table = Product.arel_table\n  product_table.cast(product_table[:position], &quot;integer&quot;)\"><pre class=\"notranslate\"><code class=\"notranslate\">  product_table = Product.arel_table\n  product_table.cast(product_table[:position], \"integer\")\n</code></pre></div>\n<p dir=\"auto\">Produces SQL:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"  CAST(&quot;products&quot;.&quot;position&quot; as integer)\"><pre class=\"notranslate\"><code class=\"notranslate\">  CAST(\"products\".\"position\" as integer)\n</code></pre></div>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><code class=\"notranslate\">CAST(field as type)</code> is a widely supported SQL function. This PR adds native arel support for this named function with a <code class=\"notranslate\">cast(field, type)</code> helper.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48873",
            "title": "Adds Arel::FactoryMethods#cast(node, type)",
            "date_modified": "2023-08-02T11:56:32.000Z",
            "date_published": "2023-08-02T11:55:49.000Z",
            "author": {
                "name": "drnic",
                "url": "https://github.com/drnic"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1769416?u=786458082f04393c2a84cd8bd1eaf04cb5e38a56&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created to allow <a href=\"https://github.com/rails-sqlserver/activerecord-sqlserver-adapter/\">Active Record SQL Server Adapter</a> tests to run against the Rails <code class=\"notranslate\">main</code> branch.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">In PR <a href=\"https://github.com/rails/rails/pull/48015\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48015/hovercard\">Fix trilogy builds</a>, a check was included to prevent the tests running against the wrong adapter. The fix handled the special case of SQLite which uses different connection (<code class=\"notranslate\">sqlite3_mem</code>) and adapter (<code class=\"notranslate\">sqlite3</code>) names.</p>\n<p dir=\"auto\">This Pull Request extends that check to also handle the SQL Server adapter. The adapter's name is <code class=\"notranslate\">sqlserver</code> but the connection's name is <code class=\"notranslate\">dblib</code>. I can't find an alternative method in the adapter's codebase of fixing this issue.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48872",
            "title": "[SQL Server] During testing do not raise error for connection and adapter name mismatch",
            "date_modified": "2023-08-02T15:38:36.000Z",
            "date_published": "2023-08-02T11:12:21.000Z",
            "author": {
                "name": "aidanharan",
                "url": "https://github.com/aidanharan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR reverts the changes to autosave from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1744753778\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48413\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48413/hovercard\" href=\"https://github.com/rails/rails/pull/48413\">#48413</a>, and <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #48408.\">fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1744340761\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48408\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48408/hovercard\" href=\"https://github.com/rails/rails/issues/48408\">#48408</a>, without having to change which key errors are stored.</p>\n<p dir=\"auto\">There is an equivalent PR for <code class=\"notranslate\">7-0-stable</code> branch in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1832933272\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48870\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48870/hovercard\" href=\"https://github.com/rails/rails/pull/48870\">#48870</a>.</p>\n<p dir=\"auto\">/cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/fatkodima/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/fatkodima\">@fatkodima</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/rafaelfranca/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rafaelfranca\">@rafaelfranca</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/Edouard-chin/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Edouard-chin\">@Edouard-chin</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/kamil-gwozdz/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/kamil-gwozdz\">@kamil-gwozdz</a></p>",
            "url": "https://github.com/rails/rails/pull/48871",
            "title": "Fix AM::Error.full_message to remove \":base\"",
            "date_modified": "2023-08-02T14:28:37.000Z",
            "date_published": "2023-08-02T11:00:45.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR reverts the changes to autosave from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1744753778\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48413\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48413/hovercard\" href=\"https://github.com/rails/rails/pull/48413\">#48413</a>, and <span class=\"issue-keyword\">fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1744340761\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48408\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48408/hovercard\" href=\"https://github.com/rails/rails/issues/48408\">#48408</a>, without having to change which key errors are stored.</p>\n<p dir=\"auto\">There is an equivalent PR for <code class=\"notranslate\">main</code> branch in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1832955727\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48871\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48871/hovercard\" href=\"https://github.com/rails/rails/pull/48871\">#48871</a></p>",
            "url": "https://github.com/rails/rails/pull/48870",
            "title": "[7-0-stable] Fix AM::Error.full_message to remove \":base\"",
            "date_modified": "2023-08-02T11:00:59.000Z",
            "date_published": "2023-08-02T10:46:34.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/46098928?u=4486404980d3ba5e106b1173e4beaa9b0af96d1c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">When configuring ActiveStorage with resolve_model_to_route in rails_storage_proxy, you would expect a CDN such as CloudFlare to cache the files. However, in the case of CloudFlare, by default, anything that has session cookies will not cache them. To work around this you can use custom rules or patch these ActiveStorage proxy controllers.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Session now is disabled in <code class=\"notranslate\">ActiveStorage::Blobs::ProxyController</code> and <code class=\"notranslate\">ActiveStorage::Representations::ProxyController</code>, including the new concern <code class=\"notranslate\">ActiveStorage::DisableSession</code> in both controllers that does the work.</p>\n<p dir=\"auto\">This way it will not be necessary to create custom rules and works by default.</p>\n<p dir=\"auto\">Thanks to <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/fleck/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/fleck\">@fleck</a> for the idea in this <a href=\"https://github.com/rails/rails/pull/34477#issuecomment-660490231\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/34477/hovercard\">comment</a>.</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #44136.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1097884685\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/44136\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/44136/hovercard\" href=\"https://github.com/rails/rails/issues/44136\">#44136</a></p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">I'm not sure if or how to test this, because there is no way to access the session in <code class=\"notranslate\">ActionDispatch::IntegrationTest</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48869",
            "title": "Disable session in ActiveStorage blobs and representations proxy controllers",
            "date_modified": "2023-08-02T13:17:03.000Z",
            "date_published": "2023-08-02T04:31:37.000Z",
            "author": {
                "name": "brunoprietog",
                "url": "https://github.com/brunoprietog"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1218868?u=2205d40bade58ddc23b3f2ee7ee42774376cfd8f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Lots of CI tools support showing a failure screenshot somewhere in their UI (e.g. GitLab). I want to persist the screenshot path so these tools can pick up the screenshot and visually display it.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper</code> to save the screenshot path in the test metadata on failure.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">Bumping <code class=\"notranslate\">minitest</code> to <code class=\"notranslate\">5.19.0</code> is required because the metadata changes were added in then.</p>\n<p dir=\"auto\"><a href=\"https://github.com/minitest/minitest/blob/master/History.rdoc#5190--2023-07-26-\">https://github.com/minitest/minitest/blob/master/History.rdoc#5190--2023-07-26-</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48863",
            "title": "Save screenshot path on system test failure",
            "date_modified": "2023-08-02T13:08:50.000Z",
            "date_published": "2023-08-01T13:30:42.000Z",
            "author": {
                "name": "matteeyah",
                "url": "https://github.com/matteeyah"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/96156234?u=9ced8d6ac6128a8dea78e7f0d9233669ff0ffecf&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This fix corrects the logic in both the associated and missing methods. If the reflection.options hash has a key/value pair for :class_name it will use the association. This <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #48651.\">fixes</span> <a href=\"https://github.com/rails/rails/issues/48651\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48651/hovercard\">48651</a> which was not returning the correct value when using an enum association and querying for a record that had one key of the enum but was missing another. This also <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #44964.\">fixes</span> <a href=\"https://github.com/rails/rails/issues/44964\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/44964/hovercard\">44964</a> where ActiveRecord was not properly aliasing self-referencing relations. If the reflection.options doesnâ€™t contain the key/value pair then it will use the reflection.table_name. This <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #47909.\">fixes</span>  <a href=\"https://github.com/rails/rails/issues/47909\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/47909/hovercard\">47909</a> in which a user was trying to find records that were either missing a relation or were missing a relation that was ordered or unscoped or were missing a relation that was using extends in the query which resulted in an ActiveRecord Exception. It also allows for using extends in any of these capacities.</p>\n<ul dir=\"auto\">\n<li>[ X] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li>[X ] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li>[ X] Tests are added or updated if you fix a bug or add a feature.</li>\n<li>[X ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48861",
            "title": "Fixes #47909 when using order or unscope",
            "date_modified": "2023-08-02T15:50:23.000Z",
            "date_published": "2023-08-01T02:51:35.000Z",
            "author": {
                "name": "paulreece",
                "url": "https://github.com/paulreece"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The naming difference between the test harness' <a href=\"https://edgeapi.rubyonrails.org/classes/ActiveSupport/Testing/FileFixtures.html#method-i-file_fixture\" rel=\"nofollow\">file_fixture</a> helper made available through Active Support (along with the <code class=\"notranslate\">file_fixture_path</code> configuration value) and the integration test harness' <a href=\"https://edgeapi.rubyonrails.org/classes/ActionDispatch/TestProcess/FixtureFile.html#method-i-fixture_file_upload\" rel=\"nofollow\">fixture_file_upload</a> is a constant source of confusion and surprise.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Since Active Support is more ubiquitous, this commit renames the <code class=\"notranslate\">fixture_file_upload</code> method to <code class=\"notranslate\">file_fixture_upload</code> to match the order of words in <code class=\"notranslate\">file_fixture</code> and <code class=\"notranslate\">file_fixture_path</code>.</p>\n<p dir=\"auto\">To preserve backwards compatibility, declare a <code class=\"notranslate\">fixture_file_upload</code> alias to be preserved into the future (or removed at a future point in time).</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48857",
            "title": "Rename `fixture_file_upload` method to `file_fixture_upload`",
            "date_modified": "2023-08-01T14:20:21.000Z",
            "date_published": "2023-07-31T12:42:06.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created to <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #44792.\">fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1185054594\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/44792\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/44792/hovercard\" href=\"https://github.com/rails/rails/issues/44792\">#44792</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">ActiveRecord::Relation#_exec_scope</code> to prevent re-scoping on a previously added class method scope when it's already in scope, similar to how this is handled with named scopes.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48856",
            "title": "[Fix #44792] Fix chaining class method scopes leaking into querying methods",
            "date_modified": "2023-07-31T14:25:14.000Z",
            "date_published": "2023-07-31T12:30:34.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created to <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #48841.\">fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1826860569\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48841\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48841/hovercard\" href=\"https://github.com/rails/rails/issues/48841\">#48841</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request updates <code class=\"notranslate\">#destroy</code> to only run <code class=\"notranslate\">before</code> and <code class=\"notranslate\">around</code> destroy callbacks when destroying a non-persisted record.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">None.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48853",
            "title": "[Fix #48841] Skip after destroy callbacks on non-persisted records",
            "date_modified": "2023-07-31T05:07:57.000Z",
            "date_published": "2023-07-31T02:49:00.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/56448?u=42517a892806e83071cd0cede2a73526ddf760b1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created to <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #43638.\">fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1052295821\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/43638\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/43638/hovercard\" href=\"https://github.com/rails/rails/issues/43638\">#43638</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">When a new namespaced model is generated and the namespace is equal to the existing model, the generated tests fail because, in such case, fixtures are generated and loaded incorrectly.</p>\n<p dir=\"auto\">There is a possibility to place model fixtures in subdirectories, so for <code class=\"notranslate\">Customer</code> model, we can place fixtures in <code class=\"notranslate\">test/fixtures/customers.yml</code> and <code class=\"notranslate\">test/fixtures/customers/*.yml</code>. This is a problem when there is a namespaced model, for example <code class=\"notranslate\">Customers::Categories</code> because the default fixture is placed in <code class=\"notranslate\">test/fixtures/customers/categories.yml</code> and is loaded incorrectly.</p>\n<p dir=\"auto\">This change adds <code class=\"notranslate\">model_class</code> to fixtures generated for namespaced models and skips loading namespaced fixtures while a model class mismatch is detected.</p>\n\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48849",
            "title": "[Fix #43638] Fix fixtures for namespaced models",
            "date_modified": "2023-07-29T13:26:16.000Z",
            "date_published": "2023-07-29T13:21:06.000Z",
            "author": {
                "name": "macuk",
                "url": "https://github.com/macuk"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/509837?u=697e4a265d5359363a5d57a24b07f9a79cb0b08a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I'd like to add support for <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1196712633\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/globalid/issues/141\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/globalid/issues/141/hovercard\" href=\"https://github.com/rails/globalid/issues/141\">rails/globalid#141</a>. As noted in that issue, the <code class=\"notranslate\">expired?</code> method needs to be added to Active Support first. This PR adds it.</p>\n<h3 dir=\"auto\">Detail</h3>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"verifier = ActiveSupport::MessageVerifier.new(&quot;secret&quot;)\nmessage = verifier.generate(&quot;hello&quot;, expires_at: Time.now.tomorrow)\nverifier.expired?(message) # false\n# 24 hours later...\nverifier.expired?(message) # true\"><pre class=\"notranslate\"><span class=\"pl-s1\">verifier</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">ActiveSupport</span>::<span class=\"pl-v\">MessageVerifier</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"secret\"</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">message</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">verifier</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">generate</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"hello\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">expires_at</span>: <span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">now</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">tomorrow</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">verifier</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">expired?</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">message</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\"># false</span>\n<span class=\"pl-c\"># 24 hours later...</span>\n<span class=\"pl-s1\">verifier</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">expired?</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">message</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\"># true</span></pre></div>",
            "url": "https://github.com/rails/rails/pull/48820",
            "title": "Add `ActiveSupport::MessageVerifier#expired?`",
            "date_modified": "2023-08-02T16:07:20.000Z",
            "date_published": "2023-07-27T07:27:56.000Z",
            "author": {
                "name": "ghiculescu",
                "url": "https://github.com/ghiculescu"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This address the bug identified in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1561049658\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47171\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/47171/hovercard\" href=\"https://github.com/rails/rails/issues/47171\">#47171</a>, which is occurs when an autosave is triggered in a before_create, resulting in a the create callbacks occurring twice. The second time on a record that was already persisted, but since there are no attributes changed (it's a clean record), the new record receives the default values.</p>\n<p dir=\"auto\">Now when an autosave occurs in a before_create, we run the update callbacks as well as any create callbacks to avoid confusing situation.</p>\n<h3 dir=\"auto\">Alternatives Considered</h3>\n<h4 dir=\"auto\">1) Call an aliased method <code class=\"notranslate\">_update_record_without_callbacks</code> and return</h4>\n<p dir=\"auto\">This would avoid creating the duplicate record, but may surprise the developer if any <code class=\"notranslate\">after_*</code> callbacks they were expecting didn't occur.</p>\n<p dir=\"auto\">We wanted to retain that same guarantee.</p>\n<h4 dir=\"auto\">2) Raise if the record is already persisted</h4>\n<p dir=\"auto\">The previous behavior of creating multiple records may have simply gone unnoticed to users, and raising would be a breaking change.</p>\n<p dir=\"auto\">We could roll out that behavior behind a flag and deprecation warning, but we wanted to try and solve for this edge-case.</p>\n<h4 dir=\"auto\">3) Return if record is already persisted and no dirty changes</h4>\n<p dir=\"auto\">Similar to the second option, silently allowing this behavior to change could have unexpected consequences.</p>\n<p dir=\"auto\">The interesting thing was also non of the Active Record tests failed if we just stopped the callback chain there.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #47171.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1561049658\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47171\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/47171/hovercard\" href=\"https://github.com/rails/rails/issues/47171\">#47171</a></p>",
            "url": "https://github.com/rails/rails/pull/48804",
            "title": "Change lanes to update callbacks when an autosaved record already exists",
            "date_modified": "2023-07-26T04:24:53.000Z",
            "date_published": "2023-07-26T04:05:40.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2661?u=7639a5a525578b2a1cb4231a04e720645eeec96b&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h4 dir=\"auto\">Motivation</h4>\n<p dir=\"auto\">I was bitten by a subtle bug where code was depending on the order of records being returned by <code class=\"notranslate\">.find</code>, however turns out <code class=\"notranslate\">reorder(\"\")</code> does not actually clear the order scope, which meant that the order of results was not the order of the ids being passed in.</p>\n<p dir=\"auto\">This change makes it clearer what is required to have records be returned in order.</p>",
            "url": "https://github.com/rails/rails/pull/48799",
            "title": "Clarify on how to return records in order of ids in ActiveRecord",
            "date_modified": "2023-08-02T15:59:42.000Z",
            "date_published": "2023-07-25T07:01:29.000Z",
            "author": {
                "name": "chendo",
                "url": "https://github.com/chendo"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2439912?u=608c1cefdc88b469df75e0de3f48c95bdc5ba48e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Strict loading in <code class=\"notranslate\">:n_plus_one_only</code> mode is designed to prevent performance issues when deeply traversing associations. It allows <code class=\"notranslate\">Person.find(1).posts</code>, but <em>not</em> <code class=\"notranslate\">Person.find(1).posts.map(&amp;:category)</code>. This fix avoids the surprise that occurs when <code class=\"notranslate\">person.posts.first</code> eagerly loads the whole association rather than allowing the user to manage the child association.</p>\n<p dir=\"auto\">This fixes a serious correctness issue as well. Without strict loading, <code class=\"notranslate\">person.posts.first</code> is guaranteed to return the first post in primary key order. On the other hand, <code class=\"notranslate\">person.posts.load.first</code> is nondeterministic. The database is not guaranteed to return in a consistent order, in particular under load with other operations occurring. This is a rude surprise when trying to use <code class=\"notranslate\">:n_plus_one_only</code> mode.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Before:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"person = Person.find(1)\nperson.strict_loading!(mode: :n_plus_one_only)\nperson.posts.first\n# SELECT * FROM posts WHERE person_id = 1;\"><pre class=\"notranslate\"><span class=\"pl-s1\">person</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">strict_loading!</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">mode</span>: <span class=\"pl-pds\">:n_plus_one_only</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">posts</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">first</span>\n<span class=\"pl-c\"># SELECT * FROM posts WHERE person_id = 1;</span></pre></div>\n<p dir=\"auto\">After:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"person = Person.find(1)\nperson.strict_loading!(mode: :n_plus_one_only)\nperson.posts.first # this is 1+1, not N+1\n# SELECT * FROM posts WHERE person_id = 1 ORDER BY id LIMIT 1;\"><pre class=\"notranslate\"><span class=\"pl-s1\">person</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">strict_loading!</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">mode</span>: <span class=\"pl-pds\">:n_plus_one_only</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">posts</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">first</span> <span class=\"pl-c\"># this is 1+1, not N+1</span>\n<span class=\"pl-c\"># SELECT * FROM posts WHERE person_id = 1 ORDER BY id LIMIT 1;</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48785",
            "title": "Fix child association loading in `:n_plus_one_only` mode",
            "date_modified": "2023-07-31T15:08:48.000Z",
            "date_published": "2023-07-21T21:44:39.000Z",
            "author": {
                "name": "reid-rigo",
                "url": "https://github.com/reid-rigo"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/111346?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation</h3>\n<p dir=\"auto\">The SMTP envelope recipient usually reflects the <code class=\"notranslate\">To</code>, <code class=\"notranslate\">Cc</code> and <code class=\"notranslate\">Bcc</code> email headers. The mailer preview only shows SMTP the envelope recipient (SMTP-To) if it differs from <code class=\"notranslate\">To</code>, but it does not take Cc and Bcc into account.</p>\n<p dir=\"auto\">Screenshot:<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/111346/255164062-5ea59067-4c5c-480e-b550-e22ecfdc306c.png\"><img src=\"https://user-images.githubusercontent.com/111346/255164062-5ea59067-4c5c-480e-b550-e22ecfdc306c.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request extends the check for SMTP-To to cover also <code class=\"notranslate\">Cc</code> and <code class=\"notranslate\">Bcc</code>, so it is only displayed in the rare event that the envelope recipient has been manually overriden.</p>\n<p dir=\"auto\">Also, show the list of email addresses without array brackets and quotes.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48782",
            "title": "Only show SMTP envelope recipient when relevant",
            "date_modified": "2023-07-25T11:18:47.000Z",
            "date_published": "2023-07-21T17:03:49.000Z",
            "author": {
                "name": "c960657",
                "url": "https://github.com/c960657"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/282447?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The current code for commands such as <code class=\"notranslate\">credentials:edit</code> detects whether $EDITOR or $VISUAL are set, and tells the developer to set them to something like <code class=\"notranslate\">EDITOR=mate --wait</code> if they are not. On systems where $EDITOR is set, but it launches a forking process, the message is not displayed and may never be seen by the developer.</p>\n<h3 dir=\"auto\">Description</h3>\n<p dir=\"auto\">This change detects whether the editor for commands like <code class=\"notranslate\">credentials:edit</code> exits in less than one second, such as when <code class=\"notranslate\">EDITOR</code> is set to <code class=\"notranslate\">mate</code> without the wait flag. This is a sign that the editor process is forking and exited immediately, and that the developer didn't have a chance to edit the file.</p>\n<p dir=\"auto\">If an immediate exit is detected, a message is printed that the editor command should be changed to wait instead of exiting.</p>",
            "url": "https://github.com/rails/rails/pull/48781",
            "title": "Detect if the editor is missing a wait flag and print a warning",
            "date_modified": "2023-07-21T16:40:49.000Z",
            "date_published": "2023-07-21T16:37:31.000Z",
            "author": {
                "name": "LukasSkywalker",
                "url": "https://github.com/LukasSkywalker"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/3387?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Docs improvements for <code class=\"notranslate\">ActiveRecord::TransactionRollbackError</code> and subclasses after some discussions today.</p>",
            "url": "https://github.com/rails/rails/pull/48780",
            "title": "Improve the docs of ActiveRecord::TransactionRollbackError",
            "date_modified": "2023-07-24T17:31:42.000Z",
            "date_published": "2023-07-21T16:07:39.000Z",
            "author": {
                "name": "fxn",
                "url": "https://github.com/fxn"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/99191?u=b51def86ad06a2d410dcc6d8626af09fe47e5793&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Seeing this error on rake tasks that calls CheckPending</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"wrong number of arguments (given 2, expected 1)\n#&lt;ArgumentError: wrong number of arguments (given 2, expected 1)&gt;\"><pre class=\"notranslate\"><code class=\"notranslate\">wrong number of arguments (given 2, expected 1)\n#&lt;ArgumentError: wrong number of arguments (given 2, expected 1)&gt;\n</code></pre></div>\n<p dir=\"auto\">This is the stack trace, I have not found a bad call, it appears to come from directly from the rails stack. Thus, I came up with this \"fix\".</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"3.2.0/gems/activerecord-7.0.5.1/lib/active_record/migration.rb:584:in `initialize'\n3.2.0/gems/actionpack-7.0.5.1/lib/action_dispatch/middleware/stack.rb:37:in `new'\n3.2.0/gems/actionpack-7.0.5.1/lib/action_dispatch/middleware/stack.rb:37:in `build'\n3.2.0/gems/actionpack-7.0.5.1/lib/action_dispatch/middleware/stack.rb:166:in `block in build'\n3.2.0/gems/actionpack-7.0.5.1/lib/action_dispatch/middleware/stack.rb:162:in `each'\n3.2.0/gems/actionpack-7.0.5.1/lib/action_dispatch/middleware/stack.rb:162:in `inject'\n3.2.0/gems/actionpack-7.0.5.1/lib/action_dispatch/middleware/stack.rb:162:in `build'\n3.2.0/gems/railties-7.0.5.1/lib/rails/engine.rb:516:in `block in app'\n3.2.0/gems/railties-7.0.5.1/lib/rails/engine.rb:512:in `synchronize'\n3.2.0/gems/railties-7.0.5.1/lib/rails/engine.rb:512:in `app'\n3.2.0/gems/railties-7.0.5.1/lib/rails/application/finisher.rb:52:in `block in &lt;module:Finisher&gt;'\n3.2.0/gems/railties-7.0.5.1/lib/rails/initializable.rb:32:in `instance_exec'\n3.2.0/gems/railties-7.0.5.1/lib/rails/initializable.rb:32:in `run'\n3.2.0/gems/railties-7.0.5.1/lib/rails/initializable.rb:61:in `block in run_initializers'\n3.2.0/tsort.rb:228:in `block in tsort_each'\n3.2.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'\n3.2.0/tsort.rb:431:in `each_strongly_connected_component_from'\n3.2.0/tsort.rb:349:in `block in each_strongly_connected_component'\n3.2.0/tsort.rb:347:in `each'\n3.2.0/tsort.rb:347:in `call'\n3.2.0/tsort.rb:347:in `each_strongly_connected_component'\n3.2.0/tsort.rb:226:in `tsort_each'\n3.2.0/tsort.rb:205:in `tsort_each'\n3.2.0/gems/railties-7.0.5.1/lib/rails/initializable.rb:60:in `run_initializers'\n3.2.0/gems/railties-7.0.5.1/lib/rails/application.rb:372:in `initialize!'\n/personal_application/config/environment.rb:6:in `&lt;top (required)&gt;'\n3.2.0/rubygems/core_ext/kernel_require.rb&gt;:37:in `require'\n3.2.0/rubygems/core_ext/kernel_require.rb&gt;:37:in `require'\n3.2.0/gems/zeitwerk-2.6.8/lib/zeitwerk/kernel.rb:38:in `require'\n3.2.0/gems/railties-7.0.5.1/lib/rails/application.rb:348:in `require_environment!'\n3.2.0/gems/railties-7.0.5.1/lib/rails/application.rb:506:in `block in run_tasks_blocks'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `block in execute'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `each'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `execute'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:219:in `block in invoke_with_call_chain'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `synchronize'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `invoke_with_call_chain'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:243:in `block in invoke_prerequisites'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:241:in `each'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:241:in `invoke_prerequisites'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:218:in `block in invoke_with_call_chain'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `synchronize'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `invoke_with_call_chain'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:243:in `block in invoke_prerequisites'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:241:in `each'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:241:in `invoke_prerequisites'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:218:in `block in invoke_with_call_chain'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `synchronize'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `invoke_with_call_chain'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:188:in `invoke'\"><pre class=\"notranslate\"><code class=\"notranslate\">3.2.0/gems/activerecord-7.0.5.1/lib/active_record/migration.rb:584:in `initialize'\n3.2.0/gems/actionpack-7.0.5.1/lib/action_dispatch/middleware/stack.rb:37:in `new'\n3.2.0/gems/actionpack-7.0.5.1/lib/action_dispatch/middleware/stack.rb:37:in `build'\n3.2.0/gems/actionpack-7.0.5.1/lib/action_dispatch/middleware/stack.rb:166:in `block in build'\n3.2.0/gems/actionpack-7.0.5.1/lib/action_dispatch/middleware/stack.rb:162:in `each'\n3.2.0/gems/actionpack-7.0.5.1/lib/action_dispatch/middleware/stack.rb:162:in `inject'\n3.2.0/gems/actionpack-7.0.5.1/lib/action_dispatch/middleware/stack.rb:162:in `build'\n3.2.0/gems/railties-7.0.5.1/lib/rails/engine.rb:516:in `block in app'\n3.2.0/gems/railties-7.0.5.1/lib/rails/engine.rb:512:in `synchronize'\n3.2.0/gems/railties-7.0.5.1/lib/rails/engine.rb:512:in `app'\n3.2.0/gems/railties-7.0.5.1/lib/rails/application/finisher.rb:52:in `block in &lt;module:Finisher&gt;'\n3.2.0/gems/railties-7.0.5.1/lib/rails/initializable.rb:32:in `instance_exec'\n3.2.0/gems/railties-7.0.5.1/lib/rails/initializable.rb:32:in `run'\n3.2.0/gems/railties-7.0.5.1/lib/rails/initializable.rb:61:in `block in run_initializers'\n3.2.0/tsort.rb:228:in `block in tsort_each'\n3.2.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'\n3.2.0/tsort.rb:431:in `each_strongly_connected_component_from'\n3.2.0/tsort.rb:349:in `block in each_strongly_connected_component'\n3.2.0/tsort.rb:347:in `each'\n3.2.0/tsort.rb:347:in `call'\n3.2.0/tsort.rb:347:in `each_strongly_connected_component'\n3.2.0/tsort.rb:226:in `tsort_each'\n3.2.0/tsort.rb:205:in `tsort_each'\n3.2.0/gems/railties-7.0.5.1/lib/rails/initializable.rb:60:in `run_initializers'\n3.2.0/gems/railties-7.0.5.1/lib/rails/application.rb:372:in `initialize!'\n/personal_application/config/environment.rb:6:in `&lt;top (required)&gt;'\n3.2.0/rubygems/core_ext/kernel_require.rb&gt;:37:in `require'\n3.2.0/rubygems/core_ext/kernel_require.rb&gt;:37:in `require'\n3.2.0/gems/zeitwerk-2.6.8/lib/zeitwerk/kernel.rb:38:in `require'\n3.2.0/gems/railties-7.0.5.1/lib/rails/application.rb:348:in `require_environment!'\n3.2.0/gems/railties-7.0.5.1/lib/rails/application.rb:506:in `block in run_tasks_blocks'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `block in execute'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `each'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `execute'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:219:in `block in invoke_with_call_chain'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `synchronize'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `invoke_with_call_chain'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:243:in `block in invoke_prerequisites'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:241:in `each'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:241:in `invoke_prerequisites'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:218:in `block in invoke_with_call_chain'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `synchronize'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `invoke_with_call_chain'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:243:in `block in invoke_prerequisites'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:241:in `each'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:241:in `invoke_prerequisites'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:218:in `block in invoke_with_call_chain'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `synchronize'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `invoke_with_call_chain'\n3.2.0/gems/rake-13.0.6/lib/rake/task.rb:188:in `invoke'\n</code></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">I am adding a <code class=\"notranslate\">*args</code> to CheckPending, because it is being sent by <a href=\"https://github.com/rails/rails/blob/7-0-stable/actionpack/lib/action_dispatch/middleware/stack.rb#L37\">https://github.com/rails/rails/blob/7-0-stable/actionpack/lib/action_dispatch/middleware/stack.rb#L37</a></p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Test and Changelog update pending.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48768",
            "title": "Fix migration.rb#CheckPending coming from stack.rb",
            "date_modified": "2023-07-21T05:08:54.000Z",
            "date_published": "2023-07-19T23:16:56.000Z",
            "author": {
                "name": "mathieujobin",
                "url": "https://github.com/mathieujobin"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/111346?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">In the all header view in email previews, header names may wrap if the header value is very long (see screenshot). Header names are usually short, so I suggest we don't wrap those.</p>\n<h3 dir=\"auto\">Screenshot</h3>\n<h4 dir=\"auto\">Before</h4>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/111346/254726207-d1949ad5-2a3d-4c3a-9f25-cd55b3b272a4.png\"><img width=\"668\" alt=\"image\" src=\"https://user-images.githubusercontent.com/111346/254726207-d1949ad5-2a3d-4c3a-9f25-cd55b3b272a4.png\" style=\"max-width: 100%;\"></a>\n<h4 dir=\"auto\">After</h4>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/111346/254726146-72cb2aea-55bd-4e38-8e78-307d500dc512.png\"><img width=\"731\" alt=\"image\" src=\"https://user-images.githubusercontent.com/111346/254726146-72cb2aea-55bd-4e38-8e78-307d500dc512.png\" style=\"max-width: 100%;\"></a>\n<h3 dir=\"auto\">Checklist</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li>[n/a] Tests are added or updated if you fix a bug or add a feature.</li>\n<li>[n/a] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48767",
            "title": "Prevent header wrapping in email preview",
            "date_modified": "2023-07-21T11:40:33.000Z",
            "date_published": "2023-07-19T22:33:35.000Z",
            "author": {
                "name": "c960657",
                "url": "https://github.com/c960657"
            }
        }
    ]
}