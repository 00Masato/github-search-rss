{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/432189?u=506d1970ba73221b27c114e09ac18fc34a1dccc0&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Followup to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2112546336\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50938\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50938/hovercard\" href=\"https://github.com/rails/rails/pull/50938\">#50938</a>.</p>\n<p dir=\"auto\"><del>QueryCache::ConnectionPoolConfiguration is prepended to ConnectionPool and its <code class=\"notranslate\">prune_thread_cache</code> method doesn't call super, so this method was never called. It's also unnecessary: reaped connections are already removed from <code class=\"notranslate\">@thread_cached_conns</code> by the <code class=\"notranslate\">remove_connection_from_thread_cache</code> call in <code class=\"notranslate\">steal!</code>.</del></p>",
            "url": "https://github.com/rails/rails/pull/51085",
            "title": "Add missing super in prune_thread_cache method",
            "date_modified": "2024-02-14T16:53:12.000Z",
            "date_published": "2024-02-14T16:04:54.000Z",
            "author": {
                "name": "eugeneius",
                "url": "https://github.com/eugeneius"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/41361100?u=cd2a9b0270a884579970aa58d204befb6d0d9f86&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Prevents conflicts by only setting LD_PRELOAD if it's not already defined, the script avoids potential issues with overriding existing values and ensures compatibility with other tools or libraries that might rely on specific LD_PRELOAD settings.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This pull request proposes a change to the Docker entrypoint script in the Rails codebase to prevent potential issues with overriding the LD_PRELOAD environment variable if it's already set.</p>\n<p dir=\"auto\">The current script includes a line that sets LD_PRELOAD to include the path to libjemalloc.so.2 if the library exists. However, this approach doesn't consider the possibility that LD_PRELOAD might already be defined with other values for different purposes. In such cases, blindly appending libjemalloc.so.2 could lead to unexpected behavior or conflicts.</p>\n<p dir=\"auto\">To address this concern, the pull request introduces a modification that checks if LD_PRELOAD is already set before adding libjemalloc.so.2. This ensures that the existing value remains intact while still allowing the inclusion of jemalloc if it's not already present.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51084",
            "title": "Dont override LD_PRELOAD value",
            "date_modified": "2024-02-14T13:27:03.000Z",
            "date_published": "2024-02-14T13:26:59.000Z",
            "author": {
                "name": "anonychun",
                "url": "https://github.com/anonychun"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/19192189?u=dd60737844a9db7f1475bab21fc3e5258a405e15&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><del>Debugging why a CI job get stuck is particularly painful as the output doesn't contain any information whatsoever.</del></p>\n<p dir=\"auto\"><del>By enabling <code class=\"notranslate\">--verbose</code> we ensure the last line of the CI job is the name of the test that got stuck, helping debug.</del></p>\n<p dir=\"auto\">Similarly, it's hard to figure out why a particular job is slow, so enabling <code class=\"notranslate\">--profile</code> would make it easy to spot some low hanging fruits to improve CI speed.</p>\n<p dir=\"auto\">Edit: <code class=\"notranslate\">--verbose</code> is a bit too much, so leaving it out for now.</p>",
            "url": "https://github.com/rails/rails/pull/51080",
            "title": "Run tests with `--profile` on CI",
            "date_modified": "2024-02-14T13:18:21.000Z",
            "date_published": "2024-02-14T10:30:08.000Z",
            "author": {
                "name": "casperisfine",
                "url": "https://github.com/casperisfine"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/60958871?u=6bb040ef46f49caf975a7d884ff0951b56134008&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><strong>Motivation / Background</strong><br>\nCurrently, the <code class=\"notranslate\">where.associated</code> method in Rails allows filtering associated records but only with an inner join. This Pull Request aims to enhance <code class=\"notranslate\">where.associated</code> by supporting additional join types, namely <code class=\"notranslate\">joins, left_joins and left_outer_joins</code></p>\n<p dir=\"auto\"><code class=\"notranslate\">Post.where.associated(join_type: :left_joins, :author)</code></p>\n<p dir=\"auto\">This will provide developers with increased flexibility when querying associated data. It enables scenarios like:</p>\n<p dir=\"auto\">Fetching posts with authors, even if some posts have no author assigned. (left_joins)<br>\nRetrieving comments associated with specific users, including orphaned comments without a user. (using multiple joins with different types).</p>\n<p dir=\"auto\"><strong>Detail</strong><br>\nThis Pull Request proposes modifications to:</p>\n<p dir=\"auto\">Extend <code class=\"notranslate\">where.associated</code> to accept a <code class=\"notranslate\">join_type</code> argument along with the association names.<br>\nImplement logic for handling different join types.</p>\n<p dir=\"auto\"><strong>Additional Information</strong><br>\nThis change aligns with common needs expressed by Rails developers on forums and discussions. Similar functionality exists in some popular ORM extensions, demonstrating its usefulness. The implementation strives to maintain clarity and consistency within the existing codebase.</p>\n<p dir=\"auto\">Note: This is a draft description and should be adapted to your specific implementation details and the project's context.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51078",
            "title": "Add support join types in where.associated method",
            "date_modified": "2024-02-14T06:23:25.000Z",
            "date_published": "2024-02-14T06:16:01.000Z",
            "author": {
                "name": "saleh-alhaddad",
                "url": "https://github.com/saleh-alhaddad"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/41361100?u=cd2a9b0270a884579970aa58d204befb6d0d9f86&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Currently, the Rails setup script only supports yarn as the package manager. This limits users who prefer pnpm or npm and can create friction during project bootstrapping.</p>\n<p dir=\"auto\">Providing official support for both these package managers would:</p>\n<ul dir=\"auto\">\n<li>Enhance user experience and choice: Cater to a wider range of developer preferences, enabling seamless project initialization regardless of package manager preference.</li>\n<li>Promote inclusivity and flexibility: Embrace the diversity of tooling choices within the community.</li>\n</ul>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This pull request adds support for pnpm and npm to the Rails setup script in the following ways:</p>\n<ul dir=\"auto\">\n<li>pnpm:\n<ul dir=\"auto\">\n<li>Detects existing pnpm-lock.yaml file for initialization.</li>\n<li>Installs dependencies using pnpm install --verify --lockfile.</li>\n</ul>\n</li>\n<li>npm:\n<ul dir=\"auto\">\n<li>Detects existing package-lock.json file for initialization.</li>\n<li>Installs dependencies using npm install.</li>\n</ul>\n</li>\n</ul>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51077",
            "title": "Add PNPM and NPM support in bin/setup script",
            "date_modified": "2024-02-14T12:03:42.000Z",
            "date_published": "2024-02-14T05:36:22.000Z",
            "author": {
                "name": "anonychun",
                "url": "https://github.com/anonychun"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/8813886?u=ee98f4955f20293ff922bdc55d7ee1945e365fcb&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Solving <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2132791988\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51067\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51067/hovercard\" href=\"https://github.com/rails/rails/issues/51067\">#51067</a></p>\n<p dir=\"auto\">I'm only familiar with writing rails tests in rspec, I wrote a test after skimming the other syntax in the file but please let me know if there is a better way. <code class=\"notranslate\">record.reload</code> should raise an exception if the record was deleted by <code class=\"notranslate\">create_table</code> dropping the table.</p>\n<div class=\"markdown-alert markdown-alert-note\" dir=\"auto\"><p class=\"markdown-alert-title\" dir=\"auto\"><svg class=\"octicon octicon-info mr-2\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z\"></path></svg>Note</p><p dir=\"auto\">Currently limited to a web editor so I don't have the ability to squash commits or run the full test suite, will try to grab some time to clean up the branch and validate tests when my personal machine is accessible</p>\n</div>\n\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2132791988\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51067\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51067/hovercard\" href=\"https://github.com/rails/rails/issues/51067\">#51067</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">create_table</code> to ignore the <code class=\"notranslate\">force</code> option (which drops the table) if the <code class=\"notranslate\">if_not_exists</code> option is present</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">If you copy a <code class=\"notranslate\">create_table</code> migration from a schema dump and add the <code class=\"notranslate\">if_not_exists</code> guard but forget to remove <code class=\"notranslate\">force</code>, it will drop your table when you migrate it.</p>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51071",
            "title": "Fix #51067 create_table if_not_exists guard S prevent force drop_table",
            "date_modified": "2024-02-14T16:40:57.000Z",
            "date_published": "2024-02-13T18:20:19.000Z",
            "author": {
                "name": "allisonphillips",
                "url": "https://github.com/allisonphillips"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/7265?u=4e4b392ac516396a83c93a4777886c7690a9b332&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">With a bi-directional has one through association, where the join model belongs to each parent with <code class=\"notranslate\">dependent: :destroy</code>, destroying either parent should destroy the through record and the other parent.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"class Left &lt; ActiveRecord::Base\n  has_one :middle, dependent: :destroy\n  has_one :right, through: :middle\nend\n\nclass Middle &lt; ActiveRecord::Base\n  belongs_to :left, dependent: :destroy\n  belongs_to :right, dependent: :destroy\nend\n\nclass Right &lt; ActiveRecord::Base\n  has_one :middle, dependent: :destroy\n  has_one :left, through: :middle\nend\"><pre class=\"notranslate\"><code class=\"notranslate\">class Left &lt; ActiveRecord::Base\n  has_one :middle, dependent: :destroy\n  has_one :right, through: :middle\nend\n\nclass Middle &lt; ActiveRecord::Base\n  belongs_to :left, dependent: :destroy\n  belongs_to :right, dependent: :destroy\nend\n\nclass Right &lt; ActiveRecord::Base\n  has_one :middle, dependent: :destroy\n  has_one :left, through: :middle\nend\n</code></pre></div>\n<p dir=\"auto\">However this only worked from one end.  When destroying the \"non-working\" end, the join model was correctly destroyed but the other end was not.</p>\n<p dir=\"auto\">In the example above:</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">right.destroy</code> correctly destroys its <code class=\"notranslate\">middle</code> and its <code class=\"notranslate\">left</code>;</li>\n<li><code class=\"notranslate\">left.destroy</code> destroys its <code class=\"notranslate\">middle</code> but not its <code class=\"notranslate\">right</code>.</li>\n</ul>\n<p dir=\"auto\">The end which worked depended on the order of <code class=\"notranslate\">belongs_to</code> statements in the join model.</p>\n<p dir=\"auto\">This commit ensures that the no matter which end you destroy, the far end is destroyed (along with the join record).</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50948.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2114571381\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50948\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50948/hovercard\" href=\"https://github.com/rails/rails/issues/50948\">#50948</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51066",
            "title": "Fix bi-directional destroying of has_one :through",
            "date_modified": "2024-02-13T21:11:38.000Z",
            "date_published": "2024-02-13T16:52:49.000Z",
            "author": {
                "name": "airblade",
                "url": "https://github.com/airblade"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/716?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">When <code class=\"notranslate\">autosave: true</code> is set on both ends of a relation <code class=\"notranslate\">save</code> and/or <code class=\"notranslate\">valid?</code> can be called more than once removing the changes that just happened during the current <code class=\"notranslate\">save</code> and making <code class=\"notranslate\">previous_changes</code> and empty hash.</p>\n<p dir=\"auto\">Additionally when there is a lot of records in memory save on a sub record can be called a significant amount of times. It seem that the child models are saved and validated in every permutation possible. This PR results in every record being called at most 1 time and can significantly reduce CPU usage and time to save in this situations.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR adds <code class=\"notranslate\">memory</code> to ensure that each record only gets saved and/or validated only once while traversing the autosave tree, ensuring the changes are available after saving via the <code class=\"notranslate\">previous_changes</code> method.</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #28491.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"215455721\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/28491\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/28491/hovercard\" href=\"https://github.com/rails/rails/issues/28491\">#28491</a>.</p>\n<p dir=\"auto\"><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"215455721\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/28491\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/28491/hovercard\" href=\"https://github.com/rails/rails/issues/28491\">#28491</a> suggested adding a variable to avoid clearing the changes on the root record which worked; but would not fix the issue if the two models with the autosave true are related to another separate model that is being saved or updated.</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes pull request #46438.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1438985106\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46438\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/46438/hovercard\" href=\"https://github.com/rails/rails/pull/46438\">#46438</a>.</p>\n<p dir=\"auto\">This PR also supplants <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1438985106\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46438\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/46438/hovercard\" href=\"https://github.com/rails/rails/pull/46438\">#46438</a> and enhances it by being able to work across connections and increase speed by only allowing autosaved child models to be saved or validated only once.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CI is passing.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51065",
            "title": "Autosave changes disappearing and speed improvement",
            "date_modified": "2024-02-14T15:46:52.000Z",
            "date_published": "2024-02-13T16:44:16.000Z",
            "author": {
                "name": "malomalo",
                "url": "https://github.com/malomalo"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/12214617?u=36443f71d6ba951652ddf7301ec814e605e0af64&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">While I was reading the Debugging Rails Applications guide, this typo threw me off and I had to re-read it to understand the intended meaning, so it seems like it's worth fixing. One of the parameter names to the <code class=\"notranslate\">break</code> method in the debug gem was incorrect (badly copy/pasted, I think) in the guide.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">N/A</p>",
            "url": "https://github.com/rails/rails/pull/51064",
            "title": "Fix typo in Debugging Guide [ciskip]",
            "date_modified": "2024-02-13T20:37:46.000Z",
            "date_published": "2024-02-13T15:29:00.000Z",
            "author": {
                "name": "mkasberg",
                "url": "https://github.com/mkasberg"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><a href=\"https://60ed10f7.zzak-rails.pages.dev/\" rel=\"nofollow\">Example deploy</a> made with <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2131421226\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/buildkite-config/issues/89\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/buildkite-config/pull/89/hovercard\" href=\"https://github.com/rails/buildkite-config/pull/89\">rails/buildkite-config#89</a></p>",
            "url": "https://github.com/rails/rails/pull/51055",
            "title": "Add preview_docs rake task for generating API and Guides static site",
            "date_modified": "2024-02-13T04:05:56.000Z",
            "date_published": "2024-02-13T03:56:04.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/108208?u=31587544126ab4506d05644fcccb8621f893ef1b&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #51029.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2127545514\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51029\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51029/hovercard\" href=\"https://github.com/rails/rails/issues/51029\">#51029</a></p>\n\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because the limits for nested attributes didn't reject records marked for destruction.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request ensures records marked for destruction won't interfere on limits.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51054",
            "title": "Do not force limits on nested records marked for destruction.",
            "date_modified": "2024-02-14T00:59:06.000Z",
            "date_published": "2024-02-13T02:02:53.000Z",
            "author": {
                "name": "ruyrocha",
                "url": "https://github.com/ruyrocha"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/509837?u=697e4a265d5359363a5d57a24b07f9a79cb0b08a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">ref: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2122097495\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50992\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50992/hovercard?comment_id=1939865460&amp;comment_type=issue_comment\" href=\"https://github.com/rails/rails/pull/50992#issuecomment-1939865460\">#50992 (comment)</a></p>\n<p dir=\"auto\">This refactors the implementation from that PR so that we don't need a new param on the <code class=\"notranslate\">call_app</code> method. This means we don't break any gems or apps that have overridden it.</p>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/KJTsanaktsidis/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/KJTsanaktsidis\">@KJTsanaktsidis</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/rafaelfranca/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rafaelfranca\">@rafaelfranca</a></p>",
            "url": "https://github.com/rails/rails/pull/51053",
            "title": "Refactor `Rails::Rack::Logger` to avoid adding a new param to `call_app`",
            "date_modified": "2024-02-14T05:24:35.000Z",
            "date_published": "2024-02-13T00:30:46.000Z",
            "author": {
                "name": "ghiculescu",
                "url": "https://github.com/ghiculescu"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/7190681?u=2d6f050dc3d66da04d8df3fb62ed1df570bca4ee&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Expand some documentation and examples for querying across multiple records that implement delegated types.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes documentation in ActiveRecord Delegated Type.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">N/A</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51047",
            "title": "Add query docs for delegated type [ci skip]",
            "date_modified": "2024-02-12T13:30:34.000Z",
            "date_published": "2024-02-12T00:26:49.000Z",
            "author": {
                "name": "johnpitchko",
                "url": "https://github.com/johnpitchko"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #51044.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2128776609\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51044\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51044/hovercard\" href=\"https://github.com/rails/rails/issues/51044\">#51044</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Updates the documented <code class=\"notranslate\">ActiveRecord::QueryMethods#distinct</code> and undocumented <code class=\"notranslate\">ActiveRecord::QueryMethods#distinct!</code> methods to <del>raise an <code class=\"notranslate\">ArgumentError</code></del> log a deprecation warning if given a non-boolean argument.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">None.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51045",
            "title": "[Fix #51044] Deprecate providing a non-boolean argument to `#distinct`",
            "date_modified": "2024-02-13T10:08:18.000Z",
            "date_published": "2024-02-11T00:50:48.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1024162?u=7443111f3ec1e524d7cb892e67f2c68dd128f6fc&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR allows you to set <code class=\"notranslate\">code</code> and <code class=\"notranslate\">reason</code> when closing a WebSocket connection.<br>\nIt's very useful when hacking ActionCable.</p>\n<p dir=\"auto\">In addition, I small refactor the file to avoid potential nil error, I can remove this change.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51043",
            "title": "ActionCable: allow to pass websocket.close args",
            "date_modified": "2024-02-13T23:37:40.000Z",
            "date_published": "2024-02-10T18:19:37.000Z",
            "author": {
                "name": "jasl",
                "url": "https://github.com/jasl"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/61513630?u=320e43fe4dc7bc6efc64e9b8f325f8075634fd20&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The current security guide contains outdated information about the CORS initializer.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51042",
            "title": "docs: Outdated CORS initializer [ci-skip]",
            "date_modified": "2024-02-14T00:41:55.000Z",
            "date_published": "2024-02-10T16:36:27.000Z",
            "author": {
                "name": "lsglucas",
                "url": "https://github.com/lsglucas"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Trying to debug <code class=\"notranslate\">reaper_test.rb</code>.</p>",
            "url": "https://github.com/rails/rails/pull/51038",
            "title": "Debug CI flaky test",
            "date_modified": "2024-02-12T12:37:24.000Z",
            "date_published": "2024-02-10T11:11:44.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">As part of removing the dummy apps, in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2053506521\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50427\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50427/hovercard\" href=\"https://github.com/rails/rails/pull/50427\">#50427</a>, it was suggested to look at ways to improve test coverage from the point of view of Railties.</p>\n<p dir=\"auto\">This PR is a first take at that, and always open to feedback/suggestions ðŸ™‡</p>",
            "url": "https://github.com/rails/rails/pull/51036",
            "title": "Add a basic railtie integration test for Active Storage",
            "date_modified": "2024-02-10T09:34:06.000Z",
            "date_published": "2024-02-10T09:34:02.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/47848?u=41ccf0d1865a17f47d140f73a3293f1f3559fc0f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This will be eager loaded by the <code class=\"notranslate\">define_attribute_methods</code> initializer now that the schema cache can be automatically loaded for all connection if the file is present on disk after <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1799258482\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48716\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48716/hovercard\" href=\"https://github.com/rails/rails/pull/48716\">#48716</a>.</p>",
            "url": "https://github.com/rails/rails/pull/51034",
            "title": "Remove initializer that was eager loading the schema cache dump",
            "date_modified": "2024-02-13T22:47:16.000Z",
            "date_published": "2024-02-09T20:33:24.000Z",
            "author": {
                "name": "rafaelfranca",
                "url": "https://github.com/rafaelfranca"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/99700?u=e57f2b28c7e5ba71d425bc4d4a26192f122125a6&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The Rails documentation does not reflect that the <code class=\"notranslate\">lock_version</code> column must be of type integer.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR adds the required type to the <code class=\"notranslate\">ActiveRecord::Locking::Optimistic</code> documentation.</p>",
            "url": "https://github.com/rails/rails/pull/51016",
            "title": "Document that lock_version column is integer",
            "date_modified": "2024-02-11T17:19:34.000Z",
            "date_published": "2024-02-08T20:03:17.000Z",
            "author": {
                "name": "javierav",
                "url": "https://github.com/javierav"
            }
        }
    ]
}