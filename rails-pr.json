{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/36794420?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Currently, activestorage S3 service supports additional upload options, for example <a href=\"https://docs.aws.amazon.com/sdk-for-ruby/v3/api/Aws/S3/Object.html#put-instance_method\" rel=\"nofollow\">customer-provided server-side encryption keys</a>:</p>\n<div class=\"highlight highlight-source-yaml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# config/storage.yml\ns3:\n  service: S3\n  # ...\n  upload:\n    sse_customer_algorithm: AES256\n    sse_customer_key: KEY\n    sse_customer_key_md5: KEY_MD5\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> config/storage.yml</span>\n<span class=\"pl-ent\">s3</span>:\n  <span class=\"pl-ent\">service</span>: <span class=\"pl-c1\">S3</span>\n  <span class=\"pl-c\"><span class=\"pl-c\">#</span> ...</span>\n  <span class=\"pl-ent\">upload</span>:\n    <span class=\"pl-ent\">sse_customer_algorithm</span>: <span class=\"pl-s\">AES256</span>\n    <span class=\"pl-ent\">sse_customer_key</span>: <span class=\"pl-s\">KEY</span>\n    <span class=\"pl-ent\">sse_customer_key_md5</span>: <span class=\"pl-s\">KEY_MD5</span></pre></div>\n<p dir=\"auto\">Files uploaded with customer-provided keys can only be fetched using those same options again (<a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/ServerSideEncryptionCustomerKeys.html\" rel=\"nofollow\">ref</a>), and they have to be passed to e.g. <a href=\"https://docs.aws.amazon.com/sdk-for-ruby/v3/api/Aws/S3/Object.html#get-instance_method\" rel=\"nofollow\">Aws::S3::Object#get</a>.</p>\n<p dir=\"auto\">Because activestorage supports these options only for upload, and not for download as well, calling <code class=\"notranslate\">Attachment#download</code> results in the following error if you uploaded the file with your own keys:</p>\n<blockquote>\n<p dir=\"auto\">Aws::S3::Errors::InvalidRequest: The object was stored using a form of Server Side Encryption. The correct parameters must be provided to retrieve the object</p>\n</blockquote>\n<p dir=\"auto\">Similarily, <code class=\"notranslate\">S3Service#exist?</code> fails as well if the keys aren't provided, though the error is a bit more ambiguous:</p>\n<blockquote>\n<p dir=\"auto\">Caused by Aws::Waiters::Errors::UnexpectedError: stopped waiting due to an unexpected error: Aws::S3::Errors::BadRequest</p>\n</blockquote>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR adds <code class=\"notranslate\">download</code> key to S3 service configuration, allowing you specify options for downloading files which are passed to relevant S3 methods:</p>\n<div class=\"highlight highlight-source-yaml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# config/storage.yml\ns3:\n  service: S3\n  # ...\n  upload:\n    sse_customer_algorithm: AES256\n    sse_customer_key: KEY\n    sse_customer_key_md5: KEY_MD5\n  download:\n    sse_customer_algorithm: AES256\n    sse_customer_key: KEY\n    sse_customer_key_md5: KEY_MD5\"><pre class=\"notranslate\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> config/storage.yml</span>\n<span class=\"pl-ent\">s3</span>:\n  <span class=\"pl-ent\">service</span>: <span class=\"pl-c1\">S3</span>\n  <span class=\"pl-c\"><span class=\"pl-c\">#</span> ...</span>\n  <span class=\"pl-ent\">upload</span>:\n    <span class=\"pl-ent\">sse_customer_algorithm</span>: <span class=\"pl-s\">AES256</span>\n    <span class=\"pl-ent\">sse_customer_key</span>: <span class=\"pl-s\">KEY</span>\n    <span class=\"pl-ent\">sse_customer_key_md5</span>: <span class=\"pl-s\">KEY_MD5</span>\n  <span class=\"pl-ent\">download</span>:\n    <span class=\"pl-ent\">sse_customer_algorithm</span>: <span class=\"pl-s\">AES256</span>\n    <span class=\"pl-ent\">sse_customer_key</span>: <span class=\"pl-s\">KEY</span>\n    <span class=\"pl-ent\">sse_customer_key_md5</span>: <span class=\"pl-s\">KEY_MD5</span></pre></div>\n<p dir=\"auto\">With these options, <code class=\"notranslate\">Attachment#download</code> (and <code class=\"notranslate\">Attachment#download_chunk</code>) and <code class=\"notranslate\">S3Service#exist?</code> return expected results for objects uploaded with customer-provided SSE keys.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\"><code class=\"notranslate\">download</code> options are passed to <a href=\"https://docs.aws.amazon.com/sdk-for-ruby/v3/api/Aws/S3/Object.html#get-instance_method\" rel=\"nofollow\"><code class=\"notranslate\">Aws::S3::Object#get</code></a>, <a href=\"https://docs.aws.amazon.com/sdk-for-ruby/v3/api/Aws/S3/Object.html#exists%3F-instance_method\" rel=\"nofollow\"><code class=\"notranslate\">Aws::S3::Object#exists?</code></a> and <a href=\"https://docs.aws.amazon.com/sdk-for-ruby/v3/api/Aws/S3/Object.html#head-instance_method\" rel=\"nofollow\"><code class=\"notranslate\">Aws::S3::Object#head</code></a> methods, so the options used must be supported by all three methods.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49540",
            "title": "Add download options to S3 service configuration",
            "date_modified": "2023-10-08T11:20:11.000Z",
            "date_published": "2023-10-08T11:15:00.000Z",
            "author": {
                "name": "lovro-bikic",
                "url": "https://github.com/lovro-bikic"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22231095?u=fc75f9764434943effe06d6c1dc48d40a5003b0c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request updates the rails version from 7.0 to 7.1.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49539",
            "title": "Updated the rails version in 7.0 to 7.1 in guide [skip ci]",
            "date_modified": "2023-10-08T05:41:00.000Z",
            "date_published": "2023-10-08T05:40:56.000Z",
            "author": {
                "name": "akhilgkrishnan",
                "url": "https://github.com/akhilgkrishnan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22231095?u=fc75f9764434943effe06d6c1dc48d40a5003b0c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Follow up: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/ed08eea99f1f4d1bcf0cc46b41b724e9c2d44c36/hovercard\" href=\"https://github.com/rails/rails/commit/ed08eea99f1f4d1bcf0cc46b41b724e9c2d44c36\"><tt>ed08eea</tt></a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request capitalize the framework names.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49538",
            "title": "Capitalize framework names [skip ci]",
            "date_modified": "2023-10-08T06:05:21.000Z",
            "date_published": "2023-10-08T05:21:48.000Z",
            "author": {
                "name": "akhilgkrishnan",
                "url": "https://github.com/akhilgkrishnan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">ForkTracker has beed autoloaded since <a href=\"https://github.com/rails/rails/commit/78b9580e5f3208c7048659de24f2220693afb23c\">before</a> the <a href=\"https://github.com/rails/rails/commit/eba1534939fe1cf005746f12446235bdd52014c1\">require</a> was added.</p>",
            "url": "https://github.com/rails/rails/pull/49537",
            "title": "Remove require of ActiveSupport::ForkTracker",
            "date_modified": "2023-10-08T03:29:27.000Z",
            "date_published": "2023-10-08T03:29:24.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>",
            "url": "https://github.com/rails/rails/pull/49536",
            "title": "Update gem bug report templates to 7.1",
            "date_modified": "2023-10-08T01:16:54.000Z",
            "date_published": "2023-10-08T00:52:12.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/545604?u=f4a12e38b365d7686f15e93391b6ffa88c0545cd&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because the <code class=\"notranslate\">--database</code>, <code class=\"notranslate\">--asset-pipeline</code>, <code class=\"notranslate\">--css</code>, and <code class=\"notranslate\">--javascript</code> flags for <code class=\"notranslate\">rails new</code> can all take different options. However, only <code class=\"notranslate\">--database</code> has a check to make sure the correct option is given.</p>\n<p dir=\"auto\">If someone where to fat-finger a value, for example <code class=\"notranslate\">--javascript=esbuiild</code>, they most likely would be left with either importmaps used or some other undefined behavior.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes adds similar checks as the <code class=\"notranslate\">--database</code> flag for the other four options to make sure the user enters the correct value.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">I'm open to suggestions regarding the naming and placement of the three new constants listing out the options.</p>\n<p dir=\"auto\">As it stands, this change loses the mentioning of which option is the default in the help text. That said, the database list doesn't list it as well. One option could be to have, by convention, the first element in the array be the default and output the help text accordingly.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49535",
            "title": "Disallow invalid values for rails new options",
            "date_modified": "2023-10-08T00:50:11.000Z",
            "date_published": "2023-10-07T21:22:36.000Z",
            "author": {
                "name": "t27duck",
                "url": "https://github.com/t27duck"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/20938712?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Using <code class=\"notranslate\">ActiveModel::Model</code> is <a href=\"https://thoughtbot.com/blog/activemodel-form-objects\" rel=\"nofollow\">very useful to create form objects</a> that have custom logic, while still preserving the Rails-way of building models, controllers, and views.</p>\n<p dir=\"auto\">They can be very handy to save multiple objects at once, for example. The problem is that there's not a good way to validate the associated objects. While Active Record has a <code class=\"notranslate\">AssociatedValidator</code>, ActiveModel lacks one, so have to manually write validations like:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Registration\n  attr_accessor :account, :profile\n  validate :account_is_valid\n  validate :profile_is_valid\n\n  def save!\n    if valid?\n      # save objects\n    end\n  end\n\n  private\n\n  def account_is_valid\n    errors.add(:account, &quot;is invalid&quot;) if account.invalid?\n  end\n\n  def profile_is_valid\n    errors.add(:profile, &quot;is invalid&quot;) if profile.invalid?\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Registration</span>\n  <span class=\"pl-en\">attr_accessor</span> <span class=\"pl-pds\">:account</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:profile</span>\n  <span class=\"pl-en\">validate</span> <span class=\"pl-pds\">:account_is_valid</span>\n  <span class=\"pl-en\">validate</span> <span class=\"pl-pds\">:profile_is_valid</span>\n\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">save!</span>\n    <span class=\"pl-k\">if</span> <span class=\"pl-en\">valid?</span>\n      <span class=\"pl-c\"># save objects</span>\n    <span class=\"pl-k\">end</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-k\">private</span>\n\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">account_is_valid</span>\n    <span class=\"pl-en\">errors</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">add</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:account</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"is invalid\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">if</span> <span class=\"pl-en\">account</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">invalid?</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">profile_is_valid</span>\n    <span class=\"pl-en\">errors</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">add</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:profile</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"is invalid\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">if</span> <span class=\"pl-en\">profile</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">invalid?</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR adds an <code class=\"notranslate\">ActiveModel::Validations::AssociatedValidator</code> validator, which is similar to the <code class=\"notranslate\">ActiveRecord::Validations::AssociatedValidator</code> but doesn't require the associated object to be an <code class=\"notranslate\">ActiveRecord</code> object.</p>\n<p dir=\"auto\">The example above could be rewritten as:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Registration\n  attr_accessor :account, :profile\n  validates_associated :account, :profile\n\n  def save!\n    if valid?\n      # save objects\n    end\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Registration</span>\n  <span class=\"pl-en\">attr_accessor</span> <span class=\"pl-pds\">:account</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:profile</span>\n  <span class=\"pl-en\">validates_associated</span> <span class=\"pl-pds\">:account</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:profile</span>\n\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">save!</span>\n    <span class=\"pl-k\">if</span> <span class=\"pl-en\">valid?</span>\n      <span class=\"pl-c\"># save objects</span>\n    <span class=\"pl-k\">end</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49534",
            "title": "Add `ActiveModel::Validations::AssociatedValidator`",
            "date_modified": "2023-10-07T22:29:21.000Z",
            "date_published": "2023-10-07T19:11:42.000Z",
            "author": {
                "name": "MatheusRich",
                "url": "https://github.com/MatheusRich"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22231095?u=fc75f9764434943effe06d6c1dc48d40a5003b0c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds the base template (Notable Changes, Removals and Deprecations) to the rails 7.2 release note.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49532",
            "title": "Added base template for rails 7.2 release note [skip ci]",
            "date_modified": "2023-10-08T00:24:09.000Z",
            "date_published": "2023-10-07T17:37:48.000Z",
            "author": {
                "name": "akhilgkrishnan",
                "url": "https://github.com/akhilgkrishnan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\"><code class=\"notranslate\">:required</code> for <code class=\"notranslate\">belongs_to</code> has been <a href=\"https://github.com/rails/rails/pull/18937\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/18937/hovercard\">'deprecated' since <code class=\"notranslate\">v5.0</code></a> but has never had a deprecation warning:<br>\n</p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/46857fb7f51e084e9b26edc80d152b700ec57c7d/activerecord/lib/active_record/associations.rb#L1855-L1856\">rails/activerecord/lib/active_record/associations.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 1855 to 1856\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/rails/rails/commit/46857fb7f51e084e9b26edc80d152b700ec57c7d\">46857fb</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L1855\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1855\"></td>\n          <td id=\"LC1855\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c\">#   NOTE: &lt;tt&gt;required&lt;/tt&gt; is set to &lt;tt&gt;true&lt;/tt&gt; by default and is deprecated. If</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1856\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1856\"></td>\n          <td id=\"LC1856\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c\">#   you don't want to have association presence validated, use &lt;tt&gt;optional: true&lt;/tt&gt;.</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">Adding one now (probably in the <code class=\"notranslate\">v7.2</code> release) will allow us to completely remove this feature in <code class=\"notranslate\">v7.3</code> (I'm unsure if this is an actual planned release version).</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Adds a deprecation warning when:</p>\n<ul dir=\"auto\">\n<li>using the <code class=\"notranslate\">:required</code> option with <code class=\"notranslate\">belongs_to</code> associations</li>\n<li>setting the global <code class=\"notranslate\">config.active_record.belongs_to_required_by_default</code> configuration to <code class=\"notranslate\">false</code></li>\n<li>setting the per model <code class=\"notranslate\">#belongs_to_required_by_default</code> configuration attribute to <code class=\"notranslate\">false</code> (this is also set to <code class=\"notranslate\">false</code> when the global config is set to false but I think it's fine to show the warning regardless since both use the same naming convention)</li>\n</ul>\n<p dir=\"auto\">Also removes any public documentation encouraging the use of this feature and relevant config.</p>\n<p dir=\"auto\">I left the following documentation untouched as it's been written in the context of <code class=\"notranslate\">v5.0</code> where this is still available:<br>\n</p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/e5124aed3fdcacb05204391e236c4fd60a1e6e74/guides/source/upgrading_ruby_on_rails.md?plain=1#L1569-L1600\">rails/guides/source/upgrading_ruby_on_rails.md</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 1569 to 1600\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/rails/rails/commit/e5124aed3fdcacb05204391e236c4fd60a1e6e74\">e5124ae</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L1569\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1569\"></td>\n          <td id=\"LC1569\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-mh\">#### <span class=\"pl-en\">Active Record <span class=\"pl-s\">`</span><span class=\"pl-c1\">belongs_to</span><span class=\"pl-s\">`</span> Required by Default Option</span></span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1570\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1570\"></td>\n          <td id=\"LC1570\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1571\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1571\"></td>\n          <td id=\"LC1571\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s\">`</span><span class=\"pl-c1\">belongs_to</span><span class=\"pl-s\">`</span> will now trigger a validation error by default if the association is not present. </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1572\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1572\"></td>\n          <td id=\"LC1572\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1573\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1573\"></td>\n          <td id=\"LC1573\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> This can be turned off per-association with <span class=\"pl-s\">`</span><span class=\"pl-c1\">optional: true</span><span class=\"pl-s\">`</span>. </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1574\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1574\"></td>\n          <td id=\"LC1574\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1575\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1575\"></td>\n          <td id=\"LC1575\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> This default will be automatically configured in new applications. If an existing application </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1576\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1576\"></td>\n          <td id=\"LC1576\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> wants to add this feature it will need to be turned on in an initializer: </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1577\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1577\"></td>\n          <td id=\"LC1577\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1578\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1578\"></td>\n          <td id=\"LC1578\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s\">```</span><span class=\"pl-en\">ruby</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1579\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1579\"></td>\n          <td id=\"LC1579\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> config.active_record.belongs_to_required_by_default <span class=\"pl-k\">=</span> <span class=\"pl-c1\">true</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1580\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1580\"></td>\n          <td id=\"LC1580\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s\">```</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1581\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1581\"></td>\n          <td id=\"LC1581\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1582\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1582\"></td>\n          <td id=\"LC1582\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> The configuration is by default global for all your models, but you can </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1583\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1583\"></td>\n          <td id=\"LC1583\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> override it on a per model basis. This should help you migrate all your models to have their </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1584\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1584\"></td>\n          <td id=\"LC1584\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> associations required by default. </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1585\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1585\"></td>\n          <td id=\"LC1585\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1586\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1586\"></td>\n          <td id=\"LC1586\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s\">```</span><span class=\"pl-en\">ruby</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1587\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1587\"></td>\n          <td id=\"LC1587\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">class</span> <span class=\"pl-en\">Book</span> &lt; <span class=\"pl-e\"><span class=\"pl-en\">ApplicationRecord</span></span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1588\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1588\"></td>\n          <td id=\"LC1588\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-c\"><span class=\"pl-c\">#</span> model is not yet ready to have its association required by default</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1589\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1589\"></td>\n          <td id=\"LC1589\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1590\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1590\"></td>\n          <td id=\"LC1590\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-c1\">self</span>.belongs_to_required_by_default <span class=\"pl-k\">=</span> <span class=\"pl-c1\">false</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1591\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1591\"></td>\n          <td id=\"LC1591\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   belongs_to(<span class=\"pl-c1\">:author</span>) </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1592\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1592\"></td>\n          <td id=\"LC1592\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1593\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1593\"></td>\n          <td id=\"LC1593\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1594\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1594\"></td>\n          <td id=\"LC1594\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">class</span> <span class=\"pl-en\">Car</span> &lt; <span class=\"pl-e\"><span class=\"pl-en\">ApplicationRecord</span></span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1595\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1595\"></td>\n          <td id=\"LC1595\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-c\"><span class=\"pl-c\">#</span> model is ready to have its association required by default</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1596\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1596\"></td>\n          <td id=\"LC1596\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1597\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1597\"></td>\n          <td id=\"LC1597\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-c1\">self</span>.belongs_to_required_by_default <span class=\"pl-k\">=</span> <span class=\"pl-c1\">true</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1598\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1598\"></td>\n          <td id=\"LC1598\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   belongs_to(<span class=\"pl-c1\">:pilot</span>) </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1599\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1599\"></td>\n          <td id=\"LC1599\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L1600\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"1600\"></td>\n          <td id=\"LC1600\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s\">```</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\"></p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/e5124aed3fdcacb05204391e236c4fd60a1e6e74/guides/source/configuring.md?plain=1#L156\">rails/guides/source/configuring.md</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 156\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/rails/rails/commit/e5124aed3fdcacb05204391e236c4fd60a1e6e74\">e5124ae</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L156\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"156\"></td>\n          <td id=\"LC156\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-v\">-</span> <span class=\"pl-s\">[</span><span class=\"pl-s\">`</span><span class=\"pl-c1\">config.active_record.belongs_to_required_by_default</span><span class=\"pl-s\">`</span><span class=\"pl-s\">]</span><span class=\"pl-s\">(</span><span class=\"pl-corl\">#config-active-record-belongs-to-required-by-default</span><span class=\"pl-s\">)</span>: <span class=\"pl-s\">`</span><span class=\"pl-c1\">true</span><span class=\"pl-s\">`</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">I am happy to take ownership of this deprecation and follow up with a PR for the removal :)</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49530",
            "title": "Show deprecation warning when using `:required` on `belongs_to` associations",
            "date_modified": "2023-10-08T06:52:04.000Z",
            "date_published": "2023-10-07T16:40:24.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Blocks: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1555754427\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/buildkite-config/issues/33\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/buildkite-config/pull/33/hovercard\" href=\"https://github.com/rails/buildkite-config/pull/33\">rails/buildkite-config#33</a></p>\n<p dir=\"auto\">Previous works: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1536109405\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47030\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/47030/hovercard\" href=\"https://github.com/rails/rails/pull/47030\">#47030</a>, <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1555754178\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47127\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/47127/hovercard\" href=\"https://github.com/rails/rails/pull/47127\">#47127</a></p>\n<blockquote>\n<p dir=\"auto\">This is going to affect users' apps. What is the impact of having this option by default?</p>\n</blockquote>\n<p dir=\"auto\">RF was concerned this might impact users apps, but I'm not seeing how an actiontext test case would do so, if anyone has any ideas!</p>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/hahmed/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/hahmed\">@hahmed</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewd/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewd\">@matthewd</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/rafaelfranca/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rafaelfranca\">@rafaelfranca</a></p>",
            "url": "https://github.com/rails/rails/pull/49527",
            "title": "Enable remote chrome selenium tests for actiontext",
            "date_modified": "2023-10-07T09:04:32.000Z",
            "date_published": "2023-10-07T09:04:28.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/7736232?u=0b01e8186f848b1a1c4e6291d57f1abd5c848701&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I was trying out the new Rails 7.1 version and found<br>\nthe docker build was failing due to a mismatch in the<br>\nruby version in the Gemfile and Dockerfile.</p>\n<h4 dir=\"auto\">Generated Dockerfile</h4>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"# syntax = docker/dockerfile:1\n\n# Make sure RUBY_VERSION matches the Ruby version in .ruby-version and Gemfile\nARG RUBY_VERSION=3.0.4.208\nFROM registry.docker.com/library/ruby:$RUBY_VERSION-slim as base\"><pre class=\"notranslate\"><code class=\"notranslate\"># syntax = docker/dockerfile:1\n\n# Make sure RUBY_VERSION matches the Ruby version in .ruby-version and Gemfile\nARG RUBY_VERSION=3.0.4.208\nFROM registry.docker.com/library/ruby:$RUBY_VERSION-slim as base\n</code></pre></div>\n<h4 dir=\"auto\">Generated Gemfile</h4>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"source &quot;https://rubygems.org&quot;\n\nruby &quot;3.0.4&quot;\"><pre class=\"notranslate\"><code class=\"notranslate\">source \"https://rubygems.org\"\n\nruby \"3.0.4\"\n</code></pre></div>\n<h4 dir=\"auto\">Error Screenshot</h4>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/7736232/273365803-ef961e07-d64d-4547-91f2-a9110203bacc.png\"><img width=\"935\" alt=\"image\" src=\"https://user-images.githubusercontent.com/7736232/273365803-ef961e07-d64d-4547-91f2-a9110203bacc.png\" style=\"max-width: 100%;\"></a>\n<h3 dir=\"auto\">Details</h3>\n<p dir=\"auto\">This Pull Request ensures the ruby version set<br>\nin the Gemfile and Dockerfile are the same.</p>",
            "url": "https://github.com/rails/rails/pull/49525",
            "title": "Ensures the Rails generated Dockerfile uses correct ruby version and matches Gemfile",
            "date_modified": "2023-10-08T06:31:18.000Z",
            "date_published": "2023-10-07T05:50:34.000Z",
            "author": {
                "name": "abhaynikam",
                "url": "https://github.com/abhaynikam"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/771968?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><code class=\"notranslate\">attributes_of_type</code> returns the names of attributes that are of a specified type.  Using this method in conjunction with <code class=\"notranslate\">normalizes</code>, you can write something like:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Post &lt; ActiveRecord::Base\n  normalizes attributes_of_type(:string), with: -&gt; { _1.strip }\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Post</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">normalizes</span> <span class=\"pl-en\">attributes_of_type</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:string</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">with</span>: <span class=\"pl-c1\">-&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">_1</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">strip</span> <span class=\"pl-kos\">}</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">which will strip all string attributes.</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes pull request #49314.\">Closes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1901813639\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49314\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49314/hovercard\" href=\"https://github.com/rails/rails/pull/49314\">#49314</a>.</p>",
            "url": "https://github.com/rails/rails/pull/49519",
            "title": "Add `ActiveRecord::Base::attributes_of_type`",
            "date_modified": "2023-10-07T23:57:34.000Z",
            "date_published": "2023-10-06T18:47:49.000Z",
            "author": {
                "name": "jonathanhefner",
                "url": "https://github.com/jonathanhefner"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4685176?u=a21aedc92c0cafb71a134e8af830fcbbe9014f5d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request was created to fix a small bug introduced in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1684129600\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48066\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48066/hovercard\" href=\"https://github.com/rails/rails/pull/48066\">#48066</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This changes the logged message when a job is started. Before, the logged message always attempted to include the <code class=\"notranslate\">enqueued_at</code> info. Unfortunately, for jobs that are run with <code class=\"notranslate\">perform_now</code>, they are not enqueued and instead executed immediately. This left <code class=\"notranslate\">enqueued_at</code> as <code class=\"notranslate\">nil</code> which in turn caused a <code class=\"notranslate\">NoMethodError</code> to be raised when attempting to call <code class=\"notranslate\">utc</code> on the <code class=\"notranslate\">nil</code> value.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49515",
            "title": "Don't log enqueuing details when the job wasn't enqueued",
            "date_modified": "2023-10-07T16:25:34.000Z",
            "date_published": "2023-10-06T15:35:28.000Z",
            "author": {
                "name": "dustinbrownman",
                "url": "https://github.com/dustinbrownman"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">As of <a href=\"https://github.com/rails/rails/pull/47144\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/47144/hovercard\">#47144</a>, <code class=\"notranslate\">response.parsed_body</code> supports parsing both <code class=\"notranslate\">format: :json</code> and <code class=\"notranslate\">format: :html</code> responses. This commit updates the documentation to reflect that.</p>\n<p dir=\"auto\">Additionally, it cribs the <code class=\"notranslate\">ActionDispatch::IntegrationTest</code> documentation that mentions <code class=\"notranslate\">register_encoder</code>, and copies it to the method definition so that the documentation entry for that method has descriptive information.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49513",
            "title": "Document `ActionDispatch::IntegrationTest#register_encoder` [ci skip]",
            "date_modified": "2023-10-07T15:17:28.000Z",
            "date_published": "2023-10-06T14:16:14.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5122678?u=204301f9f9fe8930fd26fe3bfe65b6ffaffd8b59&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Prior to this commit, calls to <code class=\"notranslate\">gem_group</code> would amend the <code class=\"notranslate\">Gemfile</code> even if there was an existing <a href=\"https://bundler.io/guides/groups.html\" rel=\"nofollow\">gem group</a>, resulting in duplication.</p>\n<p dir=\"auto\">This commit prepends existing gem groups with the added gem.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Because <code class=\"notranslate\">gem_group</code> invokes <code class=\"notranslate\">instance_eval(&amp;block)</code> via <code class=\"notranslate\">with_indentation</code>, a call to <code class=\"notranslate\">gem</code> is made. This means we needed to do the following:</p>\n<ol dir=\"auto\">\n<li>Check if the <code class=\"notranslate\">Gemfile</code> contains an existing gem group in <code class=\"notranslate\">gem_group</code>.</li>\n<li>Pass information about that  existing gem group to the <code class=\"notranslate\">gem</code> method.</li>\n</ol>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Because the <code class=\"notranslate\">Gemfile</code> used in existing tests has a <code class=\"notranslate\">:test</code> and <code class=\"notranslate\">:development, :test</code> groups, we modify the existing tests to use groups not used in the <code class=\"notranslate\">Gemfile</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49512",
            "title": "`Rails::Generators::Actions#gem_group`: Prepend existing gem groups",
            "date_modified": "2023-10-06T13:21:46.000Z",
            "date_published": "2023-10-06T12:55:22.000Z",
            "author": {
                "name": "stevepolitodesign",
                "url": "https://github.com/stevepolitodesign"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #49502.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1928943686\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49502\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49502/hovercard\" href=\"https://github.com/rails/rails/issues/49502\">#49502</a>.</p>\n<p dir=\"auto\">This bug was introduced in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1712735611\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48241\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48241/hovercard\" href=\"https://github.com/rails/rails/pull/48241\">#48241</a>. Since <code class=\"notranslate\">IDENTITY</code> columns in PostgreSQL do not have defaults, they are not auto populated via the changes made in that PR. Thus we need to consider them separately.</p>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/nvasilevski/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/nvasilevski\">@nvasilevski</a></p>",
            "url": "https://github.com/rails/rails/pull/49504",
            "title": "Fix auto populating `IDENTITY` columns for PostgreSQL",
            "date_modified": "2023-10-07T08:57:04.000Z",
            "date_published": "2023-10-05T20:43:28.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/717637?u=685121f22ceb01c9e4650173c8eedae4cd070aa9&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Backports the fix from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1419232597\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46305\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/46305/hovercard\" href=\"https://github.com/rails/rails/pull/46305\">#46305</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Calling <code class=\"notranslate\">Rails.cache.increment</code> drops the existing TTL, which is an issue on the current release of Rails, 7.0.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Some of the changes introduced in <a href=\"https://github.com/rails/rails/pull/46305\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/46305/hovercard\">the original<br>\nPR</a> were discarded, such as the <code class=\"notranslate\">normalize_</code> methods, as well as the change that originated in <a href=\"https://github.com/rails/rails/pull/45068\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/45068/hovercard\">that PR</a> that sets a value if none exists.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49503",
            "title": "Backport to 7-0-stable: MemoryStore: preserve entry ttl when incrementing",
            "date_modified": "2023-10-08T07:14:43.000Z",
            "date_published": "2023-10-05T19:56:25.000Z",
            "author": {
                "name": "pjambet",
                "url": "https://github.com/pjambet"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5122678?u=204301f9f9fe8930fd26fe3bfe65b6ffaffd8b59&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This commit is a follow-up to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1921037200\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49448\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49448/hovercard\" href=\"https://github.com/rails/rails/pull/49448\">#49448</a>, with regards to <a href=\"https://github.com/rails/rails/pull/49448#issuecomment-1743061538\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49448/hovercard\">this comment</a>.</p>\n<p dir=\"auto\">Prior to this commit, logging and debugging for<br>\n<a href=\"https://api.rubyonrails.org/v7.0.8/classes/Rails/Generators/Actions.html\" rel=\"nofollow\">Rails::Generators::Actions</a> was limited even when enabling <code class=\"notranslate\">RAILS_LOG_TO_STDOUT</code>. This was because the private <code class=\"notranslate\">action</code> method in the corresponding test was capturing <code class=\"notranslate\">$stdout</code>.</p>\n<h4 dir=\"auto\">Before</h4>\n<details open=\"\" class=\"details-reset border rounded-2\">\n  <summary class=\"px-3 py-2\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-device-camera-video\">\n    <path d=\"M16 3.75v8.5a.75.75 0 0 1-1.136.643L11 10.575v.675A1.75 1.75 0 0 1 9.25 13h-7.5A1.75 1.75 0 0 1 0 11.25v-6.5C0 3.784.784 3 1.75 3h7.5c.966 0 1.75.784 1.75 1.75v.675l3.864-2.318A.75.75 0 0 1 16 3.75Zm-6.5 1a.25.25 0 0 0-.25-.25h-7.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-6.5ZM11 8.825l3.5 2.1v-5.85l-3.5 2.1Z\"></path>\n</svg>\n    <span aria-label=\"Video description CleanShot.2023-10-04.at.19.49.42.mp4\" class=\"m-1\">CleanShot.2023-10-04.at.19.49.42.mp4</span>\n    <span class=\"dropdown-caret\"></span>\n  </summary>\n\n  <video src=\"https://user-images.githubusercontent.com/5122678/272740937-caa0dbb9-2664-41cf-83fd-e130effa87be.mp4\" data-canonical-src=\"https://user-images.githubusercontent.com/5122678/272740937-caa0dbb9-2664-41cf-83fd-e130effa87be.mp4\" controls=\"controls\" muted=\"muted\" class=\"d-block rounded-bottom-2 border-top width-fit\" style=\"max-height:640px; min-height: 200px\">\n\n  </video>\n</details>\n\n<h4 dir=\"auto\">After</h4>\n<details open=\"\" class=\"details-reset border rounded-2\">\n  <summary class=\"px-3 py-2\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-device-camera-video\">\n    <path d=\"M16 3.75v8.5a.75.75 0 0 1-1.136.643L11 10.575v.675A1.75 1.75 0 0 1 9.25 13h-7.5A1.75 1.75 0 0 1 0 11.25v-6.5C0 3.784.784 3 1.75 3h7.5c.966 0 1.75.784 1.75 1.75v.675l3.864-2.318A.75.75 0 0 1 16 3.75Zm-6.5 1a.25.25 0 0 0-.25-.25h-7.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-6.5ZM11 8.825l3.5 2.1v-5.85l-3.5 2.1Z\"></path>\n</svg>\n    <span aria-label=\"Video description CleanShot.2023-10-04.at.19.50.14.mp4\" class=\"m-1\">CleanShot.2023-10-04.at.19.50.14.mp4</span>\n    <span class=\"dropdown-caret\"></span>\n  </summary>\n\n  <video src=\"https://user-images.githubusercontent.com/5122678/272740960-c5753449-f678-4486-b297-9be48a4e7619.mp4\" data-canonical-src=\"https://user-images.githubusercontent.com/5122678/272740960-c5753449-f678-4486-b297-9be48a4e7619.mp4\" controls=\"controls\" muted=\"muted\" class=\"d-block rounded-bottom-2 border-top width-fit\" style=\"max-height:640px; min-height: 200px\">\n\n  </video>\n</details>\n\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">We simply conditionally capture the <code class=\"notranslate\">stdout</code> like we did in  <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1921037200\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49448\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49448/hovercard\" href=\"https://github.com/rails/rails/pull/49448\">#49448</a>.</p>\n<div class=\"highlight highlight-source-diff notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"4220d82e93 Improve generator logging and debugging\ndiff --git a/railties/test/generators/actions_test.rb b/railties/test/generators/actions_test.rb\nindex 6b5cdcf781..51a006ca87 100644\n--- a/railties/test/generators/actions_test.rb\n+++ b/railties/test/generators/actions_test.rb\n@@ -720,7 +720,11 @@ def test_log_with_status_with_quiet\n \n   private\n     def action(...)\n-      capture(:stdout) { generator.send(...) }\n+      if ENV[&quot;RAILS_LOG_TO_STDOUT&quot;] == &quot;true&quot;\n+        generator.send(...)\n+      else\n+        capture(:stdout) { generator.send(...) }\n+      end\n     end\n \n     def revoke(...)\n\"><pre class=\"notranslate\">4220d82e93 Improve generator logging and debugging\n<span class=\"pl-c1\">diff --git a/railties/test/generators/actions_test.rb b/railties/test/generators/actions_test.rb</span>\nindex 6b5cdcf781..51a006ca87 100644\n<span class=\"pl-md\">--- a/railties/test/generators/actions_test.rb</span>\n<span class=\"pl-mi1\">+++ b/railties/test/generators/actions_test.rb</span>\n<span class=\"pl-mdr\">@@ -720,7 +720,11 @@</span> def test_log_with_status_with_quiet\n \n   private\n     def action(...)\n<span class=\"pl-md\"><span class=\"pl-md\">-</span>      capture(:stdout) { generator.send(...) }</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>      if ENV[\"RAILS_LOG_TO_STDOUT\"] == \"true\"</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>        generator.send(...)</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>      else</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>        capture(:stdout) { generator.send(...) }</span>\n<span class=\"pl-mi1\"><span class=\"pl-mi1\">+</span>      end</span>\n     end\n \n     def revoke(...)\n</pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">It's possible other call sites in the test suite need to be updated, but I wanted to keep this commit focused.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49490",
            "title": "Improve `Rails::Generators::Actions` logging and debugging",
            "date_modified": "2023-10-05T13:11:49.000Z",
            "date_published": "2023-10-04T23:57:03.000Z",
            "author": {
                "name": "stevepolitodesign",
                "url": "https://github.com/stevepolitodesign"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/717637?u=685121f22ceb01c9e4650173c8eedae4cd070aa9&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Checking if the current transaction is materialized cannot be done directly from the <code class=\"notranslate\">materialized?</code> method because <code class=\"notranslate\">NullTransaction</code> doesn't implemented <code class=\"notranslate\">materialized?</code></p>\n<p dir=\"auto\">A workaround is to first check if the transaction is open:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"current_transaction = ActiveRecord::Base.connection.current_transaction\ncurrent_transaction.open? &amp;&amp; current_transaction.materialized?\"><pre class=\"notranslate\"><span class=\"pl-s1\">current_transaction</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">connection</span><span class=\"pl-kos\">.</span><span class=\"pl-s1\">current_transaction</span>\n<span class=\"pl-s1\">current_transaction</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">open?</span> &amp;&amp; <span class=\"pl-s1\">current_transaction</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">materialized?</span></pre></div>\n<p dir=\"auto\">With this change we can skip the extra check on <code class=\"notranslate\">open?</code></p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"current_transaction = ActiveRecord::Base.connection.current_transaction\ncurrent_transaction.materialized?\"><pre class=\"notranslate\"><span class=\"pl-s1\">current_transaction</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">connection</span><span class=\"pl-kos\">.</span><span class=\"pl-s1\">current_transaction</span>\n<span class=\"pl-s1\">current_transaction</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">materialized?</span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR continues the null object pattern approach for the <code class=\"notranslate\">NullTransaction</code> by implementing <code class=\"notranslate\">materialized?</code> to always return <code class=\"notranslate\">false</code>, the same way it always returns <code class=\"notranslate\">false</code> for <code class=\"notranslate\">open?</code></p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">I couldn't find existing tests for this, so wasn't sure whether or not to add some.</p>\n<p dir=\"auto\"><a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewd/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewd\">@matthewd</a> I was told to ask you about this change.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49488",
            "title": "Add materialized? to NullTransaction",
            "date_modified": "2023-10-05T01:05:33.000Z",
            "date_published": "2023-10-04T16:11:07.000Z",
            "author": {
                "name": "pjambet",
                "url": "https://github.com/pjambet"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Sometimes there are context-specific reasons to validate a particular field on an associated model. While it's possible to opt-into and opt-out of validation with contexts (the <code class=\"notranslate\">on:</code> option), this commit proposes an alternative that extends validations declared with <code class=\"notranslate\">validates_associated</code> and <code class=\"notranslate\">validates ..., associated: true</code>.</p>\n<p dir=\"auto\">For example, consider a <code class=\"notranslate\">User</code> model with an optional <code class=\"notranslate\">name</code> attribute. In most cases, the <code class=\"notranslate\">User#name</code> isn't required, but let's say that a name <em>is</em> required when the <code class=\"notranslate\">User</code> is related to a <code class=\"notranslate\">Book</code> as its <code class=\"notranslate\">Author</code>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">With the changes in this commit, the <code class=\"notranslate\">Book</code> can` pass a block to declare additional validations on the relationship:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Book &lt; ActiveRecord::Base\n  belongs_to :author, class: User\n\n  validates_associated :author do |author|\n    author.validates_presence_of :name\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Book</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">belongs_to</span> <span class=\"pl-pds\">:author</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">class</span>: <span class=\"pl-v\">User</span>\n\n  <span class=\"pl-en\">validates_associated</span> <span class=\"pl-pds\">:author</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">author</span>|\n    <span class=\"pl-s1\">author</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">validates_presence_of</span> <span class=\"pl-pds\">:name</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">The block's parameter is optional, and can be omitted:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"validates_associated :author do\n  validates_presence_of :name\nend\"><pre class=\"notranslate\"><span class=\"pl-en\">validates_associated</span> <span class=\"pl-pds\">:author</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">validates_presence_of</span> <span class=\"pl-pds\">:name</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">When configuring the validation with options, pass a lambda as the +with:+ option:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"validates_associated :author,\n  with: -&gt; { validates_presence_of :name },\n  unless: :anonymous?\"><pre class=\"notranslate\"><span class=\"pl-en\">validates_associated</span> <span class=\"pl-pds\">:author</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-pds\">with</span>: <span class=\"pl-c1\">-&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">validates_presence_of</span> <span class=\"pl-pds\">:name</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-pds\">unless</span>: <span class=\"pl-pds\">:anonymous?</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49486",
            "title": "Extend `validates_associated` to accept a block",
            "date_modified": "2023-10-04T14:02:06.000Z",
            "date_published": "2023-10-04T13:56:45.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        }
    ]
}