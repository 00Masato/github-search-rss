{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/131752?u=32ddf1119b1d189c9bd241a721b36ea01c29f61e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><code class=\"notranslate\">.to_json</code> has a fast path when we pass it no options. Previously <code class=\"notranslate\">render json:</code> would pass through a bunch of Action View related options.</p>\n<p dir=\"auto\">This aims to avoid that by only adding the additional Action View options when we are rendering a template, which <em>should</em> be faster and more desirable anyways.</p>\n<p dir=\"auto\">The second commit additionally skips <code class=\"notranslate\">:callback</code>, <code class=\"notranslate\">:content_type</code>, and <code class=\"notranslate\">:status</code>, which are handled inside Action Controller (I'm less happy with this fix, but think it's a pragmatic improvement).</p>\n<p dir=\"auto\">I'm not 100% sure nothing external would have depended on these, though I think nothing <em>should</em>.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"class InspectOptions\n  def as_json(options = {})\n    options\n  end\nend\n\nrender json: InspectOptions.new\"><pre class=\"notranslate\"><code class=\"notranslate\">class InspectOptions\n  def as_json(options = {})\n    options\n  end\nend\n\nrender json: InspectOptions.new\n</code></pre></div>\n<p dir=\"auto\"><strong>Before:</strong> <code class=\"notranslate\">{\"prefixes\":[\"controller_name\"],\"template\":\"action_name\",\"layout\":{}}</code><br>\n<strong>After:</strong> <code class=\"notranslate\">{}</code></p>",
            "url": "https://github.com/rails/rails/pull/52984",
            "title": "Avoid passing extraneous options to Renderers like `render json:`",
            "date_modified": "2024-09-20T00:43:22.000Z",
            "date_published": "2024-09-20T00:38:15.000Z",
            "author": {
                "name": "jhawthorn",
                "url": "https://github.com/jhawthorn"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #52959.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2531739713\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52959\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52959/hovercard\" href=\"https://github.com/rails/rails/issues/52959\">#52959</a>.</p>",
            "url": "https://github.com/rails/rails/pull/52983",
            "title": "Fix uniqueness validations defined on singleton classes",
            "date_modified": "2024-09-19T21:09:32.000Z",
            "date_published": "2024-09-19T21:09:27.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/752058?u=44e59103a64d58f779cbbe49a559906aad9d23dd&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">I just noticed that the rate limiter is not mention in the security guides.</p>",
            "url": "https://github.com/rails/rails/pull/52981",
            "title": "mention the rate limiter in the security guides [ci-skip]",
            "date_modified": "2024-09-19T20:13:47.000Z",
            "date_published": "2024-09-19T20:13:43.000Z",
            "author": {
                "name": "gregmolnar",
                "url": "https://github.com/gregmolnar"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/18742907?u=7ea76c7166927d568e67a111532ebf14da8697c0&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">In <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2056791296\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50453\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50453/hovercard\" href=\"https://github.com/rails/rails/issues/50453\">#50453</a>, it was proposed to include a language server with Rails by default. We were already working on the <a href=\"https://github.com/Shopify/ruby-lsp-rails\">Rails addon for the Ruby LSP</a> and at the time believed that Rails was the place for it to live.</p>\n<p dir=\"auto\">After several experiments with different approaches, we found a way to extract runtime information from Rails without the need to implement anything inside of Rails itself. This was important to us since development tools can be released at a more aggressive cadence.</p>\n<p dir=\"auto\">Despite not including the language server related code inside the Rails codebase, we should still provide documentation on setting up the development environment and getting editor integrations that help people building with Rails be as productive as they can be.</p>\n<p dir=\"auto\">We have just finished a complete revamp of the <a href=\"https://shopify.github.io/ruby-lsp\" rel=\"nofollow\">Ruby LSP documentation</a>, which includes a section on the <a href=\"https://shopify.github.io/ruby-lsp/rails-addon.html\" rel=\"nofollow\">Rails addon</a>.</p>\n<p dir=\"auto\">Additionally, we just shipped support for <a href=\"https://shopify.github.io/ruby-lsp/#erb-support\" rel=\"nofollow\">request delegation in ERB</a>. I'm quite excited about it as it makes all of the rich features language servers provide (like completion, definition, hover, etc) work in the embedded Ruby portion of the file, but also in the HTML parts of the file (including support for JavaScript and CSS inside relevant attributes).</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR simply includes a new section in getting started, with a few sentences about setting up editor integrations with the Ruby LSP.</p>\n<p dir=\"auto\">Based on what the team told me, this part of the guides are due for a content review, so I didn't invest a lot of effort and just added a brief explanation with the relevant links.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52979",
            "title": "Add section for editor integrations to in getting started",
            "date_modified": "2024-09-19T19:23:55.000Z",
            "date_published": "2024-09-19T16:13:59.000Z",
            "author": {
                "name": "vinistock",
                "url": "https://github.com/vinistock"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/890117?u=daf06f9b440341f7850bfaab74b48001acf4a41a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Background</h3>\n<p dir=\"auto\">The <code class=\"notranslate\">ActiveStorage::Blob.create_and_upload!</code> method calculates a checksum of the IO stream it's given before storing it. Once the IO stream has been stored, it performs an integrity check by comparing the checksum it has calculated against the checksum of the stored object. If the two differ, it raises an <code class=\"notranslate\">ActiveStorage::IntegrityError</code>.</p>\n<p dir=\"auto\">When the IO stream given to the method has been partially or fully consumed, the integrity check will systematically fail. That's because the checksum is not computed on the whole stream but the part that hasn't been consumed (which is typically empty if the stream has been fully consumed).</p>\n<h3 dir=\"auto\">Solution</h3>\n<p dir=\"auto\">I'm proposing to rewind the IO stream before computing its checksum.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Multiple people seem to have run into this issue: <a href=\"https://stackoverflow.com/questions/52335835/when-is-activestorageintegrityerror-raised\" rel=\"nofollow\">https://stackoverflow.com/questions/52335835/when-is-activestorageintegrityerror-raised</a></p>\n<p dir=\"auto\">An alternative approach I considered was raising an error hinting the caller to rewind the stream but I can't see any downside of doing that on behalf of the caller, given that the <code class=\"notranslate\">compute_checksum_in_chunks</code> method already rewinds the stream when it's done calculating the checksum.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52977",
            "title": "Rewind IO stream before computing its checksum",
            "date_modified": "2024-09-19T20:08:53.000Z",
            "date_published": "2024-09-19T15:03:23.000Z",
            "author": {
                "name": "matthieuprat",
                "url": "https://github.com/matthieuprat"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1148165?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">We use rails with multiple tenants and wanted a way to segregate stored files within a bucket by tenant id. This pull requests adds a global configuration option that allows to set this prefix on active storage blob key model:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# Can be a string or a block\nRails.application.configure.active_storage.key_prefix = &quot;tenant/&quot;\"><pre class=\"notranslate\"><span class=\"pl-c\"># Can be a string or a block</span>\n<span class=\"pl-v\">Rails</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">application</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">configure</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">active_storage</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">key_prefix</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">\"tenant/\"</span></pre></div>\n<p dir=\"auto\">This generates following blob key: <code class=\"notranslate\">tenant/mh9n0fker6q7k0qjd2ctgc42n2mo</code></p>\n<p dir=\"auto\">On some s3 providers, a prefix separated with <code class=\"notranslate\">/</code> is treated like a folder</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52971",
            "title": "Allow for configurable active strorage blob keys to use prefix",
            "date_modified": "2024-09-19T09:42:38.000Z",
            "date_published": "2024-09-19T08:33:56.000Z",
            "author": {
                "name": "kitsane",
                "url": "https://github.com/kitsane"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/8604410?u=f6a87a0974ee77de4a8280063371c97b51ca5301&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The db migrations for ActiveStorage use static plural table names. If Rails runs with <code class=\"notranslate\">config.active_record.pluralize_table_names = false</code>, this leads to an error as soon as ActiveStorage tries to access the DB.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The static strings for the table names in the migrations are replaced by the <code class=\"notranslate\">table_name</code> method of the corresponding model class. This ensures that the tables are named correctly in plural or singular respectively.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Earlier versions (prior to Rails 7.1) are not affected by this issue. However, as soon as a project is updated, the tables must be renamed with a separate database migration.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52970",
            "title": "Fix: Replace static tables names in ActiveStorage db migrations",
            "date_modified": "2024-09-19T08:44:01.000Z",
            "date_published": "2024-09-19T08:18:18.000Z",
            "author": {
                "name": "m2meier",
                "url": "https://github.com/m2meier"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/47848?u=41ccf0d1865a17f47d140f73a3293f1f3559fc0f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><a href=\"https://guides.rubygems.org/trusted-publishing/\" rel=\"nofollow\">Documentation for the Rubygems feature</a>.<br>\n<a href=\"https://docs.npmjs.com/generating-provenance-statements\" rel=\"nofollow\">Documentation for the NPM feature</a>.</p>\n<p dir=\"auto\">I revamped the Rails release to be able to be automated using Trusted Publishing. The bulk of the changes are in the new <code class=\"notranslate\">.github/workflows/release.yml</code> workflow, but I also changed the rake tasks to do different things.</p>\n<p dir=\"auto\">Before <code class=\"notranslate\">rake prep_release</code> would commit the changes. Now it stops to allow the person releasing to inspect the diff before the commit.</p>\n<p dir=\"auto\"><code class=\"notranslate\">rake release</code> now doesn't push the gems and npm packages and instead create a GitHub Release in draft mode. As soon the GitHub release is published a run for the \"release\" workflow will start and wait a member of the core team to approve.</p>\n<p dir=\"auto\">The gem will be released by the GitHub Action workflow.</p>\n<p dir=\"auto\">On NPM we get those nice badges.﻿<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/47848/368009099-0d6d36f4-94f1-41fe-a8f9-fc4d6a41eb85.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjY4MDE3MTEsIm5iZiI6MTcyNjgwMTQxMSwicGF0aCI6Ii80Nzg0OC8zNjgwMDkwOTktMGQ2ZDM2ZjQtOTRmMS00MWZlLWE4ZjktZmM0ZDZhNDFlYjg1LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA5MjAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwOTIwVDAzMDMzMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWVhYWUzZmY4YWFlZjViM2FhYTIzMTU5MjkxZTAzMjM1YjFkZTJkODkyYzhiNDM0NGI2MTllNTgwODFjODU5NTgmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.ib3maIqd_MGDIzLS8oj1dvIWRd5TQHcDMMIbcWDPbsE\"><img width=\"790\" alt=\"Screenshot 2024-09-17 at 12 45 51 AM\" src=\"https://private-user-images.githubusercontent.com/47848/368009099-0d6d36f4-94f1-41fe-a8f9-fc4d6a41eb85.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjY4MDE3MTEsIm5iZiI6MTcyNjgwMTQxMSwicGF0aCI6Ii80Nzg0OC8zNjgwMDkwOTktMGQ2ZDM2ZjQtOTRmMS00MWZlLWE4ZjktZmM0ZDZhNDFlYjg1LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA5MjAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwOTIwVDAzMDMzMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWVhYWUzZmY4YWFlZjViM2FhYTIzMTU5MjkxZTAzMjM1YjFkZTJkODkyYzhiNDM0NGI2MTllNTgwODFjODU5NTgmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.ib3maIqd_MGDIzLS8oj1dvIWRd5TQHcDMMIbcWDPbsE\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">The diff is huge because I took the opportunity to rewrite the release tasks and write tests for them so it is harder to break them.</p>\n<details>\n<summary>Test in my own fork of Rails</summary>\n<p dir=\"auto\">Here are the results of my tests:</p>\n<p dir=\"auto\"><a href=\"https://www.npmjs.com/package/omg-actioncable\" rel=\"nofollow\">https://www.npmjs.com/package/omg-actioncable</a><br>\n<a href=\"https://www.npmjs.com/package/omg-activestorage\" rel=\"nofollow\">https://www.npmjs.com/package/omg-activestorage</a><br>\n<a href=\"https://www.npmjs.com/package/omg-actiontext\" rel=\"nofollow\">https://www.npmjs.com/package/omg-actiontext</a><br>\n<a href=\"https://rubygems.org/gems/omg-rails/versions/8.0.0.alpha3\" rel=\"nofollow\">https://rubygems.org/gems/omg-rails/versions/8.0.0.alpha3</a><br>\n<a href=\"https://rubygems.org/gems/omg-railties/versions/8.0.0.alpha3\" rel=\"nofollow\">https://rubygems.org/gems/omg-railties/versions/8.0.0.alpha3</a><br>\n<a href=\"https://rubygems.org/gems/omg-actiontext/versions/8.0.0.alpha3\" rel=\"nofollow\">https://rubygems.org/gems/omg-actiontext/versions/8.0.0.alpha3</a><br>\n<a href=\"https://rubygems.org/gems/omg-actionmailbox/versions/8.0.0.alpha3\" rel=\"nofollow\">https://rubygems.org/gems/omg-actionmailbox/versions/8.0.0.alpha3</a><br>\n<a href=\"https://rubygems.org/gems/omg-activestorage/versions/8.0.0.alpha3\" rel=\"nofollow\">https://rubygems.org/gems/omg-activestorage/versions/8.0.0.alpha3</a><br>\n<a href=\"https://rubygems.org/gems/omg-actionmailer/versions/8.0.0.alpha3\" rel=\"nofollow\">https://rubygems.org/gems/omg-actionmailer/versions/8.0.0.alpha3</a><br>\n<a href=\"https://rubygems.org/gems/omg-actioncable/versions/8.0.0.alpha3\" rel=\"nofollow\">https://rubygems.org/gems/omg-actioncable/versions/8.0.0.alpha3</a><br>\n<a href=\"https://rubygems.org/gems/omg-activejob/versions/8.0.0.alpha3\" rel=\"nofollow\">https://rubygems.org/gems/omg-activejob/versions/8.0.0.alpha3</a><br>\n<a href=\"https://rubygems.org/gems/omg-activerecord/versions/8.0.0.alpha3\" rel=\"nofollow\">https://rubygems.org/gems/omg-activerecord/versions/8.0.0.alpha3</a><br>\n<a href=\"https://rubygems.org/gems/omg-actionview/versions/8.0.0.alpha3\" rel=\"nofollow\">https://rubygems.org/gems/omg-actionview/versions/8.0.0.alpha3</a><br>\n<a href=\"https://rubygems.org/gems/omg-activesupport/versions/8.0.0.alpha3\" rel=\"nofollow\">https://rubygems.org/gems/omg-activesupport/versions/8.0.0.alpha3</a><br>\n<a href=\"https://rubygems.org/gems/omg-actionpack/versions/8.0.0.alpha3\" rel=\"nofollow\">https://rubygems.org/gems/omg-actionpack/versions/8.0.0.alpha3</a><br>\n<a href=\"https://rubygems.org/gems/omg-activemodel/versions/8.0.0.alpha3\" rel=\"nofollow\">https://rubygems.org/gems/omg-activemodel/versions/8.0.0.alpha3</a></p>\n</details>",
            "url": "https://github.com/rails/rails/pull/52962",
            "title": "New release process using Trusted Publishing",
            "date_modified": "2024-09-18T20:09:01.000Z",
            "date_published": "2024-09-18T03:15:27.000Z",
            "author": {
                "name": "rafaelfranca",
                "url": "https://github.com/rafaelfranca"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Follow up to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2531829154\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52960\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/52960/hovercard\" href=\"https://github.com/rails/rails/pull/52960\">#52960</a>, cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/dhh/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/dhh\">@dhh</a>.</p>\n<p dir=\"auto\">After (sorry) merging <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2531829154\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52960\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/52960/hovercard\" href=\"https://github.com/rails/rails/pull/52960\">#52960</a>, I realized that for people using multiple rate limiters in several controllers it is very easy to end up with non unique cache key names. So if someone uses <code class=\"notranslate\">name: \"long-term\"</code> rate limiter in <code class=\"notranslate\">FooController</code> and <code class=\"notranslate\">name: \"long-term\"</code> in <code class=\"notranslate\">BarController</code>, they both will share the same key.</p>\n<p dir=\"auto\">People must need to remember to use globally unique rate limiter names for this to work. Better to avoid that.</p>",
            "url": "https://github.com/rails/rails/pull/52961",
            "title": "Include controller path into cache keys for rate limiters",
            "date_modified": "2024-09-18T00:30:37.000Z",
            "date_published": "2024-09-18T00:30:33.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/7331511?u=e5c461c2ed59b967e0925a515ab00b9a756715e3&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Reference <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"400379221\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/34961\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/34961/hovercard\" href=\"https://github.com/rails/rails/issues/34961\">#34961</a></p>\n<p dir=\"auto\">Allows users to restrict direct uploads with their own authentication and/or rate limiting.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"ActiveSupport.on_load :active_storage_direct_uploads_controller do\n  before_action :authenticate_user!\n  rate_limit to: 10, within: 3.minutes\nend\"><pre class=\"notranslate\"><span class=\"pl-v\">ActiveSupport</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">on_load</span> <span class=\"pl-pds\">:active_storage_direct_uploads_controller</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">before_action</span> <span class=\"pl-pds\">:authenticate_user!</span>\n  <span class=\"pl-en\">rate_limit</span> <span class=\"pl-pds\">to</span>: <span class=\"pl-c1\">10</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">within</span>: <span class=\"pl-c1\">3</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">minutes</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\"><a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/SlimGee/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/SlimGee\">@SlimGee</a> suggested using class_eval to extend the <code class=\"notranslate\">DirectUploadsController</code> class, like this:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# config/initializers/active_storage.rb\nRails.application.config.to_prepare do\n  ActiveStorage::DirectUploadsController.class_eval do\n    before_action :authenticate_user!\n    rate_limit to: 20, within: 20.minutes, by: -&gt; { current_user.id }\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-c\"># config/initializers/active_storage.rb</span>\n<span class=\"pl-v\">Rails</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">application</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_prepare</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-v\">ActiveStorage</span>::<span class=\"pl-v\">DirectUploadsController</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">class_eval</span> <span class=\"pl-k\">do</span>\n    <span class=\"pl-en\">before_action</span> <span class=\"pl-pds\">:authenticate_user!</span>\n    <span class=\"pl-en\">rate_limit</span> <span class=\"pl-pds\">to</span>: <span class=\"pl-c1\">20</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">within</span>: <span class=\"pl-c1\">20</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">minutes</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">by</span>: <span class=\"pl-c1\">-&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">current_user</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">id</span> <span class=\"pl-kos\">}</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">However, we took this approach because this is the most flexible approach for Rails applications and there is also precedence of using load_hooks in Active Storage.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52958",
            "title": "Add active_storage_direct_uploads_controller load hook",
            "date_modified": "2024-09-19T00:07:45.000Z",
            "date_published": "2024-09-17T17:04:43.000Z",
            "author": {
                "name": "JuanVqz",
                "url": "https://github.com/JuanVqz"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/99586?u=b4abd791d83e768c72cb832147b4a210caecf47d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Problem:</p>\n<p dir=\"auto\"><code class=\"notranslate\">PendingMigrationError</code> defines the \"Run pending migrations\" action to run pending migrations. But it only run migrations against the primary database. Thus, when there are multiple databases, \"Run message migrations\" actions won't resolve <code class=\"notranslate\">PendingMigrationError</code>.</p>\n<p dir=\"auto\">Solution:</p>\n<p dir=\"auto\">Run migrations on all databases.</p>\n<h3 dir=\"auto\">Detail</h3>\n<h3 dir=\"auto\">Additional information</h3>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52955",
            "title": "Migrate all databases on PendingMigrationError",
            "date_modified": "2024-09-17T09:12:28.000Z",
            "date_published": "2024-09-17T09:12:22.000Z",
            "author": {
                "name": "shouichi",
                "url": "https://github.com/shouichi"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/34269296?u=ac16a1baea181c9d93787f31dbb8a59a1b3c1eb5&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I encountered a scenario where I needed to subscribe to multiple models (N models) because the UI on the client side renders a table where each row corresponds to a specific model. My backend can broadcast updates for any of these models in real-time.</p>\n<p dir=\"auto\">Rather than creating N individual subscriptions (and subsequently N unsubscriptions), I propose a more efficient approach: a single subscription that can handle updates for a list of models. Executing N separate pub/sub operations risks performance bottlenecks, as threads may become locked due to mutex contention.</p>\n<p dir=\"auto\">To implement this, we would need a mechanism that allows broadcasting to a shared channel representing multiple models. For example, if a subscriber is interested in models with IDs 5, 10, and 55, it should be possible to broadcast updates to this group without requiring each model to individually track or manage this association. Requiring ActionCable users to track such relationships on the backend would introduce unnecessary complexity and be inconsistent with the simplicity expected from the ActionCable API.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This pull request introduces multiple enhancements to the Action Cable API to support multi-model subscriptions:</p>\n<p dir=\"auto\"><code class=\"notranslate\">stream_for_list(broadcasting_list, callback = nil, coder: nil, &amp;block)</code> which has the same interface than <code class=\"notranslate\">stream_for</code>, but it takes a list of models instead of a single model.</p>\n<p dir=\"auto\"><code class=\"notranslate\">stop_stream_for_list(broadcasting_list)</code> which has the same interface than <code class=\"notranslate\">stop_stream_for</code>, but it takes a list of models instead of a single model.</p>\n<p dir=\"auto\"><code class=\"notranslate\">broadcast_to_list(model, message)</code> which has the same interface than <code class=\"notranslate\">broadcast_to</code>, but it will broadcast the message to any broadcasting which includes model identifier.</p>\n<p dir=\"auto\">Let's take a full-stack example :</p>\n<ul dir=\"auto\">\n<li>I have a <code class=\"notranslate\">PostChannel</code> and a <code class=\"notranslate\">Comment</code> model, and a clients want to subscribe to every <code class=\"notranslate\">Comment</code> in my database. I execute <code class=\"notranslate\">stream_for_list(Comment.all)</code> in <code class=\"notranslate\">PostChannel</code> which executes only one subscription</li>\n<li>If I want to broadcast <code class=\"notranslate\">Comment.find(5)</code> to this client, I can execute <code class=\"notranslate\">PostChannel.broadcast_to_list(Comment.find(5), \"updated!\")</code>.</li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52952",
            "title": "Add broadcast_to_list and stream_for_list to ActionCable API",
            "date_modified": "2024-09-19T20:03:59.000Z",
            "date_published": "2024-09-16T22:51:19.000Z",
            "author": {
                "name": "xamey",
                "url": "https://github.com/xamey"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2786819?u=722b21f1f48dc9a97c9494aba04c4f657d31e941&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because we need to update the Validation docs.</p>\n<p dir=\"auto\">Note that I'll start a bigger discussion in Basecamp about:</p>\n<blockquote>\n<p dir=\"auto\">Another, bigger picture discussion we can have: should we have an Active Model validations guide that covers most of these, and then keep this Active Record one that is more specific to the validations only provided by Active Record, their relation to the database, etc., as well as links to the Active Model one? For discussion: <a href=\"https://3.basecamp.com/3076981/buckets/35498807/todos/7051651276\" rel=\"nofollow\">Active Model Validations - Documentation Updates</a></p>\n</blockquote>\n<h3 dir=\"auto\">Detail</h3>\n<ul dir=\"auto\">\n<li>\n<p dir=\"auto\">Initial examples should probably use Person.new instead of Person.create (create already runs validations under the hood, and will insert the record in the DB if all pass)</p>\n</li>\n<li>\n<p dir=\"auto\">Rails team =&gt; Rails framework</p>\n</li>\n<li>\n<p dir=\"auto\"><code class=\"notranslate\">exclusion</code> has a paragraph about using procs, lambdas, etc. that <code class=\"notranslate\">inclusion</code> doesn't... they use the same logic for validation.</p>\n</li>\n<li>\n<p dir=\"auto\">We have a <a href=\"https://edgeguides.rubyonrails.org/i18n.html\" rel=\"nofollow\">guide on I18n</a>, including info about error messages, that we could maybe link from the validations when talking about messages.</p>\n</li>\n<li>\n<p dir=\"auto\">We talk about using errors in views by the end, could be an opportunity to mention <code class=\"notranslate\">[field_error_proc](https://edgeguides.rubyonrails.org/configuring.html#config-action-view-field-error-proc)</code> since that seems to only be mentioned in the configuring guide.</p>\n</li>\n<li>\n<p dir=\"auto\">Add a section called Custom Contexts</p>\n</li>\n<li>\n<p dir=\"auto\">The \"Why Use Validations?\" section mentions alternatives to validations. This could probably use an extra header: \"Alternatives to Validations\"</p>\n</li>\n<li>\n<p dir=\"auto\">The line mentioning more use-cases for :on can probably be removed: \"We will cover more use-cases for on: in the <a href=\"https://edgeguides.rubyonrails.org/active_record_callbacks.html\" rel=\"nofollow\">callbacks guide</a>.\", as we'll add a section for \"Validation Contexts\" as mentioned above.</p>\n</li>\n<li>\n<p dir=\"auto\">Should \"Conditional Validations\" be mentioned before \"Strict Validations\" and \"Common Validation Options\"? Conditionals are common validations options and probably more common than <code class=\"notranslate\">allow_nil</code> and <code class=\"notranslate\">strict</code>. \"Common Validation Options\" isn't very descriptive either. (I moved Conditional Validations before Strict Validations but kept Common Validation Options where it is for the natural flow)</p>\n</li>\n<li>\n<p dir=\"auto\">\"Listing Validators\" doesn't seem related to \"Performing Custom Validations\". Maybe it should it's own top-level section?</p>\n</li>\n<li>\n<p dir=\"auto\">The <a href=\"https://edgeguides.rubyonrails.org/active_record_validations.html#errors-where-and-error-object\" rel=\"nofollow\">Errors where and error object</a> section uses both 2 and 3 in the example, but should be 3 everywhere?</p>\n</li>\n<li>\n<p dir=\"auto\">Move usage of <code class=\"notranslate\">errors.add</code> to the top, as it's used before the explanation in \"Working with Validation Errors\"?</p>\n</li>\n</ul>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52951",
            "title": "[RF-DOCS]Active Record Validations [ci skip]",
            "date_modified": "2024-09-17T21:18:08.000Z",
            "date_published": "2024-09-16T21:34:34.000Z",
            "author": {
                "name": "Ridhwana",
                "url": "https://github.com/Ridhwana"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/34799755?u=639a7564a8cdad1b875a327bdef2a0d2b559bc70&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">When a JSON column is partially updated in place, the new_value is not type-casted, leading to symbol values being incorrectly detected as changes.<br>\nThis PR resolves the issue by ensuring consistent behavior between ActiveRecord::Type::Json.changed_in_place? and changed?, as the new_value is type-casted by default during full attribute assignment.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request updates the <code class=\"notranslate\">changed_in_place?</code> method in <code class=\"notranslate\">ActiveRecord::Type::Json</code> to type-cast the new_value before comparing it with the old_value.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">before:</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/34799755/367628419-fec1cbac-915b-4a2a-a7e3-def13679c159.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjY4MDE3MTEsIm5iZiI6MTcyNjgwMTQxMSwicGF0aCI6Ii8zNDc5OTc1NS8zNjc2Mjg0MTktZmVjMWNiYWMtOTE1Yi00YTJhLWE3ZTMtZGVmMTM2NzljMTU5LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA5MjAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwOTIwVDAzMDMzMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTIyMDFkMDEzNTkxOTViZjlmNmM0ZDU0MDc0ZDIyNTIxNmU5MDE0NTE4YTBhODRjMGZmYmZiNzFmMzAyNzAxYjAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.3qLqhjQITtgd-935sBuYHZPMVkp4kzQKVyIWSZWEMfU\"><img src=\"https://private-user-images.githubusercontent.com/34799755/367628419-fec1cbac-915b-4a2a-a7e3-def13679c159.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjY4MDE3MTEsIm5iZiI6MTcyNjgwMTQxMSwicGF0aCI6Ii8zNDc5OTc1NS8zNjc2Mjg0MTktZmVjMWNiYWMtOTE1Yi00YTJhLWE3ZTMtZGVmMTM2NzljMTU5LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA5MjAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwOTIwVDAzMDMzMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTIyMDFkMDEzNTkxOTViZjlmNmM0ZDU0MDc0ZDIyNTIxNmU5MDE0NTE4YTBhODRjMGZmYmZiNzFmMzAyNzAxYjAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.3qLqhjQITtgd-935sBuYHZPMVkp4kzQKVyIWSZWEMfU\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">test:<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/34799755/368259727-4c89ba7e-94c9-4456-8c63-de0e67b6c86d.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjY4MDE3MTEsIm5iZiI6MTcyNjgwMTQxMSwicGF0aCI6Ii8zNDc5OTc1NS8zNjgyNTk3MjctNGM4OWJhN2UtOTRjOS00NDU2LThjNjMtZGUwZTY3YjZjODZkLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA5MjAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwOTIwVDAzMDMzMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWRiNDYwZDdjNDE1YmQ3OTA2ZmViZWIxNWRiZDE4NDFlYjE0MWNlZjBmNzU2YTMyMjM3MTU3ZThlYTFlOTBiN2EmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.Hb7pipCqzD4ChEWhl20Gbfn9ErAv0MqgfZJfA4P-T_w\"><img width=\"914\" alt=\"image\" src=\"https://private-user-images.githubusercontent.com/34799755/368259727-4c89ba7e-94c9-4456-8c63-de0e67b6c86d.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjY4MDE3MTEsIm5iZiI6MTcyNjgwMTQxMSwicGF0aCI6Ii8zNDc5OTc1NS8zNjgyNTk3MjctNGM4OWJhN2UtOTRjOS00NDU2LThjNjMtZGUwZTY3YjZjODZkLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA5MjAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwOTIwVDAzMDMzMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWRiNDYwZDdjNDE1YmQ3OTA2ZmViZWIxNWRiZDE4NDFlYjE0MWNlZjBmNzU2YTMyMjM3MTU3ZThlYTFlOTBiN2EmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.Hb7pipCqzD4ChEWhl20Gbfn9ErAv0MqgfZJfA4P-T_w\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">after:</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/34799755/367628413-956007dd-9a86-448f-898d-163b04ec2b9f.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjY4MDE3MTEsIm5iZiI6MTcyNjgwMTQxMSwicGF0aCI6Ii8zNDc5OTc1NS8zNjc2Mjg0MTMtOTU2MDA3ZGQtOWE4Ni00NDhmLTg5OGQtMTYzYjA0ZWMyYjlmLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA5MjAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwOTIwVDAzMDMzMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWVkYTM2YWJhZGJhZThhNjYyNmIxNjBmMmMxMjFlNjYzN2VmZmVhZjY4Y2IzZGRjNDhhZDlhOGMxYjBjZmVhMTYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.UYCG4vhI7q3RMvxR1zLyK0xyM9TTBGiC9RCjxFdZIK0\"><img src=\"https://private-user-images.githubusercontent.com/34799755/367628413-956007dd-9a86-448f-898d-163b04ec2b9f.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjY4MDE3MTEsIm5iZiI6MTcyNjgwMTQxMSwicGF0aCI6Ii8zNDc5OTc1NS8zNjc2Mjg0MTMtOTU2MDA3ZGQtOWE4Ni00NDhmLTg5OGQtMTYzYjA0ZWMyYjlmLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA5MjAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwOTIwVDAzMDMzMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWVkYTM2YWJhZGJhZThhNjYyNmIxNjBmMmMxMjFlNjYzN2VmZmVhZjY4Y2IzZGRjNDhhZDlhOGMxYjBjZmVhMTYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.UYCG4vhI7q3RMvxR1zLyK0xyM9TTBGiC9RCjxFdZIK0\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">test:<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/34799755/368259944-18aa77c1-c98f-4ea1-8376-0494f7d7be41.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjY4MDE3MTEsIm5iZiI6MTcyNjgwMTQxMSwicGF0aCI6Ii8zNDc5OTc1NS8zNjgyNTk5NDQtMThhYTc3YzEtYzk4Zi00ZWExLTgzNzYtMDQ5NGY3ZDdiZTQxLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA5MjAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwOTIwVDAzMDMzMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWRhYWJkZWE4ZTQ2N2VkYWM2ZTUzMDAwZGUxODhmMDhiMjI5YTY2ODg5Yzg2MzEwMjgxNjc2YWExZDk5NTk3MWImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.BMBUMPXfsSldC9fZ_mFk1XamF15bDauxdVuLRI3iU4U\"><img width=\"992\" alt=\"image\" src=\"https://private-user-images.githubusercontent.com/34799755/368259944-18aa77c1-c98f-4ea1-8376-0494f7d7be41.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjY4MDE3MTEsIm5iZiI6MTcyNjgwMTQxMSwicGF0aCI6Ii8zNDc5OTc1NS8zNjgyNTk5NDQtMThhYTc3YzEtYzk4Zi00ZWExLTgzNzYtMDQ5NGY3ZDdiZTQxLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA5MjAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwOTIwVDAzMDMzMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWRhYWJkZWE4ZTQ2N2VkYWM2ZTUzMDAwZGUxODhmMDhiMjI5YTY2ODg5Yzg2MzEwMjgxNjc2YWExZDk5NTk3MWImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.BMBUMPXfsSldC9fZ_mFk1XamF15bDauxdVuLRI3iU4U\" style=\"max-width: 100%;\"></a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\">  This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\">  Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\">  Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\">  CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52939",
            "title": "Fix: JSON Column In-Place Update Issue by Adding Type Casting to changed_in_place?",
            "date_modified": "2024-09-18T00:43:39.000Z",
            "date_published": "2024-09-15T23:12:21.000Z",
            "author": {
                "name": "AhMohsen46",
                "url": "https://github.com/AhMohsen46"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/42301835?u=e33b0d9e1bc6ec5c63f018382d6ee9b6a29fb79b&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because Active Storage direct uploads are public and unauthenticated and there is no clear documented way of adding authentication or rate limiting</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes rails/guides/source/active_storage_overview.md to add an authentication example</p>\n<h3 dir=\"auto\">Additional information</h3>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52930",
            "title": "feat(docs): added authentication information to active_storage_overview docs [ci skip]",
            "date_modified": "2024-09-14T23:54:56.000Z",
            "date_published": "2024-09-14T17:22:05.000Z",
            "author": {
                "name": "SlimGee",
                "url": "https://github.com/SlimGee"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1966473?u=fe117732163d3610f051fca80df4e04c1b91335d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request is for updating and improving the \"Action Mailer Basics\" Rails Guide documentation.</p>\n<h3 dir=\"auto\">Testing</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Run <code class=\"notranslate\">guides:generate</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Run <code class=\"notranslate\">guides:lint</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Run rubocop on code samples</li>\n</ul>\n<h3 dir=\"auto\">Details</h3>\n<p dir=\"auto\">Here are some of the things addressed from this Guide.</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Mailers now actually inherit from a generated ApplicationMailer, which in turn inherit from ActionMailer::Base.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> The output to generating a mailer might be different depending on whether the base ApplicationMailer and layout have already been generated, which will already happen when creating a new app, or if they're not there the first time the mailer is generated.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Maybe the generator should be shown by passing an action name directly? (or as a second example or subsection?) bin/rails generate mailer User welcome_email</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Complete List of Action Mailer should be linked. (in fact, maybe we don't even \"need\" this to be a section, but rather part of the text when introducing the other mailer methods? And then a full section on Attachments)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> The HTML view has a complete layout with DOCTYPE/head/body, but it should be using the application mailer's layout, so that example will likely double the HTML, it is incorrect.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> The guide shows how to build a multipart email (HTML + Text), but doesn't really explain why, what are the benefits, if it's really needed, etc., might be a worth addition to consider. There's a section later in the guide that's about \"multipart emails\", that we could link to from the top, and perhaps expand a bit on that.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> I wonder if we should instead show an example of sending the email via console, after we have the mailer and associated model? And then proceed with showing the controller version.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Link to Active Job guide, there's a mention when explaining how to call the mailer, and a Note. That note should likely be simplified and linked instead. (less duplicated content, no need to mention Sidekiq,etc. elsewhere, etc.)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\">  If we do show how to use via console, it'd be a good introduction to start with deliver_now, and then explain deliver_later + Active Job afterwards.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Auto Encoding Header Values seems like a topic/section that could be pushed down, it's not a common need.<br>\nDecided to remove as it is an extraneous detail.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Attachments could be a larger subsection, right now it's a 3rd level section that doesn't show in the sections list on the right.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> \"Action Mailer 3.0\" no need to mention older versions any longer.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Under the Layouts section, it doesn't mention where the layout should be located. (app/views/layouts), and it should probably mention the default mailer layout now too. (see other comment about about the email template containing the full HTML tags)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> There's a section about \"Dynamic Delivery Options\" that shows how to pass SMTP &amp; etc. configs, but the configuration section is later in the guide, this could be reorganized to better flow, or at least linked.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> There's some information about views, layouts, rendering without a template, etc., scattered, maybe it makes sense to group these related pieces a little bit better.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Under the configuration section, deliveries is not really a configuration but something to use in dev/test., not sure it's where it should be mentioned.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> A new section about rescuing errors could be added too. <a href=\"https://github.com/rails/rails/blob/3efae445196da943c0532a00f6dfbafc74ae879d/actionmailer/lib/action_mailer/base.rb#L353-L374\">Here's the API</a> for reference.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> No mention of I18n, maybe could have at very brief section or paragraph/note somewhere that points to the <a href=\"https://edgeguides.rubyonrails.org/i18n.html#translations-for-action-mailer-e-mail-subjects\" rel=\"nofollow\">I18n guide on the matter</a>.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52905",
            "title": "[RF-DOCS] Action Mailer Guide [ci-skip]",
            "date_modified": "2024-09-14T10:21:12.000Z",
            "date_published": "2024-09-12T19:38:00.000Z",
            "author": {
                "name": "bhumi1102",
                "url": "https://github.com/bhumi1102"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1769416?u=786458082f04393c2a84cd8bd1eaf04cb5e38a56&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">If you have a migration that calls <code class=\"notranslate\">add_check_constraint</code> with an invalid option then the migration works in the <code class=\"notranslate\">up</code> direction but fails in the <code class=\"notranslate\">down</code> direction. This was opened as <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2430999423\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52419\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52419/hovercard\" href=\"https://github.com/rails/rails/issues/52419\">#52419</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The following migration would work in the <code class=\"notranslate\">up</code> direction but fails to find the check constraint in the <code class=\"notranslate\">down</code> direction.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class AddCheckConstraintWithInvalidOptionMigration &lt; ActiveRecord::Migration::Current\n     def change\n        add_check_constraint :horses, &quot;age &gt;= 0&quot;, name: &quot;positive_age&quot;, invalid_option: true\n     end\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">AddCheckConstraintWithInvalidOptionMigration</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Migration</span>::<span class=\"pl-v\">Current</span>\n     <span class=\"pl-k\">def</span> <span class=\"pl-en\">change</span>\n        <span class=\"pl-en\">add_check_constraint</span> <span class=\"pl-pds\">:horses</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"age &gt;= 0\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"positive_age\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">invalid_option</span>: <span class=\"pl-c1\">true</span>\n     <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">The error for SQLite would be:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"ArgumentError: Table 'horses' has no check constraint for age &gt;= 0\n    lib/active_record/connection_adapters/abstract/schema_statements.rb:1788:in `check_constraint_for!'\n    lib/active_record/connection_adapters/sqlite3/schema_statements.rb:116:in `remove_check_constraint'\"><pre class=\"notranslate\"><code class=\"notranslate\">ArgumentError: Table 'horses' has no check constraint for age &gt;= 0\n    lib/active_record/connection_adapters/abstract/schema_statements.rb:1788:in `check_constraint_for!'\n    lib/active_record/connection_adapters/sqlite3/schema_statements.rb:116:in `remove_check_constraint'\n</code></pre></div>\n<p dir=\"auto\">The issue affects all the database adapters.</p>\n<p dir=\"auto\">The issue is caused by the <code class=\"notranslate\">invalid_option</code> not being used in the <code class=\"notranslate\">up</code> direction but being used to find the constraint in the <code class=\"notranslate\">down</code> direction. Fix is to just filter the options used by <code class=\"notranslate\">remove_check_constraint</code> to only valid options.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52903",
            "title": "Add check constraint should be invertible if invalid option provided",
            "date_modified": "2024-09-14T13:33:10.000Z",
            "date_published": "2024-09-12T18:19:20.000Z",
            "author": {
                "name": "aidanharan",
                "url": "https://github.com/aidanharan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/162679787?u=33152a404d898f9005f179bed11cb704afc9ae08&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2514924774\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52852\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52852/hovercard\" href=\"https://github.com/rails/rails/issues/52852\">#52852</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds documentation for the method <code class=\"notranslate\">add_index_options</code> along with the option <code class=\"notranslate\">nulls_not_distinct</code> in the <code class=\"notranslate\">activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb</code></p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52898",
            "title": "Added documentation for nulls not distinct option for postgres sql [ci skip]",
            "date_modified": "2024-09-13T03:50:02.000Z",
            "date_published": "2024-09-12T14:16:47.000Z",
            "author": {
                "name": "khhizr007",
                "url": "https://github.com/khhizr007"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/655963?u=78f4d2d90c214092929cce80200594ff32dcc5df&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">The buffer option was added as part of the Active Record Explain as part of this PR: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1537241092\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47043\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/47043/hovercard\" href=\"https://github.com/rails/rails/pull/47043\">#47043</a></p>\n<p dir=\"auto\">However perhaps they missed updating the guides on how to use this option as part of ActiveRecord Explain specifically in the context of the PostgreSQL DB. More on how to use the Buffer option as part of PostgreSQL Explain is available as part of their official docs <a href=\"https://www.postgresql.org/docs/current/sql-explain.html\" rel=\"nofollow\">here</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request gives a brief overview of how to use the <code class=\"notranslate\">buffers</code> option with Active Record Explain using a sample query and their resulting output as a reference.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52893",
            "title": "Add info on how to use the buffers option in Postgres [ci skip]",
            "date_modified": "2024-09-19T03:30:04.000Z",
            "date_published": "2024-09-12T08:44:05.000Z",
            "author": {
                "name": "boddhisattva",
                "url": "https://github.com/boddhisattva"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/73295547?u=80408cd12511459861636500c2758b26e93d823e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This PR updates the <a href=\"https://guides.rubyonrails.org/error_reporting.html\" rel=\"nofollow\">Rails Error Reporting guide</a>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<ul dir=\"auto\">\n<li>'For Libraries' is made into a top section and renamed 'Error-reporting Libraries'</li>\n<li>Various important paragraphs are reformatted into notes.</li>\n<li>To aid understanding for beginners, links are added when various concepts are referenced e.g. 'railties', 'jobs' etc.</li>\n<li>Sections are added on unexpected, unsubscribe and disable.</li>\n<li>Various wording tweaks are made for improved readability and easier understanding.</li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52885",
            "title": "[RF-DOCS] Update Rails Error Reporting Guide [ci skip] ",
            "date_modified": "2024-09-18T10:08:06.000Z",
            "date_published": "2024-09-11T16:48:39.000Z",
            "author": {
                "name": "OughtPuts",
                "url": "https://github.com/OughtPuts"
            }
        }
    ]
}