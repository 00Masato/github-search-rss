{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">As described by MDN, the HTML <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/lang\" rel=\"nofollow\">lang</a> attribute:</p>\n<blockquote>\n<p dir=\"auto\">helps define the language of an element: the language that<br>\nnon-editable elements are written in</p>\n</blockquote>\n<p dir=\"auto\">Since <code class=\"notranslate\">ActionText::RichText</code> instances intend to capture and render user-sourced content, it's important to hint to browsers the language of that content.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit introduces an <code class=\"notranslate\">AddLocaleToActionTextRichTexts</code> migration to add an <code class=\"notranslate\">action_text_rich_texts.locale</code> column to encode the locale when the row is created.</p>\n<p dir=\"auto\">Once captured, that locale is incorporated into the wrapping <code class=\"notranslate\">&lt;div class=\"trix-content\"&gt;</code> element as a <code class=\"notranslate\">[lang]</code> attribute so that browsers can act accordingly (for example, offer translations when served in other locale browsing contexts).</p>\n<p dir=\"auto\">To make that information available to the rendering context, the <code class=\"notranslate\">ActionText::Content</code> class must be made aware of the <code class=\"notranslate\">#locale</code> during column serialization, so this commit overrides the built-in <code class=\"notranslate\">RichText#body=</code> and <code class=\"notranslate\">RichText#body</code> attributes.</p>\n<p dir=\"auto\">Upgrading applications can include the new migration by executing:</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bin/rails action_text:update\"><pre class=\"notranslate\">bin/rails action_text:update</pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"912203389\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/42404\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/42404/hovercard\" href=\"https://github.com/rails/rails/pull/42404\">#42404</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50556",
            "title": "Incorporate I18n.locale into Action Text Rich Text",
            "date_modified": "2024-01-03T15:59:38.000Z",
            "date_published": "2024-01-03T15:55:41.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22231095?u=fc75f9764434943effe06d6c1dc48d40a5003b0c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request document the removal of <code class=\"notranslate\">@rails/ujs</code> in release document.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50555",
            "title": "Document removal of rails/ujs in release note [skip ci]",
            "date_modified": "2024-01-03T13:43:53.000Z",
            "date_published": "2024-01-03T13:43:49.000Z",
            "author": {
                "name": "akhilgkrishnan",
                "url": "https://github.com/akhilgkrishnan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/26396425?u=f660166a92539f1b136d99aeb7332b34dc4c34f3&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2060964035\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50499\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50499/hovercard\" href=\"https://github.com/rails/rails/issues/50499\">#50499</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Previously, querying from the base class resulted in an object of the inherited type, with 'ignored_columns' included in the 'attributes' method.</p>\n<p dir=\"auto\">This behavior was inconsistent, as it did not occur when querying directly from the inherited class. This fix ensures consistent behavior in the attributes between the two ways of instantiate inherited classes during querying.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50553",
            "title": "Fix instantiation of inherited classes when querying",
            "date_modified": "2024-01-03T12:52:16.000Z",
            "date_published": "2024-01-03T12:49:56.000Z",
            "author": {
                "name": "jvlara",
                "url": "https://github.com/jvlara"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6375091?u=998dc3c45b7d696d4b92066c6b2f981e187a36bf&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because I ran a fresh rails application off the main branch and testing failed. I used asdf as my ruby version manage, which put the gems in .bundle instead of vendor (not sure if that is the default of bundler or an asdf behavior). I wish to fix this behavior so I do not need to find any racecar.jpg image to place in my fixtures file ðŸ˜† ðŸš— ðŸ’¨ .</p>\n<p dir=\"auto\">All joking beside, the behavior for the fixture autoloading appears to be for gems not in the default install path. This was the fix recommended by <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/rafaelfranca/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rafaelfranca\">@rafaelfranca</a>  in <a href=\"https://github.com/rails/rails/pull/48933\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48933/hovercard\">48933</a>. I did spend a little bit of time seeing if I could change the bundle config to just place gems in vendor, but I was worried about breaking installs with various managers (rvm in the dev container seemed to work differently than typical bundler - but I could be wrong). It did seem like this was the least risky solution, so I stuck with it.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the text fixture autoloading to ignore any fixtures in dot directories.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Potentially <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes pull request #48933.\">resolves</span> <a href=\"https://github.com/rails/rails/pull/48933\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48933/hovercard\">48933</a></p>\n<p dir=\"auto\">Relates to:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://github.com/rails/rails/pull/48287\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48287/hovercard\">48287</a> introduced auto loading fixtures in engines. All engines present in the root folder of the rails app would have their fixtures auto loaded. This caused tests to fail when gems were vendorized, because fixtures from the internal rails test suite would be loaded.</li>\n<li><a href=\"https://github.com/rails/rails/pull/48323\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48323/hovercard\">48323</a>  Added a check to exclude the vendor folder.</li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50548",
            "title": "Prevent vendorizing gems fixtures in dot directories (like .bundle) from loading when running tests",
            "date_modified": "2024-01-03T06:08:02.000Z",
            "date_published": "2024-01-03T06:07:45.000Z",
            "author": {
                "name": "phChun",
                "url": "https://github.com/phChun"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/16840674?u=1209e142ce2fe178204d82cba339c99291ed8d51&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Now that rails comes with a pre-configured CI on Github Actions, and it's scanning ruby dependencies vulnerabilities, it's also valuable to scan vulnerabilities in JS dependencies. In this PR the scan it's implemented only when the selected Javascript is importmaps.</p>",
            "url": "https://github.com/rails/rails/pull/50547",
            "title": "Run importmap audit on CI",
            "date_modified": "2024-01-03T01:20:03.000Z",
            "date_published": "2024-01-03T01:20:00.000Z",
            "author": {
                "name": "faqndo97",
                "url": "https://github.com/faqndo97"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Ref <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1867524417\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49039\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49039/hovercard\" href=\"https://github.com/rails/rails/pull/49039\">#49039</a></p>",
            "url": "https://github.com/rails/rails/pull/50546",
            "title": "Backport 49039 to 7-0-stable",
            "date_modified": "2024-01-02T23:34:31.000Z",
            "date_published": "2024-01-02T23:34:27.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6373536?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because we can make use of <a href=\"https://guides.rubyonrails.org/testing.html#parallel-testing\" rel=\"nofollow\">parallel testing</a> in the CI so that we benefit from using of all the cores provided by GitHub Actions automatically.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the <code class=\"notranslate\">ci.yml</code> file that is generated in new Rails apps so that the parallelization ENV VAR <code class=\"notranslate\">PARALLEL_WORKERS</code> gets set to the number of cores in the GitHub Actions runner running the tests.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">Example: <a href=\"https://github.com/santib/test-rails-app/actions/runs/7391158775/job/20107438182#step:6:9\">https://github.com/santib/test-rails-app/actions/runs/7391158775/job/20107438182#step:6:9</a></p>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/6373536/293801665-8514f60c-8d02-424f-95a1-fdda4131ca2b.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQyOTgwMDUsIm5iZiI6MTcwNDI5NzcwNSwicGF0aCI6Ii82MzczNTM2LzI5MzgwMTY2NS04NTE0ZjYwYy04ZDAyLTQyNGYtOTVhMS1mZGRhNDEzMWNhMmIucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDEwMyUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDAxMDNUMTYwMTQ1WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NmQ1MjYzMDU1ZjIxNGZmMmI1NGY0MjJhZjlhMzZhYTNjM2IxOTEzNDA4MGQ3M2JmZGRhYjJlMDEyNmQ0ZmQyMCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.LBe22mWE7l2aAEEdlOssZLYN_I2g5ZuGU5otNXYhb-U\"><img width=\"561\" alt=\"image\" src=\"https://private-user-images.githubusercontent.com/6373536/293801665-8514f60c-8d02-424f-95a1-fdda4131ca2b.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQyOTgwMDUsIm5iZiI6MTcwNDI5NzcwNSwicGF0aCI6Ii82MzczNTM2LzI5MzgwMTY2NS04NTE0ZjYwYy04ZDAyLTQyNGYtOTVhMS1mZGRhNDEzMWNhMmIucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDEwMyUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDAxMDNUMTYwMTQ1WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NmQ1MjYzMDU1ZjIxNGZmMmI1NGY0MjJhZjlhMzZhYTNjM2IxOTEzNDA4MGQ3M2JmZGRhYjJlMDEyNmQ0ZmQyMCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.LBe22mWE7l2aAEEdlOssZLYN_I2g5ZuGU5otNXYhb-U\" style=\"max-width: 100%;\"></a>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50545",
            "title": "Parallelize tests in the CI",
            "date_modified": "2024-01-02T22:34:04.000Z",
            "date_published": "2024-01-02T22:33:08.000Z",
            "author": {
                "name": "santib",
                "url": "https://github.com/santib"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Prior to this commit, it was possible for test suites to misuse the <code class=\"notranslate\">assert_redirected_to</code> assertion by passing a <code class=\"notranslate\">:status</code> option for codes outside the <code class=\"notranslate\">3XX</code> range.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This change raises an <code class=\"notranslate\">ArgumentError</code> to guide callers toward a redirect code.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50544",
            "title": "Raise `ArgumentError` when calling `assert_redirected_to` with invalid `:status`",
            "date_modified": "2024-01-02T23:39:18.000Z",
            "date_published": "2024-01-02T22:13:25.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6373536?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because it seems appropriate to run the CI on every PR no just on PRs to <code class=\"notranslate\">main</code>.</p>\n<p dir=\"auto\">Sometimes you might want to open a PR against another branch (which could have an open PR against <code class=\"notranslate\">main</code>) so to propose improvements before merging, or because some team might use feature branches, etc.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the generated ci.yml file in new Rails apps, so that the CI is triggered on PRs to any branch, not just on the ones that have <code class=\"notranslate\">main</code> as the base branch.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50543",
            "title": "Adjust CI config for new Rails apps to run on PRs to any branch",
            "date_modified": "2024-01-02T22:02:39.000Z",
            "date_published": "2024-01-02T22:02:35.000Z",
            "author": {
                "name": "santib",
                "url": "https://github.com/santib"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/12740?u=334294a0f17ff1044b837804468aedad6cbe917d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><a href=\"https://guides.rubyonrails.org/api_documentation_guidelines.html\" rel=\"nofollow\">Rails API documentation guidelines</a> says: Explore and document edge cases.</p>\n<p dir=\"auto\">This Pull Request has been created because the edge cases are not documented for ActiveRecord find method.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes activerecord/lib/active_record/relation/finder_methods.rb (only documentation)</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Tested locally to make the document accurate.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frozen_string_literal: true\n\nrequire 'bundler/inline'\n\ngemfile(true) do\n  source 'https://rubygems.org'\n\n  git_source(:github) { |repo| &quot;https://github.com/#{repo}.git&quot; }\n\n  gem 'rails', github: 'rails/rails'\n  gem 'sqlite3'\nend\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new($stdout)\n\nActiveRecord::Schema.define do\n  create_table :articles, force: true do |t|\n  end\nend\n\nclass Article &lt; ActiveRecord::Base\nend\n\n# Represents an executable documentation for ActiveRecord::Base#find method for the edge cases.\n#\n# @example\n#   ruby cases/find.rb\nclass Find &lt; Minitest::Test\n  # Documents the input and output of the find method.\n  #\n  # @param input [Integer, String, Array&lt;Integer&gt;, Array&lt;String&gt;] The input to be passed to the find method.\n  # @return [Array] the output type is an array.\n  def test_interface\n    result = Article.find([])\n\n    assert_equal Array, result.class\n  end\n\n  # Tests the behavior of the find method when a non-existent record ID is passed as an argument.\n  #\n  # @raise [ActiveRecord::RecordNotFound] if the record with the given ID does not exist.\n  def test_non_existent_record\n    assert_raises(ActiveRecord::RecordNotFound) do\n      Article.find(1)\n    end\n  end\n\n  # Tests the behavior of the find method when nil is passed as an argument.\n  #\n  # @raise [ActiveRecord::RecordNotFound] if the argument is nil.\n  def test_find_with_nil\n    assert_raises(ActiveRecord::RecordNotFound) do\n      Article.find(nil)\n    end\n  end\n\n  # Tests the behavior of the find method when no argument is passed.\n  #\n  # @raise [ActiveRecord::RecordNotFound] if no argument is provided.\n  def test_find_with_no_argument\n    assert_raises(ActiveRecord::RecordNotFound) do\n      Article.find\n    end\n  end\n\n  # Tests the behavior of the find method when an empty array is passed as an argument.\n  #\n  # @return [Array] An empty array.\n  def test_find_with_empty_array\n    result = Article.find([])\n\n    assert_equal 0, result.size\n  end\n\n  # Tests the behavior of the find method when a non-existent record ID is passed as an element of an array.\n  #\n  # @raise [ActiveRecord::RecordNotFound] if the record with the given ID does not exist.\n  def test_non_existent_record_in_array\n    assert_raises(ActiveRecord::RecordNotFound) do\n      Article.find([1])\n    end\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-c\"># frozen_string_literal: true</span>\n\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">'bundler/inline'</span>\n\n<span class=\"pl-en\">gemfile</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">true</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">source</span> <span class=\"pl-s\">'https://rubygems.org'</span>\n\n  <span class=\"pl-en\">git_source</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:github</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span> |<span class=\"pl-s1\">repo</span>| <span class=\"pl-s\">\"https://github.com/<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">repo</span><span class=\"pl-kos\">}</span></span>.git\"</span> <span class=\"pl-kos\">}</span>\n\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">'rails'</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">github</span>: <span class=\"pl-s\">'rails/rails'</span>\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">'sqlite3'</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">'active_record'</span>\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">'minitest/autorun'</span>\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">'logger'</span>\n\n<span class=\"pl-c\"># This connection will do for database-independent bug reports.</span>\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">establish_connection</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">adapter</span>: <span class=\"pl-s\">'sqlite3'</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">database</span>: <span class=\"pl-s\">':memory:'</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">logger</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Logger</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span>$stdout<span class=\"pl-kos\">)</span>\n\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Schema</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">define</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">create_table</span> <span class=\"pl-pds\">:articles</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">force</span>: <span class=\"pl-c1\">true</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Article</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-c\"># Represents an executable documentation for ActiveRecord::Base#find method for the edge cases.</span>\n<span class=\"pl-c\">#</span>\n<span class=\"pl-c\"># @example</span>\n<span class=\"pl-c\">#   ruby cases/find.rb</span>\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Find</span> &lt; <span class=\"pl-v\">Minitest</span>::<span class=\"pl-v\">Test</span>\n  <span class=\"pl-c\"># Documents the input and output of the find method.</span>\n  <span class=\"pl-c\">#</span>\n  <span class=\"pl-c\"># @param input [Integer, String, Array&lt;Integer&gt;, Array&lt;String&gt;] The input to be passed to the find method.</span>\n  <span class=\"pl-c\"># @return [Array] the output type is an array.</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_interface</span>\n    <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>\n\n    <span class=\"pl-en\">assert_equal</span> <span class=\"pl-v\">Array</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">class</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-c\"># Tests the behavior of the find method when a non-existent record ID is passed as an argument.</span>\n  <span class=\"pl-c\">#</span>\n  <span class=\"pl-c\"># @raise [ActiveRecord::RecordNotFound] if the record with the given ID does not exist.</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_non_existent_record</span>\n    <span class=\"pl-en\">assert_raises</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">RecordNotFound</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n      <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-k\">end</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-c\"># Tests the behavior of the find method when nil is passed as an argument.</span>\n  <span class=\"pl-c\">#</span>\n  <span class=\"pl-c\"># @raise [ActiveRecord::RecordNotFound] if the argument is nil.</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_find_with_nil</span>\n    <span class=\"pl-en\">assert_raises</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">RecordNotFound</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n      <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">nil</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-k\">end</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-c\"># Tests the behavior of the find method when no argument is passed.</span>\n  <span class=\"pl-c\">#</span>\n  <span class=\"pl-c\"># @raise [ActiveRecord::RecordNotFound] if no argument is provided.</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_find_with_no_argument</span>\n    <span class=\"pl-en\">assert_raises</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">RecordNotFound</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n      <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find</span>\n    <span class=\"pl-k\">end</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-c\"># Tests the behavior of the find method when an empty array is passed as an argument.</span>\n  <span class=\"pl-c\">#</span>\n  <span class=\"pl-c\"># @return [Array] An empty array.</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_find_with_empty_array</span>\n    <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>\n\n    <span class=\"pl-en\">assert_equal</span> <span class=\"pl-c1\">0</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">size</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-c\"># Tests the behavior of the find method when a non-existent record ID is passed as an element of an array.</span>\n  <span class=\"pl-c\">#</span>\n  <span class=\"pl-c\"># @raise [ActiveRecord::RecordNotFound] if the record with the given ID does not exist.</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_non_existent_record_in_array</span>\n    <span class=\"pl-en\">assert_raises</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">RecordNotFound</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n      <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-k\">end</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50541",
            "title": "Document edge cases for find",
            "date_modified": "2024-01-02T22:05:53.000Z",
            "date_published": "2024-01-02T19:33:42.000Z",
            "author": {
                "name": "bparanj",
                "url": "https://github.com/bparanj"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/16840674?u=1209e142ce2fe178204d82cba339c99291ed8d51&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Now that we have Rubocop by default, it's worth it to have a basic git pre-commit config by default for new rails apps unless it's created with <code class=\"notranslate\">--skip-rubocop</code> flag.</p>",
            "url": "https://github.com/rails/rails/pull/50511",
            "title": "Default to creating git pre-commit",
            "date_modified": "2024-01-03T15:29:51.000Z",
            "date_published": "2023-12-31T21:54:24.000Z",
            "author": {
                "name": "faqndo97",
                "url": "https://github.com/faqndo97"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/12740?u=334294a0f17ff1044b837804468aedad6cbe917d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Getting started rails edge guide is missing details about Docker.</p>\n<p dir=\"auto\">This Pull Request has been created because developers are opening issues due to lack of documentation on how to use it to run their Rails app.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes guides/source/getting_started.md</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">The section is based on Rafael's post: <a href=\"https://rubyonrails.org/2023/10/5/Rails-7-1-0-has-been-released\" rel=\"nofollow\">https://rubyonrails.org/2023/10/5/Rails-7-1-0-has-been-released</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50509",
            "title": "Add Dockerfile section in the docs [skip ci]",
            "date_modified": "2024-01-03T00:26:24.000Z",
            "date_published": "2023-12-31T20:15:53.000Z",
            "author": {
                "name": "bparanj",
                "url": "https://github.com/bparanj"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/699616?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">In Rails 7.0 despite api documention, <code class=\"notranslate\">readonly_attributes</code> returned a set:<br>\n<a href=\"https://github.com/rails/rails/blob/7-0-stable/activerecord/lib/active_record/readonly_attributes.rb#L26\">https://github.com/rails/rails/blob/7-0-stable/activerecord/lib/active_record/readonly_attributes.rb#L26</a></p>\n<p dir=\"auto\">This was fixed in 7.1:<br>\n<a href=\"https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/readonly_attributes.rb#L31\">https://github.com/rails/rails/blob/7-1-stable/activerecord/lib/active_record/readonly_attributes.rb#L31</a></p>\n<p dir=\"auto\">However the usage of <code class=\"notranslate\">readonly_attributes</code> was guarded with a .to_a which is now no longer needed </p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/590a675c4ecfaa9b7b06787a30adeb0136524879/activerecord/lib/active_record/insert_all.rb#L195\">rails/activerecord/lib/active_record/insert_all.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 195\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/590a675c4ecfaa9b7b06787a30adeb0136524879\">590a675</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L195\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"195\"></td>\n          <td id=\"LC195\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-en\">primary_keys</span> + <span class=\"pl-en\">model</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">readonly_attributes</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_a</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes an unnecessary to_a call</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n</ul>\n<p dir=\"auto\">NA:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50487",
            "title": "Remove unnecessary to_a conversion for readonly_attributes method call",
            "date_modified": "2023-12-30T04:06:54.000Z",
            "date_published": "2023-12-30T04:06:50.000Z",
            "author": {
                "name": "jprosevear",
                "url": "https://github.com/jprosevear"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><code class=\"notranslate\">explain</code> can be called on a relation to explain how the database would execute a query.<br>\nCurrently <code class=\"notranslate\">explain</code> doesn't work for queries using <code class=\"notranslate\">last</code>, <code class=\"notranslate\">pluck</code> or <code class=\"notranslate\">count</code>, as these return the actual result instead of a relation. This makes it difficult to optimize these queries.</p>\n<p dir=\"auto\">By letting <code class=\"notranslate\">explain</code> return a proxy instead, we can support these methods.</p>\n<h3 dir=\"auto\">Detail</h3>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"User.all.explain.count\n# =&gt; &quot;EXPLAIN SELECT COUNT(*) FROM `users`&quot;\n\nUser.all.explain.maximum(:id)\n# =&gt; &quot;EXPLAIN SELECT MAX(`users`.`id`) FROM `users`&quot;\"><pre class=\"notranslate\"><span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">explain</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">count</span>\n<span class=\"pl-c\"># =&gt; \"EXPLAIN SELECT COUNT(*) FROM `users`\"</span>\n\n<span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">explain</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">maximum</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:id</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># =&gt; \"EXPLAIN SELECT MAX(`users`.`id`) FROM `users`\"</span></pre></div>\n<p dir=\"auto\">This breaks the existing behaviour in that it requires calling inspect after explain.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"User.all.explain.inspect\n# =&gt; &quot;EXPLAIN SELECT `users`.* FROM `users`&quot;\"><pre class=\"notranslate\"><span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">explain</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">inspect</span>\n<span class=\"pl-c\"># =&gt; \"EXPLAIN SELECT `users`.* FROM `users`\"</span></pre></div>\n<p dir=\"auto\">However, as <code class=\"notranslate\">explain</code> is mostly used from the commandline, this won't be a problem as inspect is called automatically in IRB.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This is a variation of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2052988237\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50424\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50424/hovercard\" href=\"https://github.com/rails/rails/pull/50424\">#50424</a> which used arguments instead of a proxy and method calls.</p>\n<p dir=\"auto\">Another variation could be passing a block instead. This would not break the current behaviour, but it's a bit more verbose:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"User.all.explain do |relation|\n   relation.count\nend\"><pre class=\"notranslate\"><span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">explain</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">relation</span>|\n   <span class=\"pl-s1\">relation</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">count</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">With a symbol-to-proc it becomes a bit terser:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"User.all.explain(&amp;:count)\"><pre class=\"notranslate\"><span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">explain</span><span class=\"pl-kos\">(</span>&amp;<span class=\"pl-pds\">:count</span><span class=\"pl-kos\">)</span></pre></div>\n<p dir=\"auto\">Unlike the proxy solution, this notation could also be applied to <code class=\"notranslate\">to_sql</code>:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"User.all.to_sql(&amp;:count)\"><pre class=\"notranslate\"><span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_sql</span><span class=\"pl-kos\">(</span>&amp;<span class=\"pl-pds\">:count</span><span class=\"pl-kos\">)</span></pre></div>\n<p dir=\"auto\">Or we could use method name variations, but that would break with the arguments that can be passed to <code class=\"notranslate\">explain</code>, like <code class=\"notranslate\">explain(:analyze, :buffers)</code>:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"User.all.explain_count\nUser.all.explain_maximum(:id)\"><pre class=\"notranslate\"><span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">explain_count</span>\n<span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">all</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">explain_maximum</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:id</span><span class=\"pl-kos\">)</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50482",
            "title": "Add `explain` support for methods like `last`, `pluck` and `count`",
            "date_modified": "2024-01-02T21:29:38.000Z",
            "date_published": "2023-12-29T15:15:27.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50448.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2056748267\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50448\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50448/hovercard\" href=\"https://github.com/rails/rails/issues/50448\">#50448</a></p>\n<p dir=\"auto\">NOTE: This is a proof-of-concept, that I came up with based on my understanding of ActiveRecord::DatabaseConfigurations and try to find a tiny seam to add support for this feature. Open to feedback and suggestions, but wanted to take a stab at this while it was fresh in my head.</p>",
            "url": "https://github.com/rails/rails/pull/50477",
            "title": "Active Storage can be configured by STORAGE_URL",
            "date_modified": "2023-12-31T23:17:14.000Z",
            "date_published": "2023-12-29T06:36:26.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/923418?u=adac721c7f9d008c9dedd36b7197c6a1e7e042a2&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background &amp; Detail</h3>\n<p dir=\"auto\"><a href=\"https://api.rubyonrails.org/v7.1.2/classes/ActiveRecord/ConnectionAdapters/SchemaStatements.html#method-i-create_table\" rel=\"nofollow\"><code class=\"notranslate\">create_table</code></a> provides an <code class=\"notranslate\">options:</code> key that allows you to append options to your table definition. One of the things you can do this way with PostgreSQL 12+ is use <a href=\"https://www.postgresql.org/docs/current/ddl-partitioning.html\" rel=\"nofollow\">native partitioning</a> to declare partitioning definitions:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"create_table :events, id: false, options: &quot;PARTITION BY LIST (account_id)&quot; do |t|\n  t.bigint :account_id, null: false\n  t.integer :kind, null: false\n  t.datetime :occurred_at, null: false\nend\"><pre class=\"notranslate\"><code class=\"notranslate\">create_table :events, id: false, options: \"PARTITION BY LIST (account_id)\" do |t|\n  t.bigint :account_id, null: false\n  t.integer :kind, null: false\n  t.datetime :occurred_at, null: false\nend\n</code></pre></div>\n<p dir=\"auto\">Adding this to a migration and running it will properly create the partitioned table in development, but the dumped schema will not persist the specified partitioning options. Therefore, if you run your test suite which loads from <code class=\"notranslate\">schema.rb</code>, your test database's table won't be properly partitioned.</p>\n<p dir=\"auto\">This PR extends the PostgeSQL adapter's schema statements so that it can dump this partitioning definition as defined in the relevant system tables.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50475",
            "title": "support dumping postgres partitioning options to schema",
            "date_modified": "2024-01-02T14:34:26.000Z",
            "date_published": "2023-12-28T21:23:47.000Z",
            "author": {
                "name": "waymondo",
                "url": "https://github.com/waymondo"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Since <code class=\"notranslate\">ActionText::Content</code> wraps an <code class=\"notranslate\">ActionText::Fragment</code>, and <code class=\"notranslate\">ActionText::Fragment</code> wraps a <code class=\"notranslate\">Nokogiri::XML::DocumentFragment</code>, then <code class=\"notranslate\">ActionText::Content</code> should be able to rely on the newer Ruby pattern matching introduced by <a href=\"https://nokogiri.org/CHANGELOG.html?h=pattern\" rel=\"nofollow\">nokogiri@1.16.0</a> (mainly the <a href=\"https://nokogiri.org/rdoc/Nokogiri/XML/DocumentFragment.html?h=deconstruct#method-i-deconstruct\" rel=\"nofollow\">DocumentFragment#deconstruct</a> method):</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"action_text_content = ActionText::Content.new &lt;&lt;~HTML\n  &lt;h1&gt;Hello, world&lt;/h1&gt;\n\n  &lt;div&gt;The body&lt;/div&gt;\nHTML\n\naction_text_content =&gt; [h1, div]\n\nassert_pattern { h1 =&gt; { content: &quot;Hello, world&quot; } }\nassert_pattern { div =&gt; { content: &quot;The body&quot; } }\"><pre class=\"notranslate\"><span class=\"pl-s1\">action_text_content</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">ActionText</span>::<span class=\"pl-v\">Content</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span> <span class=\"pl-s\">&lt;&lt;~HTML</span><span class=\"pl-s\"></span>\n<span class=\"pl-s\">  <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">h1</span><span class=\"pl-kos\">&gt;</span>Hello, world<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">h1</span><span class=\"pl-kos\">&gt;</span></span>\n<span class=\"pl-s\"></span>\n<span class=\"pl-s\">  <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">div</span><span class=\"pl-kos\">&gt;</span>The body<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">div</span><span class=\"pl-kos\">&gt;</span></span>\n<span class=\"pl-s\">HTML</span>\n\n<span class=\"pl-s1\">action_text_content</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">[</span><span class=\"pl-en\">h1</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">div</span><span class=\"pl-kos\">]</span>\n\n<span class=\"pl-en\">assert_pattern</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">h1</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">content</span>: <span class=\"pl-s\">\"Hello, world\"</span> <span class=\"pl-kos\">}</span> <span class=\"pl-kos\">}</span>\n<span class=\"pl-en\">assert_pattern</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">div</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">content</span>: <span class=\"pl-s\">\"The body\"</span> <span class=\"pl-kos\">}</span> <span class=\"pl-kos\">}</span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The implementation change relies on delegating from <code class=\"notranslate\">Content</code> to <code class=\"notranslate\">Fragment</code>, and from <code class=\"notranslate\">Fragment</code> to <code class=\"notranslate\">DocumentFragment#elements</code> (to deliberately exclude text nodes).</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50473",
            "title": "Delegate `ActionText::Content#deconstruct` to Nokogiri",
            "date_modified": "2024-01-01T14:24:51.000Z",
            "date_published": "2023-12-28T14:23:58.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Utilizing the <a href=\"https://edgeapi.rubyonrails.org/classes/ActionText/FixtureSet.html#method-c-attachment\" rel=\"nofollow\">ActionText::FixtureSet.attachment</a> method in consumer application's test suites relies on a hard-coded<br>\n<code class=\"notranslate\">action-text-attachment</code> element tag name. While it's uncommon for that value to change, it <em>is</em> possible to configure it with the <code class=\"notranslate\">config.action_text.attachment_tag_name</code> configuration.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit replaces the hard-coded name by interpolating <code class=\"notranslate\">ActionText::Attachment.tag_name</code>.</p>\n<p dir=\"auto\">Internal to the Rails test suite, Action Text's fixtures use HTML with <code class=\"notranslate\">&lt;p&gt;</code> elements to wrap new blocks of text. Trix uses <code class=\"notranslate\">&lt;div&gt;</code> elements by default for line breaking (and for <a href=\"https://github.com/basecamp/trix/issues/202#issuecomment-461166895\" data-hovercard-type=\"issue\" data-hovercard-url=\"/basecamp/trix/issues/202/hovercard\">other historical reasons</a>). This change is internal to this codebase, and will not affect users.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50472",
            "title": "Read `ActionText::Attachment.tag_name` in Action Text Fixtures",
            "date_modified": "2024-01-02T00:11:59.000Z",
            "date_published": "2023-12-28T13:54:36.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The introduction of the block argument means that <code class=\"notranslate\">Object#with</code> can now accept a <code class=\"notranslate\">Symbol#to_proc</code> as the block argument:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"client.with(timeout: 5_000, &amp;:ping)\"><pre class=\"notranslate\"><span class=\"pl-en\">client</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">with</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">timeout</span>: <span class=\"pl-c1\">5_000</span><span class=\"pl-kos\">,</span> &amp;<span class=\"pl-pds\">:ping</span><span class=\"pl-kos\">)</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50470",
            "title": "Yield instance to `Object#with` block",
            "date_modified": "2023-12-31T17:45:46.000Z",
            "date_published": "2023-12-28T13:12:43.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Ref <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2057784501\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50465\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50465/hovercard\" href=\"https://github.com/rails/rails/issues/50465\">#50465</a></p>\n<p dir=\"auto\">Previously, it was theoretically possible to define a route with a Symbol as a <code class=\"notranslate\">to:</code> value (or at least, it would not raise a <code class=\"notranslate\">NoMethodError</code>). However, passing a Symbol broke when <code class=\"notranslate\">/#/.match?(to)</code> was <a href=\"https://github.com/rails/rails/commit/5726b1d1d7665c33830ad114f45258ecf772b7b6\">replaced</a> with <code class=\"notranslate\">to&amp;.include?(\"#\")</code> with the assumption that <code class=\"notranslate\">to</code> was always a String.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit fixes the issue by calling <code class=\"notranslate\">to_s</code> on the <code class=\"notranslate\">to:</code> value before calling <code class=\"notranslate\">includes?</code> to prevent the <code class=\"notranslate\">NoMethodError</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">I considered writing a test but testing that a symbol is allowed seems wrong when it doesn't actually work (it tries to split the symbol into controller/action, and returns nil for both if symbol). Maybe alternatively we proactively raise an <code class=\"notranslate\">ArgumentError</code> if the <code class=\"notranslate\">to</code> value isn't a <code class=\"notranslate\">String</code> (after the <code class=\"notranslate\">respond_to?</code> checks)?</p>\n<p dir=\"auto\">If accepted, this should be backported to <code class=\"notranslate\">7-1-stable</code></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50466",
            "title": "Fix NoMethodError when to: value is Symbol",
            "date_modified": "2023-12-31T23:54:11.000Z",
            "date_published": "2023-12-27T22:24:43.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        }
    ]
}