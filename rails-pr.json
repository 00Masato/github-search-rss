{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50830.\">Closes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2092565763\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50830\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50830/hovercard\" href=\"https://github.com/rails/rails/issues/50830\">#50830</a>.</p>\n<p dir=\"auto\">The code works, but docs/tests etc are currently missing. I want to validate the approach before proceeding.</p>\n<p dir=\"auto\">Inside action mailer I am reusing private methods from the implementation of callbacks from the action controller, see <a href=\"https://github.com/rails/rails/blob/main/actionpack/lib/abstract_controller/callbacks.rb\">https://github.com/rails/rails/blob/main/actionpack/lib/abstract_controller/callbacks.rb</a>.</p>\n<p dir=\"auto\">The questions to consider are:</p>\n<ol dir=\"auto\">\n<li>Should the mailer callbacks really depend on the internals of controller callbacks, considering that it already includes it <div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/776626ff987a96201b0bdbd86d716ca6698fa8b3/actionmailer/lib/action_mailer/base.rb#L493\">rails/actionmailer/lib/action_mailer/base.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 493\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/776626ff987a96201b0bdbd86d716ca6698fa8b3\">776626f</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L493\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"493\"></td>\n          <td id=\"LC493\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-en\">include</span> <span class=\"pl-v\">AbstractController</span>::<span class=\"pl-v\">Callbacks</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</li>\n<li>Controllers callbacks have a <code class=\"notranslate\">raise_on_missing_callbacks_action</code>, see <div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/776626ff987a96201b0bdbd86d716ca6698fa8b3/actionpack/lib/abstract_controller/callbacks.rb#L36\">rails/actionpack/lib/abstract_controller/callbacks.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 36\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/776626ff987a96201b0bdbd86d716ca6698fa8b3\">776626f</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L36\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"36\"></td>\n          <td id=\"LC36\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-en\">mattr_accessor</span> <span class=\"pl-pds\">:raise_on_missing_callback_actions</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">default</span>: <span class=\"pl-c1\">false</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n which can be set via <code class=\"notranslate\">config.action_controller. raise_on_missing_callbacks_action</code>. This kinda makes sense for action mailer too, so should we introduce <code class=\"notranslate\">config.action_mailer.raise_on_missing_callbacks_action</code> config?</li>\n<li>Controller callbacks use the word <code class=\"notranslate\">\"controller\"</code>, see <div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/776626ff987a96201b0bdbd86d716ca6698fa8b3/actionpack/lib/abstract_controller/callbacks.rb#L54\">rails/actionpack/lib/abstract_controller/callbacks.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 54\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/776626ff987a96201b0bdbd86d716ca6698fa8b3\">776626f</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L54\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"54\"></td>\n          <td id=\"LC54\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s\">              callback on <span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">controller</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">class</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">name</span><span class=\"pl-kos\">}</span></span>, but it is listed in the controller's</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n, while for mailer we should use the <code class=\"notranslate\">\"mailer\"</code> word or should we make the message text more generic?</li>\n</ol>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/bensheldon/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/bensheldon\">@bensheldon</a></p>",
            "url": "https://github.com/rails/rails/pull/50858",
            "title": "Support options for ActionMailer delivery callbacks",
            "date_modified": "2024-01-23T23:16:31.000Z",
            "date_published": "2024-01-23T23:16:27.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/29010172?u=b22422071c289f4126829f8c3f71015caf915154&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds documentation comments to the belongs_to and has_one methods in ActiveRecord::Associations to explain that autosave: true also enables validations by default. This is to reflect the actual behavior of these methods, as described in the source code and observed in application behavior.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Reference to the issue discussed in Rails: Undocumented - validations enabled by autosave <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2090245533\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50807\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50807/hovercard\" href=\"https://github.com/rails/rails/issues/50807\">#50807</a><br>\nInline gemfile with bundler example -</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"require &quot;bundler/inline&quot;\n\ngemfile do\n  source &quot;https://rubygems.org&quot;\n  gem &quot;rails&quot;, &quot;7.1.3&quot;\n  gem &quot;sqlite3&quot;\nend\n\nrequire &quot;active_record&quot;\nrequire &quot;minitest/autorun&quot;\nrequire &quot;logger&quot;\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: &quot;sqlite3&quot;, database: &quot;:memory:&quot;)\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :authors do |t|\n    t.string :name\n  end\n\n  create_table :books do |t|\n    t.belongs_to :author\n    t.string :title\n  end\nend\n\nclass Author &lt; ActiveRecord::Base\n  has_one :book, autosave: true\nend\n\nclass Book &lt; ActiveRecord::Base\n  belongs_to :author\n  validates :title, presence: true\nend\n\nclass BugTest &lt; Minitest::Test\n  def test_autosave_with_validations\n    author = Author.new(name: &quot;J.K. Rowling&quot;)\n    author.build_book # Not setting a title to trigger validation failure\n\n    refute author.save, &quot;Author should not be saved due to book validation failure&quot;\n    assert author.book.errors.full_messages.include?(&quot;Title can't be blank&quot;), &quot;Book should contain error on title&quot;\n  end\nend\n\"><pre class=\"notranslate\"><span class=\"pl-en\">require</span> <span class=\"pl-s\">\"bundler/inline\"</span>\n\n<span class=\"pl-en\">gemfile</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">source</span> <span class=\"pl-s\">\"https://rubygems.org\"</span>\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">\"rails\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"7.1.3\"</span>\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">\"sqlite3\"</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"active_record\"</span>\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"minitest/autorun\"</span>\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"logger\"</span>\n\n<span class=\"pl-c\"># This connection will do for database-independent bug reports.</span>\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">establish_connection</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">adapter</span>: <span class=\"pl-s\">\"sqlite3\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">database</span>: <span class=\"pl-s\">\":memory:\"</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">logger</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Logger</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">STDOUT</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Schema</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">define</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">create_table</span> <span class=\"pl-pds\">:authors</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">string</span> <span class=\"pl-pds\">:name</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-en\">create_table</span> <span class=\"pl-pds\">:books</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">belongs_to</span> <span class=\"pl-pds\">:author</span>\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">string</span> <span class=\"pl-pds\">:title</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Author</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">has_one</span> <span class=\"pl-pds\">:book</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">autosave</span>: <span class=\"pl-c1\">true</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Book</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">belongs_to</span> <span class=\"pl-pds\">:author</span>\n  <span class=\"pl-en\">validates</span> <span class=\"pl-pds\">:title</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">presence</span>: <span class=\"pl-c1\">true</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">BugTest</span> &lt; <span class=\"pl-v\">Minitest</span>::<span class=\"pl-v\">Test</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_autosave_with_validations</span>\n    <span class=\"pl-s1\">author</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Author</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"J.K. Rowling\"</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-s1\">author</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">build_book</span> <span class=\"pl-c\"># Not setting a title to trigger validation failure</span>\n\n    <span class=\"pl-en\">refute</span> <span class=\"pl-s1\">author</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">save</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"Author should not be saved due to book validation failure\"</span>\n    <span class=\"pl-en\">assert</span> <span class=\"pl-s1\">author</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">book</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">errors</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">full_messages</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">include?</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Title can't be blank\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"Book should contain error on title\"</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change, specifically the addition of documentation for autosave: true behavior.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message includes a detailed description of the changes, for example: [Doc <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2090245533\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50807\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50807/hovercard\" href=\"https://github.com/rails/rails/issues/50807\">#50807</a>] Document autosave validation behavior for associations.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are not required as this is a documentation update.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG is not updated since this is a minor documentation change and does not affect library behavior.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50856",
            "title": "Document autosave validation behavior for ActiveRecord associations [ci skip]",
            "date_modified": "2024-01-23T21:03:11.000Z",
            "date_published": "2024-01-23T19:41:36.000Z",
            "author": {
                "name": "Dmoment",
                "url": "https://github.com/Dmoment"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5079556?u=d571676cb19b50ef19ea0dcd2f2b66a2d38dd574&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The combination of red and blue is more color-blind friendly than red and green.</p>\n<p dir=\"auto\">Discussion: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2089217366\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50796\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50796/hovercard?comment_id=1463670198&amp;comment_type=review_comment\" href=\"https://github.com/rails/rails/pull/50796#discussion_r1463670198\">#50796 (comment)</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50855",
            "title": "Display dev & test env in console prompt in blue instead of green",
            "date_modified": "2024-01-23T18:08:21.000Z",
            "date_published": "2024-01-23T18:08:16.000Z",
            "author": {
                "name": "st0012",
                "url": "https://github.com/st0012"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Closes [<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2094843344\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50844\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50844/hovercard\" href=\"https://github.com/rails/rails/issues/50844\">#50844</a>][]</p>\n<h2 dir=\"auto\">Motivation / Background</h2>\n<p dir=\"auto\">A controller declared in the top-level module can render a top-level Active Model instance whose partial is declared in the root view directory (like <code class=\"notranslate\">articles/_article.html.erb</code>).</p>\n<p dir=\"auto\">A controller scoped within a module can render an Active Model instance whose partial is similarly scoped within view directory (like <code class=\"notranslate\">scoped/articles/_article.html.erb</code>).</p>\n<p dir=\"auto\">A controller scoped within a module cannot render an Active Model instance whose partial is declared in the root view directory (like <code class=\"notranslate\">articles/_article.html.erb</code>), despite the absence of a similarly scoped partial.</p>\n<p dir=\"auto\">This is intended behavior that's powered by<br>\n<a href=\"https://guides.rubyonrails.org/configuring.html#config-action-view-prefix-partial-path-with-controller-namespace\" rel=\"nofollow\"><code class=\"notranslate\">config.action_view.prefix_partial_path_with_controller_namespace = true</code></a> (<code class=\"notranslate\">true</code> by default).</p>\n<p dir=\"auto\">This change was introduced in March of 2012 as part of <a href=\"https://github.com/rails/rails/pull/5625\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/5625/hovercard\">#5625</a>.</p>\n<h2 dir=\"auto\">Detail</h2>\n<p dir=\"auto\">As a consumer of Action View, my intuition is that the lookup would fallback, in the same way that a controller that inherits from <code class=\"notranslate\">ApplicationController</code> could define its own view, then rely on fallback to render an <code class=\"notranslate\">app/views/application</code> partial.</p>\n<p dir=\"auto\">This commit modifies the behavior to gracefully fall back to the root-level view partial.</p>\n<h2 dir=\"auto\">Checklist</h2>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50852",
            "title": "Action View: Fallback to existing partial when possible",
            "date_modified": "2024-01-23T15:27:15.000Z",
            "date_published": "2024-01-23T15:19:52.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1710795?u=ba3804cd0d8bb86f4422a1a20efc6947aa06a7f6&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">From Active Record Querying docs:</p>\n<blockquote>\n<p dir=\"auto\"><a href=\"https://guides.rubyonrails.org/active_record_querying.html#joining-multiple-associations\" rel=\"nofollow\">12.1.3 Joining Multiple Associations</a></p>\n<p dir=\"auto\">Book.joins(:author, :reviews)</p>\n<p dir=\"auto\">This produces:<br>\n.....<br>\nOr, in English: \"return all books with their author ...\"</p>\n</blockquote>\n<p dir=\"auto\">The English statement is wrong. English text implies it returns the book <strong>and</strong> the author.</p>\n<p dir=\"auto\">However, The code will return books only and the join means the returned books will have an author with at least 1 review.</p>\n<p dir=\"auto\">Changing the text to imply it returns books <strong>with an</strong> author instead of books and the author.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50851",
            "title": "Update Guides: AR querying english text to match code behavior [ci-skip]",
            "date_modified": "2024-01-23T19:47:56.000Z",
            "date_published": "2024-01-23T12:10:23.000Z",
            "author": {
                "name": "notapatch",
                "url": "https://github.com/notapatch"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/24068?u=93d718fa5371367f608deae2aa9a7759bd367a2d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">The asset pipeline really shouldn't be checked for remote images regardless, but this also happens to fix an issue with images pasted into Trix that get serialized as action-text-attachments with \"blob:\" urls.</p>",
            "url": "https://github.com/rails/rails/pull/50849",
            "title": "Fixes ActionView::Template::Error when pasting images via Trix",
            "date_modified": "2024-01-23T02:15:02.000Z",
            "date_published": "2024-01-23T02:14:58.000Z",
            "author": {
                "name": "schristm",
                "url": "https://github.com/schristm"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1946610?u=a3b5a8c410b2f492e84364b49ae235caef4ecb4f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because I am writing some tests for my app around records being deleted by calling <code class=\"notranslate\">reload</code>, and there was no easy way to assert that the record raising the <code class=\"notranslate\">ActiveRecord::RecordNotFound</code> exception was the record I was expecting</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">raise_record_not_found_exception!</code> to find IDs based on the primary key from the where condition, if no IDs are explicitly passed</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50846",
            "title": "Set ActiveRecord::RecordNotFound#id when raised from a call to #reload a deleted record",
            "date_modified": "2024-01-23T16:49:20.000Z",
            "date_published": "2024-01-23T00:04:37.000Z",
            "author": {
                "name": "segiddins",
                "url": "https://github.com/segiddins"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5512772?u=bbae6d87b3499e6b3662664cf4be0e84cc40f6d2&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Follow-up for <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1759527409\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48490\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48490/hovercard\" href=\"https://github.com/rails/rails/pull/48490\">#48490</a></p>\n<p dir=\"auto\">Previous code wrongly assumed that <code class=\"notranslate\">keys.map { |key| row[key] }</code> returns an array of ids while it actually returns an identifier of a single model. For a single-column PK models it will return an array with 1 element and for a composite primary key model it will return an array of N elements where N is the number of composite primary key columns.</p>\n<p dir=\"auto\">It lead to a bug where the constructed objects were wrongly populated in the cache due to cache key collision. For example <code class=\"notranslate\">posts</code> records with composite keys like <code class=\"notranslate\">[\"post1\", \"the_same_author\"]</code> and <code class=\"notranslate\">[\"post2\", \"the_same_author\"]</code> end up sharing the same cache entry under the <code class=\"notranslate\">the_same_author</code> key.</p>\n<p dir=\"auto\">This commit fixes the issue by using full composite primary key values as a whole identifier.</p>",
            "url": "https://github.com/rails/rails/pull/50845",
            "title": "Fix eager loading of composite primary key associations",
            "date_modified": "2024-01-22T23:01:15.000Z",
            "date_published": "2024-01-22T23:01:11.000Z",
            "author": {
                "name": "nvasilevski",
                "url": "https://github.com/nvasilevski"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5077225?u=e9f968c9eb790ee7734442f6b7998155400ad1d8&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request fixes a bug in the low-level SQLite adapter introspection logic. I came across the bug when working with virtual columns and JSON, but there are many possible cases where this would cause problems. Here is one reproducible bug script though:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# frozen_string_literal: true\n\nrequire &quot;bundler/inline&quot;\n\ngemfile(true) do\n  source &quot;https://rubygems.org&quot;\n\n  git_source(:github) { |repo| &quot;https://github.com/#{repo}.git&quot; }\n\n  gem &quot;rails&quot;, github: &quot;rails/rails&quot;, branch: &quot;main&quot;\n  gem &quot;sqlite3&quot;\nend\n\nrequire &quot;active_record&quot;\nrequire &quot;minitest/autorun&quot;\nrequire &quot;logger&quot;\n\nActiveRecord::Base.establish_connection(adapter: &quot;sqlite3&quot;, database: &quot;:memory:&quot;);\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :posts, force: true do |t|\n    t.json :payload, null: false, default: {}\n    t.virtual :external_id, type: :string, as: &quot;JSON_EXTRACT(payload, '$.id')&quot;, stored: true, null: false, index: true\n  end\nend\n\nclass Post &lt; ActiveRecord::Base; end\n\nclass BugTest &lt; Minitest::Test\n  def test_virtual_column_with_comma_in_definition_is_autopopulated\n    post = Post.create!(payload: { id: 'pst_1' })\n\n    assert_equal 'pst_1', post.external_id\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-c\"># frozen_string_literal: true</span>\n\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"bundler/inline\"</span>\n\n<span class=\"pl-en\">gemfile</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">true</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">source</span> <span class=\"pl-s\">\"https://rubygems.org\"</span>\n\n  <span class=\"pl-en\">git_source</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:github</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span> |<span class=\"pl-s1\">repo</span>| <span class=\"pl-s\">\"https://github.com/<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">repo</span><span class=\"pl-kos\">}</span></span>.git\"</span> <span class=\"pl-kos\">}</span>\n\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">\"rails\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">github</span>: <span class=\"pl-s\">\"rails/rails\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">branch</span>: <span class=\"pl-s\">\"main\"</span>\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">\"sqlite3\"</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"active_record\"</span>\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"minitest/autorun\"</span>\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"logger\"</span>\n\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">establish_connection</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">adapter</span>: <span class=\"pl-s\">\"sqlite3\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">database</span>: <span class=\"pl-s\">\":memory:\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">logger</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Logger</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">STDOUT</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Schema</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">define</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">create_table</span> <span class=\"pl-pds\">:posts</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">force</span>: <span class=\"pl-c1\">true</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">json</span> <span class=\"pl-pds\">:payload</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">null</span>: <span class=\"pl-c1\">false</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">default</span>: <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span>\n    <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">virtual</span> <span class=\"pl-pds\">:external_id</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">type</span>: <span class=\"pl-pds\">:string</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">as</span>: <span class=\"pl-s\">\"JSON_EXTRACT(payload, '$.id')\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">stored</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">null</span>: <span class=\"pl-c1\">false</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">index</span>: <span class=\"pl-c1\">true</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Post</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">;</span> <span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">BugTest</span> &lt; <span class=\"pl-v\">Minitest</span>::<span class=\"pl-v\">Test</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_virtual_column_with_comma_in_definition_is_autopopulated</span>\n    <span class=\"pl-s1\">post</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">create!</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">payload</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">id</span>: <span class=\"pl-s\">'pst_1'</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n\n    <span class=\"pl-en\">assert_equal</span> <span class=\"pl-s\">'pst_1'</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">external_id</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request more intelligently parses the SQL string description of the table to ensure that we only split by commas that mark a new column definition. In order to accomplish this, the table parsing method needs the list of column names for the table. When <code class=\"notranslate\">table_structure_sql</code> is called by <code class=\"notranslate\">table_structure_with_collation</code>, these can be supplied as they are already present; when it is called by <code class=\"notranslate\">foreign_keys</code>, however, they are not present and thus must be fetched.</p>\n<p dir=\"auto\">I also added a simple regression test as a part of the virtual column test case.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This bug has existed for a long time, but I most recently touched the relevant code in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1910980756\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49376\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49376/hovercard\" href=\"https://github.com/rails/rails/pull/49376\">#49376</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>\n<p dir=\"auto\">cc: <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/byroot/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/byroot\">@byroot</a> (this is related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1907061730\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49346\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49346/hovercard\" href=\"https://github.com/rails/rails/pull/49346\">#49346</a>), <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/tenderlove/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/tenderlove\">@tenderlove</a> (this is related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1898859181\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49290\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49290/hovercard\" href=\"https://github.com/rails/rails/pull/49290\">#49290</a>), <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/yahonda/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/yahonda\">@yahonda</a> (this is related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1910980756\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49376\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49376/hovercard\" href=\"https://github.com/rails/rails/pull/49376\">#49376</a>)</p>",
            "url": "https://github.com/rails/rails/pull/50838",
            "title": "Fix SQLite table definition parsing bug to handle commas in default function definitions",
            "date_modified": "2024-01-22T13:18:26.000Z",
            "date_published": "2024-01-22T13:18:21.000Z",
            "author": {
                "name": "fractaledmind",
                "url": "https://github.com/fractaledmind"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50833.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2092932851\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50833\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50833/hovercard\" href=\"https://github.com/rails/rails/issues/50833\">#50833</a>.<br>\nFollow up to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1638188755\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47753\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/47753/hovercard\" href=\"https://github.com/rails/rails/pull/47753\">#47753</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1654618259\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47863\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/47863/hovercard\" href=\"https://github.com/rails/rails/pull/47863\">#47863</a>.</p>\n<p dir=\"auto\">The easiest way to preserve the old behavior is to rename indexes back after the <code class=\"notranslate\">rename_table</code> was run.</p>",
            "url": "https://github.com/rails/rails/pull/50837",
            "title": "Ensure pre-7.1 migrations use legacy index names when using `rename_table`",
            "date_modified": "2024-01-22T12:59:04.000Z",
            "date_published": "2024-01-22T12:59:00.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">RDoc can't extract the name of accessors defined with <code class=\"notranslate\">singleton_class.attr_accessor</code>, resulting in methods called <code class=\"notranslate\">unknown</code> in RDoc.</p>\n<h2 dir=\"auto\">Before</h2>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/28561/298565070-ef21546b-15de-41b6-94b8-f4b965b62fc0.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDYwODAwMDAsIm5iZiI6MTcwNjA3OTcwMCwicGF0aCI6Ii8yODU2MS8yOTg1NjUwNzAtZWYyMTU0NmItMTVkZS00MWI2LTk0YjgtZjRiOTY1YjYyZmMwLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMjQlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTI0VDA3MDE0MFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTMyMTE4NmRmYThmNTJiM2JjNTEyNjM4OGJkNjQxYTY0M2MxNWU5NjViOGYzZjk5MWYxMjlkZWQ0OGIxM2FiNTAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.lVtFTK1Z7E2fHhtjsJ8u6Nz4R0C7D5bbsadzY5_yr0Y\"><img width=\"1033\" alt=\"image\" src=\"https://private-user-images.githubusercontent.com/28561/298565070-ef21546b-15de-41b6-94b8-f4b965b62fc0.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDYwODAwMDAsIm5iZiI6MTcwNjA3OTcwMCwicGF0aCI6Ii8yODU2MS8yOTg1NjUwNzAtZWYyMTU0NmItMTVkZS00MWI2LTk0YjgtZjRiOTY1YjYyZmMwLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMjQlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTI0VDA3MDE0MFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTMyMTE4NmRmYThmNTJiM2JjNTEyNjM4OGJkNjQxYTY0M2MxNWU5NjViOGYzZjk5MWYxMjlkZWQ0OGIxM2FiNTAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.lVtFTK1Z7E2fHhtjsJ8u6Nz4R0C7D5bbsadzY5_yr0Y\" style=\"max-width: 100%;\"></a>\n<p dir=\"auto\"><a href=\"https://edgeapi.rubyonrails.org/classes/ActiveJob.html#method-c-unknown\" rel=\"nofollow\">https://edgeapi.rubyonrails.org/classes/ActiveJob.html#method-c-unknown</a></p>\n<h2 dir=\"auto\">After</h2>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/28561/298569057-f749fb18-5818-4a87-8b7a-6269f2a45ba5.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDYwODAwMDAsIm5iZiI6MTcwNjA3OTcwMCwicGF0aCI6Ii8yODU2MS8yOTg1NjkwNTctZjc0OWZiMTgtNTgxOC00YTg3LThiN2EtNjI2OWYyYTQ1YmE1LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMjQlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTI0VDA3MDE0MFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWZkNzhmODRiNzRhNmI1MTc5MDM3ZWM5YTMyNWE1YzlkZWViOWEyMDczODhjNWUxNThlMjgxZmExNmQ0NjE3YmImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.czR-fzlQYSGy5O8HGgnE8_rt9zyVNEqHmNVUR_xsodY\"><img width=\"1010\" alt=\"image\" src=\"https://private-user-images.githubusercontent.com/28561/298569057-f749fb18-5818-4a87-8b7a-6269f2a45ba5.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDYwODAwMDAsIm5iZiI6MTcwNjA3OTcwMCwicGF0aCI6Ii8yODU2MS8yOTg1NjkwNTctZjc0OWZiMTgtNTgxOC00YTg3LThiN2EtNjI2OWYyYTQ1YmE1LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMjQlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTI0VDA3MDE0MFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWZkNzhmODRiNzRhNmI1MTc5MDM3ZWM5YTMyNWE1YzlkZWViOWEyMDczODhjNWUxNThlMjgxZmExNmQ0NjE3YmImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.czR-fzlQYSGy5O8HGgnE8_rt9zyVNEqHmNVUR_xsodY\" style=\"max-width: 100%;\"></a>\n<h3 dir=\"auto\">Additional Information</h3>\n<p dir=\"auto\">If the method can't be found RDoc will output a warning when the <code class=\"notranslate\">verbose</code> option is set.<br>\nI'd would be nice if this would raise an error instead.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50836",
            "title": "Specify RDoc method name for accessors defined on singleton_class",
            "date_modified": "2024-01-22T12:54:51.000Z",
            "date_published": "2024-01-22T11:38:14.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/108208?u=31587544126ab4506d05644fcccb8621f893ef1b&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created to address <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2092163791\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50824\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50824/hovercard\" href=\"https://github.com/rails/rails/issues/50824\">#50824</a>.</p>\n<p dir=\"auto\">when there is a MySQL server running on localhost, and the gem translates the hostname to a socket.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the raised exception while attempting to connect to a MySQL server running on localhost, which is the case for a container running on local machine on default port.</p>\n<p dir=\"auto\">Turns out the MySQL client library translates the hostname <code class=\"notranslate\">localhost</code> to a socket, but there is the server up and running.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">The new exception instructs you to use the IP address instead of the hostname when using the MySQL adapter.</p>\n<p dir=\"auto\">FYI, it doesn't happen when using Trilogy as the adapter to connect to MySQL servers.</p>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50832",
            "title": "Add new exception when attempting to connect to MySQL running on localhost.",
            "date_modified": "2024-01-22T01:58:22.000Z",
            "date_published": "2024-01-22T01:58:18.000Z",
            "author": {
                "name": "ruyrocha",
                "url": "https://github.com/ruyrocha"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6979737?u=e5fc89c5f1b12b1fb83f942c742af204df2d1ca1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR fixes an issue where non-hash where-clause values for associations would not set <code class=\"notranslate\">references_values</code>. This could (and often does) end up causing hard-to-debug SQL errors due to association name vs table name mismatch, e.g. querying on a singular association name while the actual join table is plural, or vice-versa due to a prior scope.</p>\n<p dir=\"auto\">More detailed reproduction script:  <a href=\"https://gist.github.com/ezekg/5969735eb8c5092fb25198bd8fac4053\">https://gist.github.com/ezekg/5969735eb8c5092fb25198bd8fac4053</a></p>\n<h4 dir=\"auto\">Before</h4>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"scope = Comment.where(post: { id: post })\nscope.references_values # =&gt; [&quot;post&quot;]\n\nscope = Comment.where(post: post)\nscope.references_values # =&gt; []\"><pre class=\"notranslate\"><span class=\"pl-s1\">scope</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Comment</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">where</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">post</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">id</span>: <span class=\"pl-en\">post</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">scope</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">references_values</span> <span class=\"pl-c\"># =&gt; [\"post\"]</span>\n\n<span class=\"pl-s1\">scope</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Comment</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">where</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">post</span>: <span class=\"pl-en\">post</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">scope</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">references_values</span> <span class=\"pl-c\"># =&gt; []</span></pre></div>\n<p dir=\"auto\">I'd expect these to be synonymous since <a href=\"https://github.com/ezekg/rails/blob/c37450b76b24cac7951032c4210db17a9c1b7f51/activerecord/lib/active_record/relation/predicate_builder.rb#L58\"><code class=\"notranslate\">#id</code> is called on <code class=\"notranslate\">post</code></a> for the second case.</p>\n<h4 dir=\"auto\">After</h4>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"scope = Comment.where(post: { id: post })\nscope.references_values # =&gt; [&quot;post&quot;]\n\nscope = Comment.where(post: post)\nscope.references_values # =&gt; [&quot;post&quot;]\"><pre class=\"notranslate\"><span class=\"pl-s1\">scope</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Comment</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">where</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">post</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">id</span>: <span class=\"pl-en\">post</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">scope</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">references_values</span> <span class=\"pl-c\"># =&gt; [\"post\"]</span>\n\n<span class=\"pl-s1\">scope</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Comment</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">where</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">post</span>: <span class=\"pl-en\">post</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">scope</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">references_values</span> <span class=\"pl-c\"># =&gt; [\"post\"]</span></pre></div>\n<p dir=\"auto\">With this patch, they're now more or less synonymous, both setting <code class=\"notranslate\">references_values</code>.</p>\n<p dir=\"auto\">Since this is likely a breaking change (it broke a few tests in <a href=\"https://github.com/keygen-sh/keygen-api\">keygen-sh/keygen-api</a> when testing against the patch), this may require some more thought. But it is worth noting that all broken tests were related to various workarounds for this particular bug.</p>\n<p dir=\"auto\">Let me know what you guys think is the best course of action here.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50829",
            "title": "Fix query references for non-hash association where clause values",
            "date_modified": "2024-01-22T04:18:24.000Z",
            "date_published": "2024-01-21T06:11:40.000Z",
            "author": {
                "name": "ezekg",
                "url": "https://github.com/ezekg"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22231095?u=4b9ed50e760e192f3d22f1327a15326e70eb5ed4&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request add examples for <code class=\"notranslate\">FormTagHelper</code> methods.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50828",
            "title": "Add examples for form helper tags [ci skip]",
            "date_modified": "2024-01-23T14:39:15.000Z",
            "date_published": "2024-01-21T05:48:04.000Z",
            "author": {
                "name": "akhilgkrishnan",
                "url": "https://github.com/akhilgkrishnan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/707418?u=6db58e19ff96ec2cc83fce4df6ba18fab6497d34&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><code class=\"notranslate\">#in_order_of</code> is an excellent method and makes ordering enum columns easier, and many complex order case/when queries can be refactored to use it.</p>\n<p dir=\"auto\">This PR was created because I believe having more examples would help people understand this method a bit better.</p>\n<p dir=\"auto\">Also, I think it's useful to document that this method will order results, but also FILTER them, excluding rows in which the column doesn't match any of the given values.</p>\n<p dir=\"auto\">So I expanded the description and added these examples:</p>\n<ul dir=\"auto\">\n<li>what happens when dealing with <code class=\"notranslate\">enum</code> +columns+</li>\n<li>what happens when passing <code class=\"notranslate\">nil</code> as a +value+ for nullable columns</li>\n</ul>\n<p dir=\"auto\">I'd be happy to add other examples for other usecases you think are relevant, just let me know!</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request expands the documentation for <a href=\"https://api.rubyonrails.org/classes/ActiveRecord/QueryMethods.html#method-i-in_order_of\" rel=\"nofollow\">in_order_of</a></p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">n/a</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li><del>[ ] Tests are added or updated if you fix a bug or add a feature.</del> not applicable</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50826",
            "title": "[docs] Add more examples to `#in_order_of` [ci-skip]",
            "date_modified": "2024-01-21T00:30:02.000Z",
            "date_published": "2024-01-21T00:21:26.000Z",
            "author": {
                "name": "thdaraujo",
                "url": "https://github.com/thdaraujo"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/16135423?u=38f165bf46fc0a714cd8e4ae396b2657592a7da9&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I've had to check in a few places if a relation had exactly or less than or more than N records. On top of that, if the collection contains a lot of records, counting on the entire collection not only is slower but also unnecessary and limiting the count the first N or N+1 records is sufficient and faster.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Adds the following methods to <code class=\"notranslate\">ActiveRecord::Relation::FinderMethods</code>:</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">exactly?</code> returns true if the relation contains exactly N records, false otherwise.</li>\n<li><code class=\"notranslate\">at_least?</code> returns true if the relation contains at least N records, false otherwise.</li>\n<li><code class=\"notranslate\">at_most?</code> returns true if the relation contains at most N records, false otherwise.</li>\n<li><code class=\"notranslate\">less_than?</code> returns true if the relation contains less than N records, false otherwise.</li>\n<li><code class=\"notranslate\">more_than?</code> returns true if the relation contains more than N records, false otherwise.</li>\n</ul>\n<p dir=\"auto\">These methods perform a <code class=\"notranslate\">limit(M).count</code> (where M = N or N + 1) under the hood.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">I think the naming of these methods is fine as is. Don't know if others would prefer to prefix these with <code class=\"notranslate\">has_</code> or <code class=\"notranslate\">contains_</code>, ie <code class=\"notranslate\">has_exactly?</code> or <code class=\"notranslate\">contains_exactly?</code>.</p>\n<p dir=\"auto\">With regards to performance of doing the count with and without the limit. Without the limit when there are 8M records I get:</p>\n<div class=\"highlight highlight-source-sql notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"  Referral Count (135.2ms)  SELECT COUNT(*) FROM &quot;referrals&quot; WHERE &quot;referrals&quot;.&quot;company_id&quot; = $1  [[&quot;company_id&quot;, &quot;29f1dfa2-01d0-4e5d-b482-7aa1f3ba7535&quot;]]\n=&gt; 8467786\"><pre class=\"notranslate\">  Referral <span class=\"pl-c1\">Count</span> (<span class=\"pl-c1\">135</span>.2ms)  <span class=\"pl-k\">SELECT</span> <span class=\"pl-c1\">COUNT</span>(<span class=\"pl-k\">*</span>) <span class=\"pl-k\">FROM</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>referrals<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">WHERE</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>referrals<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>company_id<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">=</span> $<span class=\"pl-c1\">1</span>  [[<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>company_id<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>29f1dfa2-01d0-4e5d-b482-7aa1f3ba7535<span class=\"pl-pds\">\"</span></span>]]\n<span class=\"pl-k\">=&gt;</span> <span class=\"pl-c1\">8467786</span></pre></div>\n<p dir=\"auto\">With a limit of a 100:</p>\n<div class=\"highlight highlight-source-sql notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"  Referral Count (0.4ms)  SELECT COUNT(*) FROM (SELECT 1 AS one FROM &quot;referrals&quot; WHERE &quot;referrals&quot;.&quot;company_id&quot; = $1 LIMIT $2) subquery_for_count  [[&quot;company_id&quot;,&quot;29f1dfa2-01d0-4e5d-b482-7aa1f3ba7535&quot;, [&quot;LIMIT&quot;, 100]]\n=&gt; 100\"><pre class=\"notranslate\">  Referral <span class=\"pl-c1\">Count</span> (<span class=\"pl-c1\">0</span>.4ms)  <span class=\"pl-k\">SELECT</span> <span class=\"pl-c1\">COUNT</span>(<span class=\"pl-k\">*</span>) <span class=\"pl-k\">FROM</span> (<span class=\"pl-k\">SELECT</span> <span class=\"pl-c1\">1</span> <span class=\"pl-k\">AS</span> one <span class=\"pl-k\">FROM</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>referrals<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">WHERE</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>referrals<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>company_id<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">=</span> $<span class=\"pl-c1\">1</span> <span class=\"pl-k\">LIMIT</span> $<span class=\"pl-c1\">2</span>) subquery_for_count  [[<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>company_id<span class=\"pl-pds\">\"</span></span>,<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>29f1dfa2-01d0-4e5d-b482-7aa1f3ba7535<span class=\"pl-pds\">\"</span></span>, [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>LIMIT<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">100</span>]]\n<span class=\"pl-k\">=&gt;</span> <span class=\"pl-c1\">100</span></pre></div>\n<p dir=\"auto\">So it's 300x faster even when doing an index only scan:</p>\n<div class=\"highlight highlight-source-sql notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"explain SELECT COUNT(*) FROM &quot;referrals&quot; WHERE &quot;referrals&quot;.&quot;company_id&quot; ='29f1dfa2-01d0-4e5d-b482-7aa1f3ba7535';\n\n                                                                          QUERY PLAN                                                                           \n---------------------------------------------------------------------------------------------------------------------------------------------------------------\n Finalize Aggregate  (cost=136744.58..136744.59 rows=1 width=8)\n   -&gt;  Gather  (cost=136744.36..136744.57 rows=2 width=8)\n         Workers Planned: 2\n         -&gt;  Partial Aggregate  (cost=135744.36..135744.37 rows=1 width=8)\n               -&gt;  Parallel Index Only Scan using index_referrals_on_company_id_and_conversion_state on referrals  (cost=0.56..127008.31 rows=3494420 width=0)\n                     Index Cond: (company_id = '29f1dfa2-01d0-4e5d-b482-7aa1f3ba7535'::uuid)\"><pre class=\"notranslate\">explain <span class=\"pl-k\">SELECT</span> <span class=\"pl-c1\">COUNT</span>(<span class=\"pl-k\">*</span>) <span class=\"pl-k\">FROM</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>referrals<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">WHERE</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>referrals<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>company_id<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">'</span>29f1dfa2-01d0-4e5d-b482-7aa1f3ba7535<span class=\"pl-pds\">'</span></span>;\n\n                                                                          QUERY PLAN                                                                           \n<span class=\"pl-c\"><span class=\"pl-c\">--</span>-------------------------------------------------------------------------------------------------------------------------------------------------------------</span>\n Finalize Aggregate  (cost<span class=\"pl-k\">=</span><span class=\"pl-c1\">136744</span>.<span class=\"pl-c1\">58</span>..<span class=\"pl-c1\">136744</span>.<span class=\"pl-c1\">59</span> rows<span class=\"pl-k\">=</span><span class=\"pl-c1\">1</span> width<span class=\"pl-k\">=</span><span class=\"pl-c1\">8</span>)\n   <span class=\"pl-k\">-</span><span class=\"pl-k\">&gt;</span>  Gather  (cost<span class=\"pl-k\">=</span><span class=\"pl-c1\">136744</span>.<span class=\"pl-c1\">36</span>..<span class=\"pl-c1\">136744</span>.<span class=\"pl-c1\">57</span> rows<span class=\"pl-k\">=</span><span class=\"pl-c1\">2</span> width<span class=\"pl-k\">=</span><span class=\"pl-c1\">8</span>)\n         Workers Planned: <span class=\"pl-c1\">2</span>\n         <span class=\"pl-k\">-</span><span class=\"pl-k\">&gt;</span>  Partial Aggregate  (cost<span class=\"pl-k\">=</span><span class=\"pl-c1\">135744</span>.<span class=\"pl-c1\">36</span>..<span class=\"pl-c1\">135744</span>.<span class=\"pl-c1\">37</span> rows<span class=\"pl-k\">=</span><span class=\"pl-c1\">1</span> width<span class=\"pl-k\">=</span><span class=\"pl-c1\">8</span>)\n               <span class=\"pl-k\">-</span><span class=\"pl-k\">&gt;</span>  Parallel Index Only Scan using index_referrals_on_company_id_and_conversion_state <span class=\"pl-k\">on</span> referrals  (cost<span class=\"pl-k\">=</span><span class=\"pl-c1\">0</span>.<span class=\"pl-c1\">56</span>..<span class=\"pl-c1\">127008</span>.<span class=\"pl-c1\">31</span> rows<span class=\"pl-k\">=</span><span class=\"pl-c1\">3494420</span> width<span class=\"pl-k\">=</span><span class=\"pl-c1\">0</span>)\n                     Index Cond: (company_id <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>29f1dfa2-01d0-4e5d-b482-7aa1f3ba7535<span class=\"pl-pds\">'</span></span>::uuid)</pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50823",
            "title": "Add methods to `ActiveRecord::Relation::FinderMethods` to determine if it contains exactly/more than/less than N records",
            "date_modified": "2024-01-22T14:27:44.000Z",
            "date_published": "2024-01-20T16:56:20.000Z",
            "author": {
                "name": "jordinl",
                "url": "https://github.com/jordinl"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/78952006?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This Pull Request has been created to enlighten users that validations are enabled by default when autosave is True for the  <code class=\"notranslate\">has_one</code> and <code class=\"notranslate\">belongs_to</code>.</p>",
            "url": "https://github.com/rails/rails/pull/50820",
            "title": "docs: Update validation status based on autosave status",
            "date_modified": "2024-01-22T07:16:22.000Z",
            "date_published": "2024-01-20T09:24:46.000Z",
            "author": {
                "name": "MONSURU-rgb",
                "url": "https://github.com/MONSURU-rgb"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Adds a <code class=\"notranslate\">Queue Priority</code> section to <code class=\"notranslate\">active_job_basics.md</code>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\"><a href=\"https://edgeguides.rubyonrails.org/active_job_basics.html\" rel=\"nofollow\">Active Job Basics</a> contains a <a href=\"https://edgeguides.rubyonrails.org/active_job_basics.html#queues\" rel=\"nofollow\">section on queues</a>, but doesn't have one on queue priority (using <code class=\"notranslate\">queue_with_priority</code> or <code class=\"notranslate\">set(priority: priority)</code>).</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">None.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50817",
            "title": "[Docs] Add section on Queue Priority to `ActiveJob` docs",
            "date_modified": "2024-01-24T06:58:14.000Z",
            "date_published": "2024-01-20T01:34:27.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/11673?u=ef80073b0bb2ee07a241e85af0bb51e892955811&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">As a followup to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2061815924\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50528\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50528/hovercard\" href=\"https://github.com/rails/rails/pull/50528\">#50528</a>, which added default pwa manifest and service worker routes and files to the new app generator, I'd like to associate the new routes with the expected mime types.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">We expect the <code class=\"notranslate\">pwa#manifest</code> request to be limited to json, i.e. <code class=\"notranslate\">manifest.json</code> and we expect the <code class=\"notranslate\">pwa#service_worker</code> request to be limited to js, i.e. <code class=\"notranslate\">service-worker.js</code>. This change adds format constraints to the generated routes.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">I didn't see associated tests with the previous change but would be open to adding some if desired.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50815",
            "title": "Add format constraints for generated pwa routes",
            "date_modified": "2024-01-22T12:00:23.000Z",
            "date_published": "2024-01-19T23:10:41.000Z",
            "author": {
                "name": "rossta",
                "url": "https://github.com/rossta"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/47484308?u=1d6070e1d8468e41afb88dfcbe3eb982b0a82114&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because there are a few PRs we'd like to open that relate to the multiple database code in Rails but there was no existing template for a multiple database setup. 🙂</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit adds a new bug report template that's based off of the existing <a href=\"https://github.com/rails/rails/blob/main/guides/bug_report_templates/active_record.rb\">Active Record bug report<br>\ntemplate</a> but creates a multiple database setup.</p>\n<p dir=\"auto\">The template creates an <code class=\"notranslate\">UnshardedModel</code> abstract <code class=\"notranslate\">ActiveRecord</code> model that connects to a single database (with a replica configured) and a <code class=\"notranslate\">ShardedModel</code> abstract <code class=\"notranslate\">ActiveRecord</code> model that has two shards configured, each with their own replica.</p>\n<p dir=\"auto\">Each sqlite3 in-memory database is separate because <a href=\"https://www.sqlite.org/inmemorydb.html\" rel=\"nofollow\">opening multiple database connections each with the filename \":memory:\" will create independent in-memory databases</a>.</p>\n<p dir=\"auto\">Note, that while replica databases are configured, sqlite3 does not support database replication and therefore records written to the writer databases will not auto-populate on the replica/reader databases. The replica configurations are included to allow for testing role switching, not for validating replication itself.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">You can test that the template works by running:</p>\n<p dir=\"auto\"><code class=\"notranslate\">ruby guides/bug_report_templates/active_record_multiple_databases.rb</code></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/50811",
            "title": "Add multiple databases AR bug template [ci skip]",
            "date_modified": "2024-01-19T12:58:25.000Z",
            "date_published": "2024-01-19T12:54:28.000Z",
            "author": {
                "name": "HeyNonster",
                "url": "https://github.com/HeyNonster"
            }
        }
    ]
}