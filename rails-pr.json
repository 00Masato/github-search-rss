{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/39735028?u=91330295c614cf3cec0b64bf242a14fc2ceb358f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">For the rails app devcontainer, we were previously only installing <code class=\"notranslate\">pkg-config</code> when installing <code class=\"notranslate\">lib-vips</code>. We also didn't have the sqlite3 client installed. I extracted those into a new feature in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2281790818\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/devcontainer/issues/26\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/devcontainer/pull/26/hovercard\" href=\"https://github.com/rails/devcontainer/pull/26\">rails/devcontainer#26</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Use the new feature when the app uses sqlite3.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51749",
            "title": "SQLite3 feature for dev container",
            "date_modified": "2024-05-06T22:02:12.000Z",
            "date_published": "2024-05-06T22:02:07.000Z",
            "author": {
                "name": "andrewn617",
                "url": "https://github.com/andrewn617"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5238698?u=891eeb449bcb179b920fd08ed86c18eb6d477a04&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #51606.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2252182200\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51606\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51606/hovercard\" href=\"https://github.com/rails/rails/issues/51606\">#51606</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51746",
            "title": "Use the given `form` in `html_options` for the hidden field in `collection_check_boxes`",
            "date_modified": "2024-05-06T12:36:57.000Z",
            "date_published": "2024-05-06T09:41:35.000Z",
            "author": {
                "name": "3v0k4",
                "url": "https://github.com/3v0k4"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/19192189?u=dd60737844a9db7f1475bab21fc3e5258a405e15&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Using the samebenchmark as <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2277609055\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51726\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51726/hovercard\" href=\"https://github.com/rails/rails/pull/51726\">#51726</a></p>\n<p dir=\"auto\">A significant part of the memory footprint comes from <code class=\"notranslate\">Result#each</code>:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Total allocated: 4.61 MB (43077 objects)\nTotal retained: 3.76 MB (27621 objects)\n\nallocated memory by file\n-----------------------------------\n 391.52 kB  activerecord/lib/active_record/result.rb\n\nretained memory by file\n-----------------------------------\n 374.40 kB  activerecord/lib/active_record/result.rb\"><pre class=\"notranslate\"><code class=\"notranslate\">Total allocated: 4.61 MB (43077 objects)\nTotal retained: 3.76 MB (27621 objects)\n\nallocated memory by file\n-----------------------------------\n 391.52 kB  activerecord/lib/active_record/result.rb\n\nretained memory by file\n-----------------------------------\n 374.40 kB  activerecord/lib/active_record/result.rb\n</code></pre></div>\n<p dir=\"auto\">Rows are initially stored as arrays, but <code class=\"notranslate\">Result#each</code> convert them to hashes. Depending on how many elements they contain, hashes use between 2 and 5 times as much memory than arrays.</p>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Length</th>\n<th>Hash</th>\n<th>Array</th>\n<th>Diff</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>160B</td>\n<td>40B</td>\n<td>-120B</td>\n</tr>\n<tr>\n<td>2</td>\n<td>160B</td>\n<td>40B</td>\n<td>-120B</td>\n</tr>\n<tr>\n<td>3</td>\n<td>160B</td>\n<td>40B</td>\n<td>-120B</td>\n</tr>\n<tr>\n<td>4</td>\n<td>160B</td>\n<td>80B</td>\n<td>-80B</td>\n</tr>\n<tr>\n<td>5</td>\n<td>160B</td>\n<td>80B</td>\n<td>-80B</td>\n</tr>\n<tr>\n<td>6</td>\n<td>160B</td>\n<td>80B</td>\n<td>-80B</td>\n</tr>\n<tr>\n<td>7</td>\n<td>160B</td>\n<td>80B</td>\n<td>-80B</td>\n</tr>\n<tr>\n<td>8</td>\n<td>160B</td>\n<td>80B</td>\n<td>-80B</td>\n</tr>\n<tr>\n<td>9</td>\n<td>464B</td>\n<td>160B</td>\n<td>-304B</td>\n</tr>\n<tr>\n<td>10</td>\n<td>464B</td>\n<td>160B</td>\n<td>-304B</td>\n</tr>\n<tr>\n<td>11</td>\n<td>464B</td>\n<td>160B</td>\n<td>-304B</td>\n</tr>\n<tr>\n<td>12</td>\n<td>464B</td>\n<td>160B</td>\n<td>-304B</td>\n</tr>\n<tr>\n<td>13</td>\n<td>464B</td>\n<td>160B</td>\n<td>-304B</td>\n</tr>\n<tr>\n<td>14</td>\n<td>464B</td>\n<td>160B</td>\n<td>-304B</td>\n</tr>\n<tr>\n<td>15</td>\n<td>464B</td>\n<td>160B</td>\n<td>-304B</td>\n</tr>\n<tr>\n<td>16</td>\n<td>464B</td>\n<td>160B</td>\n<td>-304B</td>\n</tr>\n<tr>\n<td>17</td>\n<td>912B</td>\n<td>160B</td>\n<td>-752B</td>\n</tr>\n<tr>\n<td>18</td>\n<td>912B</td>\n<td>160B</td>\n<td>-752B</td>\n</tr>\n<tr>\n<td>19</td>\n<td>912B</td>\n<td>320B</td>\n<td>-592B</td>\n</tr>\n<tr>\n<td>20</td>\n<td>912B</td>\n<td>320B</td>\n<td>-592B</td>\n</tr>\n<tr>\n<td>21</td>\n<td>912B</td>\n<td>320B</td>\n<td>-592B</td>\n</tr>\n<tr>\n<td>22</td>\n<td>912B</td>\n<td>320B</td>\n<td>-592B</td>\n</tr>\n<tr>\n<td>23</td>\n<td>912B</td>\n<td>320B</td>\n<td>-592B</td>\n</tr>\n<tr>\n<td>24</td>\n<td>912B</td>\n<td>320B</td>\n<td>-592B</td>\n</tr>\n<tr>\n<td>25</td>\n<td>912B</td>\n<td>320B</td>\n<td>-592B</td>\n</tr>\n<tr>\n<td>26</td>\n<td>912B</td>\n<td>320B</td>\n<td>-592B</td>\n</tr>\n<tr>\n<td>27</td>\n<td>912B</td>\n<td>320B</td>\n<td>-592B</td>\n</tr>\n<tr>\n<td>28</td>\n<td>912B</td>\n<td>320B</td>\n<td>-592B</td>\n</tr>\n<tr>\n<td>29</td>\n<td>912B</td>\n<td>320B</td>\n<td>-592B</td>\n</tr>\n<tr>\n<td>30</td>\n<td>912B</td>\n<td>320B</td>\n<td>-592B</td>\n</tr>\n<tr>\n<td>31</td>\n<td>912B</td>\n<td>320B</td>\n<td>-592B</td>\n</tr>\n<tr>\n<td>32</td>\n<td>912B</td>\n<td>320B</td>\n<td>-592B</td>\n</tr>\n<tr>\n<td>33</td>\n<td>1744B</td>\n<td>320B</td>\n<td>-1424B</td>\n</tr>\n<tr>\n<td>34</td>\n<td>1744B</td>\n<td>320B</td>\n<td>-1424B</td>\n</tr>\n<tr>\n<td>35</td>\n<td>1744B</td>\n<td>320B</td>\n<td>-1424B</td>\n</tr>\n<tr>\n<td>36</td>\n<td>1744B</td>\n<td>320B</td>\n<td>-1424B</td>\n</tr>\n<tr>\n<td>37</td>\n<td>1744B</td>\n<td>320B</td>\n<td>-1424B</td>\n</tr>\n<tr>\n<td>38</td>\n<td>1744B</td>\n<td>320B</td>\n<td>-1424B</td>\n</tr>\n<tr>\n<td>39</td>\n<td>1744B</td>\n<td>640B</td>\n<td>-1104B</td>\n</tr>\n<tr>\n<td>40</td>\n<td>1744B</td>\n<td>640B</td>\n<td>-1104B</td>\n</tr>\n<tr>\n<td>41</td>\n<td>1744B</td>\n<td>640B</td>\n<td>-1104B</td>\n</tr>\n<tr>\n<td>42</td>\n<td>1744B</td>\n<td>640B</td>\n<td>-1104B</td>\n</tr>\n<tr>\n<td>43</td>\n<td>1744B</td>\n<td>640B</td>\n<td>-1104B</td>\n</tr>\n<tr>\n<td>44</td>\n<td>1744B</td>\n<td>640B</td>\n<td>-1104B</td>\n</tr>\n<tr>\n<td>45</td>\n<td>1744B</td>\n<td>640B</td>\n<td>-1104B</td>\n</tr>\n<tr>\n<td>46</td>\n<td>1744B</td>\n<td>640B</td>\n<td>-1104B</td>\n</tr>\n<tr>\n<td>47</td>\n<td>1744B</td>\n<td>640B</td>\n<td>-1104B</td>\n</tr>\n<tr>\n<td>48</td>\n<td>1744B</td>\n<td>640B</td>\n<td>-1104B</td>\n</tr>\n<tr>\n<td>49</td>\n<td>1744B</td>\n<td>640B</td>\n<td>-1104B</td>\n</tr>\n<tr>\n<td>50</td>\n<td>1744B</td>\n<td>640B</td>\n<td>-1104B</td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">Rather than to convert rows into hashes, we can loopkup the column index into a single hash common to all rows. To not complexify the code too much, rather than to pass the row array and the column index, we wrap both into an <code class=\"notranslate\">IndexedRow</code> object, which uses an extra <code class=\"notranslate\">40B</code> object, but that's still less memory even in the worst case.</p>\n<p dir=\"auto\">After:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Total allocated: 4.32 MB (43079 objects)\nTotal retained: 3.65 MB (29725 objects)\n\nallocated memory by file\n-----------------------------------\n 101.66 kB  activerecord/lib/active_record/result.rb\n\nretained memory by file\n-----------------------------------\n  84.70 kB  activerecord/lib/active_record/result.rb\"><pre class=\"notranslate\"><code class=\"notranslate\">Total allocated: 4.32 MB (43079 objects)\nTotal retained: 3.65 MB (29725 objects)\n\nallocated memory by file\n-----------------------------------\n 101.66 kB  activerecord/lib/active_record/result.rb\n\nretained memory by file\n-----------------------------------\n  84.70 kB  activerecord/lib/active_record/result.rb\n</code></pre></div>\n<p dir=\"auto\">As for access speed, it's of course a bit slower, but not by much, it's between <code class=\"notranslate\">1.5</code> and <code class=\"notranslate\">2</code> times slower, but remains in the 10's of M iterations per second, so I think this overhead is negligible compared to all the work needed to access a model attribute.</p>\n<p dir=\"auto\">Also the <code class=\"notranslate\">LazyAttributeSet</code> class only access this once, after the attribute is casted, the resulting value is still stored in a regular <code class=\"notranslate\">Hash</code>.</p>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/tenderlove/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/tenderlove\">@tenderlove</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/jhawthorn/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jhawthorn\">@jhawthorn</a> I'd like your opinion on this idea. I think it's worth it. We could potentially only do this when there is more than 1 row and more than 8 columns if we think the gains aren't quite big enough for small models.</p>\n<p dir=\"auto\">Also NB: <code class=\"notranslate\">Result#each</code> is public API, I changed it because it's a proof of concept, but this should be an alternate private API.</p>",
            "url": "https://github.com/rails/rails/pull/51744",
            "title": "PoC: Index Result rows rather than to convert them into hashes",
            "date_modified": "2024-05-06T08:56:05.000Z",
            "date_published": "2024-05-06T08:56:00.000Z",
            "author": {
                "name": "casperisfine",
                "url": "https://github.com/casperisfine"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/66666?u=fc14df8d5703b2ccf5d15dda2a212ae6b6a2c0e7&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">As suggested by the docs for <a href=\"https://api.rubyonrails.org/classes/ActionView/Helpers/FormOptionsHelper.html#method-i-select\" rel=\"nofollow\">FormOptionsHelper#select</a>, the helper can be called with a block to customize option tag attributes:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"select(report, :campaign_ids) do\n  available_campaigns.each do |c|\n    tag.option(c.name, value: c.id, data: { tags: c.tags.to_json })\n  end\nend\"><pre class=\"notranslate\"><code class=\"notranslate\">select(report, :campaign_ids) do\n  available_campaigns.each do |c|\n    tag.option(c.name, value: c.id, data: { tags: c.tags.to_json })\n  end\nend\n</code></pre></div>\n<p dir=\"auto\">Prior to this commit, a NoMethodError error would be raised when available_campaigns in the above example was the empty array. This happened because the block passed to select would return a non-string value (the empty array) causing the call to capture in Helpers::Tags::Select#initialize to return nil:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"def initialize(object_name, method_name, template_object, choices, options, html_options)\n  @choices = block_given? ? template_object.capture { yield || &quot;&quot; } : choices\"><pre class=\"notranslate\"><code class=\"notranslate\">def initialize(object_name, method_name, template_object, choices, options, html_options)\n  @choices = block_given? ? template_object.capture { yield || \"\" } : choices\n</code></pre></div>\n<p dir=\"auto\">This commit fixes this by moving the <code class=\"notranslate\">|| \"\"</code> outside the block passed to capture.</p>",
            "url": "https://github.com/rails/rails/pull/51743",
            "title": "Fix select helper with block returning non-string",
            "date_modified": "2024-05-06T08:43:18.000Z",
            "date_published": "2024-05-06T08:26:38.000Z",
            "author": {
                "name": "calleluks",
                "url": "https://github.com/calleluks"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/73684?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This pull request adds a changelog entry for PostgreSQL <code class=\"notranslate\">Cidr#change?</code> behavior change.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Follow up <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2256689926\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51633\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51633/hovercard\" href=\"https://github.com/rails/rails/pull/51633\">#51633</a></p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">None</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51742",
            "title": "Add changelog entry for PostgreSQL `Cidr#change?` behavior change",
            "date_modified": "2024-05-06T04:45:07.000Z",
            "date_published": "2024-05-06T04:33:20.000Z",
            "author": {
                "name": "yahonda",
                "url": "https://github.com/yahonda"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/8207?u=519e0cd2eb38c2b5c30ce471f5801c3b77b37f31&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">PR <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1942177428\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49624\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49624/hovercard\" href=\"https://github.com/rails/rails/pull/49624\">#49624</a> contained commit <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/0c76f17f2dbf0d7ad90c890e6f334743cacce41f/hovercard\" href=\"https://github.com/rails/rails/commit/0c76f17f2dbf0d7ad90c890e6f334743cacce41f\"><tt>0c76f17</tt></a> which mistakenly used backticks instead of normal string quotes. This is easy to miss, but is a bug-without-test-failures at best and an opportunity for an attack vector at worst.</p>\n<p dir=\"auto\">Forcing the use of <code class=\"notranslate\">%x()</code> should make it more obvious visually where the command literals are.</p>\n<p dir=\"auto\">See related <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2279392482\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51739\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51739/hovercard\" href=\"https://github.com/rails/rails/pull/51739\">#51739</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> <del>Tests are added or updated if you fix a bug or add a feature.</del></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> <del>CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</del></li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51741",
            "title": "Enable `Style/CommandLiteral` cop",
            "date_modified": "2024-05-06T16:33:43.000Z",
            "date_published": "2024-05-05T15:03:59.000Z",
            "author": {
                "name": "flavorjones",
                "url": "https://github.com/flavorjones"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/44280450?u=5d0b7f0d7535c39131a9d2d513cbf4691236b6e4&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created to remove <code class=\"notranslate\">FIXME</code> comment of <code class=\"notranslate\">ActiveStorage::Service::MirrorService</code>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request use thread pool to parallelize <code class=\"notranslate\">delete</code> and <code class=\"notranslate\">delete_prefixed</code> in <code class=\"notranslate\">ActiveStorage::Service::MirrorService</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">If this is a nit performance boost than complexity, how about remove comment?</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51740",
            "title": "Improve performance in `ActiveStorage::Service::MirrorService`",
            "date_modified": "2024-05-05T15:15:22.000Z",
            "date_published": "2024-05-05T08:34:21.000Z",
            "author": {
                "name": "heka1024",
                "url": "https://github.com/heka1024"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5104186?u=c6802aa87b5de2965f8269a3798d468a08a2843b&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">When using a polymorphic belongs_to, I usually have a list of allowed classes that I expect this association to use. Oftentimes there's even certain views that need to handle each expected option. Unexpected types in the table would cause problems and potentially pose a security risk.</p>\n<p dir=\"auto\">I've manually added an inclusion validator before, but wished I could just tell the association what the allowed options are.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">belongs_to</code>'s <code class=\"notranslate\">polymorphic</code> option to allow a String, Symbol, or array of Strings/Symbols of allowed model names. When provided, an inclusion validator is added to the model to ensure the <code class=\"notranslate\">_type</code> field is in the list of allowed class names.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51738",
            "title": "Added option to validate which models are allowed to be associated to a polymorphic belongs_to",
            "date_modified": "2024-05-05T22:09:58.000Z",
            "date_published": "2024-05-05T05:12:41.000Z",
            "author": {
                "name": "natematykiewicz",
                "url": "https://github.com/natematykiewicz"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/16205473?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because [REPLACE ME]</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes [REPLACE ME]</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51737",
            "title": "Update links from release notes [ci skip]",
            "date_modified": "2024-05-05T03:30:12.000Z",
            "date_published": "2024-05-04T17:38:00.000Z",
            "author": {
                "name": "nisusam",
                "url": "https://github.com/nisusam"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/44280450?u=5d0b7f0d7535c39131a9d2d513cbf4691236b6e4&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">There are more performant algorithms than <code class=\"notranslate\">zlib</code>, like <code class=\"notranslate\">zstd</code> or <code class=\"notranslate\">snappy</code>. So I made it possible to configure the compressor to take advantage of these more performant algorithms.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Make <code class=\"notranslate\">compressor</code> as argument which default value is <code class=\"notranslate\">zlib</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<ul dir=\"auto\">\n<li><a href=\"https://facebook.github.io/zstd/\" rel=\"nofollow\">https://facebook.github.io/zstd/</a></li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>\n<h3 dir=\"auto\">Discussion</h3>\n<p dir=\"auto\">What do you thinks about make compressor as property of <code class=\"notranslate\">ActiveRecord::Encryption</code> ?</p>",
            "url": "https://github.com/rails/rails/pull/51735",
            "title": "Introduce `compressor` option to `ActiveRecord::Encryption::Encryptor`",
            "date_modified": "2024-05-05T15:19:58.000Z",
            "date_published": "2024-05-04T10:59:27.000Z",
            "author": {
                "name": "heka1024",
                "url": "https://github.com/heka1024"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Follow up to <a href=\"https://github.com/rails/rails/pull/50527\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50527/hovercard\">#50527</a></p>\n<p dir=\"auto\">Highlight the presence of the <code class=\"notranslate\">yield :head</code> pattern established by <code class=\"notranslate\">turbo-rails</code> and adopted by Rails as part of <a href=\"https://github.com/rails/rails/pull/50527\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50527/hovercard\">#50527</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">New applications will generate their application layout with <code class=\"notranslate\">yield :head</code>, so mention that in the documentation.</p>\n<p dir=\"auto\">Also include the <code class=\"notranslate\">yield :head</code> call in generated plugin layouts.</p>",
            "url": "https://github.com/rails/rails/pull/51733",
            "title": "Mention `yield :head` in Guides",
            "date_modified": "2024-05-06T21:03:51.000Z",
            "date_published": "2024-05-04T00:11:15.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5079556?u=d571676cb19b50ef19ea0dcd2f2b66a2d38dd574&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">IRB allows changing its prompt's name during the session, like:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"irb(main):001&gt; conf.irb_name = &quot;foo&quot;\n=&gt; &quot;foo&quot;\nfoo(main):002&gt; \"><pre class=\"notranslate\"><code class=\"notranslate\">irb(main):001&gt; conf.irb_name = \"foo\"\n=&gt; \"foo\"\nfoo(main):002&gt; \n</code></pre></div>\n<p dir=\"auto\">But because I previously set the app name as part of the prompt, instead of via the <code class=\"notranslate\">irb_name</code> config, such change can't happen in a Rails console:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Loading development environment (Rails 7.2.0.alpha)\ntest-app(dev)&gt; conf.irb_name = &quot;foo&quot;\n=&gt; &quot;foo&quot;\ntest-app(dev)&gt; \"><pre class=\"notranslate\"><code class=\"notranslate\">Loading development environment (Rails 7.2.0.alpha)\ntest-app(dev)&gt; conf.irb_name = \"foo\"\n=&gt; \"foo\"\ntest-app(dev)&gt; \n</code></pre></div>\n<p dir=\"auto\">This can be problematic as tools/features can rely on the name change to indicate state change (<a href=\"https://github.com/ruby/irb/blob/master/lib/irb/debug.rb#L87\">example</a>).</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Instead of setting app name as a fixed value in prompt, I replaced it with <code class=\"notranslate\">%N</code>, which IRB uses to display the <code class=\"notranslate\">irb_name</code> attribute. And then we can set assign the app name to <code class=\"notranslate\">IRB.conf[:IRB_NAME]</code> (default is <code class=\"notranslate\">\"irb\"</code>).</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51732",
            "title": "Avoid setting fixed app name in console prompt",
            "date_modified": "2024-05-06T23:02:31.000Z",
            "date_published": "2024-05-03T22:53:32.000Z",
            "author": {
                "name": "st0012",
                "url": "https://github.com/st0012"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5079556?u=d571676cb19b50ef19ea0dcd2f2b66a2d38dd574&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">When demonstrating the result of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2273775511\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51705\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51705/hovercard\" href=\"https://github.com/rails/rails/pull/51705\">#51705</a>, I received some feedback around the description of the new helpers.</p>\n<h3 dir=\"auto\">Detail</h3>\n<ol dir=\"auto\">\n<li>I made descriptions clearer around what components the methods are interacting with or return, which I think should make them easier to understand.</li>\n<li>When updating the descriptions, I noticed that <code class=\"notranslate\">new_session</code> has stopped taking block argument after <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1177317918\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/44748\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/44748/hovercard\" href=\"https://github.com/rails/rails/pull/44748\">#44748</a>, which nobody seems to discover and it's perhaps never used. And after that update, <code class=\"notranslate\">new_session</code> is the same as <code class=\"notranslate\">app(true)</code>, which makes me think it has become obsolete.</li>\n</ol>\n<p dir=\"auto\"><strong>Result</strong></p>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/5079556/327879960-89c138aa-6e1e-4db2-9d29-0438449d627f.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTUwNDU0MTIsIm5iZiI6MTcxNTA0NTExMiwicGF0aCI6Ii81MDc5NTU2LzMyNzg3OTk2MC04OWMxMzhhYS02ZTFlLTRkYjItOWQyOS0wNDM4NDQ5ZDYyN2YucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDUwNyUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA1MDdUMDEyNTEyWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9OWY1MTNiY2NlM2Y4ZDg5MjQxYzM4OGZjNDY5MmMwMTU4MmI1NmY4Y2MzNzk3OTA5MzRkMGE0MmE2NjM3NDMwOSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.1No90rMRGSv-_OK_dTurMUe6ny6hCFWjgonR16HF_6Y\"><img width=\"100%\" alt=\"Screenshot 2024-05-03 at 21 56 56\" src=\"https://private-user-images.githubusercontent.com/5079556/327879960-89c138aa-6e1e-4db2-9d29-0438449d627f.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTUwNDU0MTIsIm5iZiI6MTcxNTA0NTExMiwicGF0aCI6Ii81MDc5NTU2LzMyNzg3OTk2MC04OWMxMzhhYS02ZTFlLTRkYjItOWQyOS0wNDM4NDQ5ZDYyN2YucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDUwNyUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA1MDdUMDEyNTEyWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9OWY1MTNiY2NlM2Y4ZDg5MjQxYzM4OGZjNDY5MmMwMTU4MmI1NmY4Y2MzNzk3OTA5MzRkMGE0MmE2NjM3NDMwOSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.1No90rMRGSv-_OK_dTurMUe6ny6hCFWjgonR16HF_6Y\" style=\"max-width: 100%;\"></a>\n<p dir=\"auto\">(In the next IRB patch release, I'll also make <code class=\"notranslate\">conf</code> helper's description clearer.)</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51731",
            "title": "Improve Rails console helper methods' descriptions",
            "date_modified": "2024-05-06T17:11:55.000Z",
            "date_published": "2024-05-03T20:57:54.000Z",
            "author": {
                "name": "st0012",
                "url": "https://github.com/st0012"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/191320?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I was writing some code that parses our migrations and extracts information about newly added columns. It was missing some columns because they were of a less column datatype that we weren't explicitly handling. I went to see if I could just list the methods on a module to find the valid column method aliases, and was happy to see such a module exists. Except that due to how it's structured, none of the column method aliases <em>actually</em> exist on that module.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The way they were being defined inside the <code class=\"notranslate\">included</code> hook meant they ended up being defined directly on <code class=\"notranslate\">TableDefinition</code>, contrary to the documentation:<br>\n<a href=\"https://api.rubyonrails.org/classes/ActiveRecord/ConnectionAdapters/PostgreSQL/ColumnMethods.html\" rel=\"nofollow\">https://api.rubyonrails.org/classes/ActiveRecord/ConnectionAdapters/PostgreSQL/ColumnMethods.html</a>. By extending <code class=\"notranslate\">ClassMethods</code> onto <code class=\"notranslate\">ColumnMethods</code>, the module can call the macro directly, and end up with the methods defined on the <code class=\"notranslate\">ColumnMethods</code> module, instead of deferring their creation until they're <code class=\"notranslate\">included</code>, and defining them on the including class.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">I left <code class=\"notranslate\">define_column_methods</code> as a class method that gets extended onto TableDefinition, since there's at least one gem that relies on being able to call it there to define their own column types</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51730",
            "title": "Define column methods on the ColumnMethods module",
            "date_modified": "2024-05-03T20:30:35.000Z",
            "date_published": "2024-05-03T20:30:31.000Z",
            "author": {
                "name": "ccutrer",
                "url": "https://github.com/ccutrer"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4910785?u=bb262553df264faad2f515f6ea75067266e0d129&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Adds a configuration to rename the CSP helper attribute name to avoid value exfiltration as described in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2246912613\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51580\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51580/hovercard\" href=\"https://github.com/rails/rails/issues/51580#issue-2246912613\">#51580 (comment)</a></p>\n<p dir=\"auto\">It's disabled by default currently until the JS libraries are updated to the new attribute name and Rails can ship with a new default attribute name.</p>\n<p dir=\"auto\">Fixes the Rails part <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2246912613\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51580\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51580/hovercard\" href=\"https://github.com/rails/rails/issues/51580\">#51580</a>. See this PR for a potential fix in Turbo: <a href=\"https://github.com/hotwired/turbo/pull/1254/files\">https://github.com/hotwired/turbo/pull/1254/files</a></p>\n<p dir=\"auto\">If this approach makes sense in general, I'd try to fix ujs as well 👍</p>",
            "url": "https://github.com/rails/rails/pull/51729",
            "title": "Add rename_csp_helper_nonce_attribute ActionView configuration to avoid value exfiltration",
            "date_modified": "2024-05-03T20:25:50.000Z",
            "date_published": "2024-05-03T19:15:54.000Z",
            "author": {
                "name": "codergeek121",
                "url": "https://github.com/codergeek121"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #51720.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2276824037\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51720\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51720/hovercard\" href=\"https://github.com/rails/rails/issues/51720\">#51720</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Updates <code class=\"notranslate\">AbstractReflection#klass</code> and its only subclass override <code class=\"notranslate\">MacroReflection#klass</code> to infer the association class as a top level class if the name of the model without module name-spacing is the same. The current inferrence is due to <a href=\"https://github.com/rails/rails/blob/793ff00442723b2ff9ed7b7fb39cae2f5608cc2b/activerecord/lib/active_record/inheritance.rb#L253-L264\">this logic</a> resolving the name in the current module first, which doesn't make sense in this specific case as it will always resolve to the model itself.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">None.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51721",
            "title": "[Fix #51720] Infer association klass as top level if model has same demodularized name",
            "date_modified": "2024-05-05T09:06:05.000Z",
            "date_published": "2024-05-03T03:29:09.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/14007?u=29d3bfbcb93f21ab58b6f05946b0a1882b513480&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #31228.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"276773780\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/31228\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/31228/hovercard\" href=\"https://github.com/rails/rails/issues/31228\">#31228</a></p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Users are creating a \"catchall\" route in routes.rb that will always precede the ActiveStorage routes. Railtie routes that are loaded after the app's routes are getting caught in it.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">With this change, you can now load the routes when you want by doing the following:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Rails.application.config.active_storage.draw_routes = false\n\n# in your routes.rb\nRails.application.routes.draw do\n  ActiveStorage::Routes.draw(self)\nend\"><pre class=\"notranslate\"><span class=\"pl-v\">Rails</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">application</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">active_storage</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">draw_routes</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">false</span>\n\n<span class=\"pl-c\"># in your routes.rb</span>\n<span class=\"pl-v\">Rails</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">application</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">routes</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">draw</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-v\">ActiveStorage</span>::<span class=\"pl-v\">Routes</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">draw</span><span class=\"pl-kos\">(</span><span class=\"pl-smi\">self</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Should we do this for e.g. ActionMailbox as well?</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51716",
            "title": "Allow explicit loading of ActiveStorage routes",
            "date_modified": "2024-05-02T23:57:09.000Z",
            "date_published": "2024-05-02T23:02:58.000Z",
            "author": {
                "name": "justinko",
                "url": "https://github.com/justinko"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/62055282?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Currently, when rendering an <code class=\"notranslate\">ActionView::Template</code>, the template source is loaded from the disk twice.</p>\n<p dir=\"auto\">During one rendering process, <code class=\"notranslate\">Template#source</code> is called at least twice (once in <code class=\"notranslate\">encode!</code> and once in <code class=\"notranslate\">strict_locals!</code>), each of these calls runs <code class=\"notranslate\">@source.to_s</code>. As <code class=\"notranslate\">@source</code> is usually a <code class=\"notranslate\">Template::Sources::File</code>, <code class=\"notranslate\">#to_s</code> hits the disk to load the template.</p>\n<p dir=\"auto\">It is unnecessary to load the file from disk more than once just to check whether the <code class=\"notranslate\"># locals:</code> comment is present.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the <code class=\"notranslate\">Template#source</code> so that it memoizes the loaded source.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This pull request introduces a small behavior change: The <code class=\"notranslate\"># locals: (...)</code> comment is now removed from the source before passing the source to the handler. It looks like this was the intended behavior all along. Previously the line</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"self.source.sub!(STRICT_LOCALS_REGEX, &quot;&quot;)\"><pre class=\"notranslate\"><code class=\"notranslate\">self.source.sub!(STRICT_LOCALS_REGEX, \"\")\n</code></pre></div>\n<p dir=\"auto\">had no effect, because the source was reloaded from disk afterwards and the magic comment was present again.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51712",
            "title": "Fix duplicate view template loading",
            "date_modified": "2024-05-02T12:45:00.000Z",
            "date_published": "2024-05-02T12:32:30.000Z",
            "author": {
                "name": "niklas-hasselmeyer",
                "url": "https://github.com/niklas-hasselmeyer"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/191320?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I've been doing a lot with migrations and Postgres, and noticed that when do a bulk table change, all the constraint-related management was running as separate statements, when it could all be run as part of a single ALTER TABLE.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR implements bulk versions of add and remove for foreign keys, check constraints, exclusion constraints, and unique constraints.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>\n<p dir=\"auto\">I'm not sure if this qualifies as a large enough behavior change to warrant a CHANGELOG entry.</p>",
            "url": "https://github.com/rails/rails/pull/51708",
            "title": "Add bulk versions of all constraint management for Postgres",
            "date_modified": "2024-05-02T13:12:47.000Z",
            "date_published": "2024-05-01T22:53:37.000Z",
            "author": {
                "name": "ccutrer",
                "url": "https://github.com/ccutrer"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1710795?u=ba3804cd0d8bb86f4422a1a20efc6947aa06a7f6&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><a href=\"https://guides.rubyonrails.org/form_helpers.html#using-form-tag-and-form-for\" rel=\"nofollow\"><code class=\"notranslate\">form_for</code> has been soft-deprecated in favour of <code class=\"notranslate\">form_with</code>.</a><br>\nHowever, the documentation outside of the Rails Guide does not show this change<br>\nand in the case of these changes it misses <code class=\"notranslate\">form_with</code> completely.</p>\n<p dir=\"auto\">Changes:</p>\n<ul dir=\"auto\">\n<li>Adding <code class=\"notranslate\">form_with</code> before <code class=\"notranslate\">form_for</code> in documentation.</li>\n<li>Replacing <code class=\"notranslate\">form_with</code> with <code class=\"notranslate\">form_for</code> in example code.</li>\n<li>Editing to keep the lines within columns</li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51704",
            "title": "[ci skip]Docs highlight form_with over form_for",
            "date_modified": "2024-05-01T17:35:47.000Z",
            "date_published": "2024-05-01T15:57:13.000Z",
            "author": {
                "name": "notapatch",
                "url": "https://github.com/notapatch"
            }
        }
    ]
}