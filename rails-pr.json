{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><code class=\"notranslate\">STATS_DIRECTORIES</code> is used by third parties to add directories to the statistics output. It's a global constant defined in a Rake file, that gets loaded anytime the Rake commands get loaded.</p>\n<p dir=\"auto\">For example Rspec Rails adds these in a prepended Rake task: <a href=\"https://github.com/rspec/rspec-rails/blob/8c17b4e5020a4d264e8a79e294c58b5c1ef2b005/lib/rspec/rails/tasks/rspec.rake#L43\">https://github.com/rspec/rspec-rails/blob/8c17b4e5020a4d264e8a79e294c58b5c1ef2b005/lib/rspec/rails/tasks/rspec.rake#L43</a></p>\n<p dir=\"auto\">Rake tasks only get loaded if no matching Thor task has been found.</p>\n<p dir=\"auto\">As the stats command has since been <a href=\"https://github.com/rails/rails/commit/292c127d46877174d893a7aab2b7cc35856f393a\">moved to a Thor task</a>, calling <code class=\"notranslate\">bin/rails stats</code> will no longer add directories to <code class=\"notranslate\">STATS_DIRECTORIES</code>, as the Rake commands don't get loaded anymore.</p>\n<p dir=\"auto\">To remove the dependency on Rake and avoid a global constant we can move the constant to the Rails.application.configuration and deprecate <code class=\"notranslate\">STATS_DIRECTORIES</code>.</p>\n<p dir=\"auto\"><code class=\"notranslate\">deprecate_constant</code> couldn't be used here as that doesn't seem to work for the root namespace.</p>\n<p dir=\"auto\">This was previously proposed/discussed in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1958810255\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49759\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49759/hovercard\" href=\"https://github.com/rails/rails/pull/49759\">#49759</a>, but I decided to resubmit it with the recent commit to make <code class=\"notranslate\">stats</code> a Thor task.</p>\n<h3 dir=\"auto\">Before</h3>\n<p dir=\"auto\"><code class=\"notranslate\">bin/rake stats</code> adds custom directories (Model specs in this case):</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bin/rake stats\nDEPRECATION WARNING: `bin/rails stats` as rake task has been deprecated and will be removed in Rails 8.0.\nPlease use `bin/rails stats` as Rails command instead.\n\n (called from block in execute at .../gems/rake-13.1.0/lib/rake/task.rb:281)\nDEPRECATION WARNING: `bin/rails stats` as rake task has been deprecated and will be removed in Rails 8.0.\nPlease use `bin/rails stats` as Rails command instead.\n\n (called from block in execute at .../gems/rake-13.1.0/lib/rake/task.rb:281)\n+----------------------+--------+--------+---------+---------+-----+-------+\n| Name                 |  Lines |    LOC | Classes | Methods | M/C | LOC/M |\n+----------------------+--------+--------+---------+---------+-----+-------+\n| Controllers          |      7 |      7 |       2 |       1 |   0 |     5 |\n...\n| System tests         |      0 |      0 |       0 |       0 |   0 |     0 |\n| Model specs          |      5 |      4 |       0 |       0 |   0 |     0 |\n+----------------------+--------+--------+---------+---------+-----+-------+\n| Total                |    161 |    115 |      14 |       1 |   0 |   113 |\n+----------------------+--------+--------+---------+---------+-----+-------+\"><pre class=\"notranslate\">bin/rake stats\nDEPRECATION WARNING: <span class=\"pl-s\"><span class=\"pl-pds\">`</span>bin/rails stats<span class=\"pl-pds\">`</span></span> as rake task has been deprecated and will be removed <span class=\"pl-k\">in</span> Rails 8.0.\nPlease use <span class=\"pl-s\"><span class=\"pl-pds\">`</span>bin/rails stats<span class=\"pl-pds\">`</span></span> as Rails <span class=\"pl-c1\">command</span> instead.\n\n (called from block <span class=\"pl-k\">in</span> execute at .../gems/rake-13.1.0/lib/rake/task.rb:281)\nDEPRECATION WARNING: <span class=\"pl-s\"><span class=\"pl-pds\">`</span>bin/rails stats<span class=\"pl-pds\">`</span></span> as rake task has been deprecated and will be removed <span class=\"pl-k\">in</span> Rails 8.0.\nPlease use <span class=\"pl-s\"><span class=\"pl-pds\">`</span>bin/rails stats<span class=\"pl-pds\">`</span></span> as Rails <span class=\"pl-c1\">command</span> instead.\n\n (called from block <span class=\"pl-k\">in</span> execute at .../gems/rake-13.1.0/lib/rake/task.rb:281)\n+----------------------+--------+--------+---------+---------+-----+-------+\n<span class=\"pl-k\">|</span> Name                 <span class=\"pl-k\">|</span>  Lines <span class=\"pl-k\">|</span>    LOC <span class=\"pl-k\">|</span> Classes <span class=\"pl-k\">|</span> Methods <span class=\"pl-k\">|</span> M/C <span class=\"pl-k\">|</span> LOC/M <span class=\"pl-k\">|</span>\n+----------------------+--------+--------+---------+---------+-----+-------+\n<span class=\"pl-k\">|</span> Controllers          <span class=\"pl-k\">|</span>      7 <span class=\"pl-k\">|</span>      7 <span class=\"pl-k\">|</span>       2 <span class=\"pl-k\">|</span>       1 <span class=\"pl-k\">|</span>   0 <span class=\"pl-k\">|</span>     5 <span class=\"pl-k\">|</span>\n...\n<span class=\"pl-k\">|</span> System tests         <span class=\"pl-k\">|</span>      0 <span class=\"pl-k\">|</span>      0 <span class=\"pl-k\">|</span>       0 <span class=\"pl-k\">|</span>       0 <span class=\"pl-k\">|</span>   0 <span class=\"pl-k\">|</span>     0 <span class=\"pl-k\">|</span>\n<span class=\"pl-k\">|</span> Model specs          <span class=\"pl-k\">|</span>      5 <span class=\"pl-k\">|</span>      4 <span class=\"pl-k\">|</span>       0 <span class=\"pl-k\">|</span>       0 <span class=\"pl-k\">|</span>   0 <span class=\"pl-k\">|</span>     0 <span class=\"pl-k\">|</span>\n+----------------------+--------+--------+---------+---------+-----+-------+\n<span class=\"pl-k\">|</span> Total                <span class=\"pl-k\">|</span>    161 <span class=\"pl-k\">|</span>    115 <span class=\"pl-k\">|</span>      14 <span class=\"pl-k\">|</span>       1 <span class=\"pl-k\">|</span>   0 <span class=\"pl-k\">|</span>   113 <span class=\"pl-k\">|</span>\n+----------------------+--------+--------+---------+---------+-----+-------+</pre></div>\n<p dir=\"auto\"><code class=\"notranslate\">bin/rails stats</code> does <strong>not</strong> add custom directories:</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ bin/rails stats\n+----------------------+--------+--------+---------+---------+-----+-------+\n| Name                 |  Lines |    LOC | Classes | Methods | M/C | LOC/M |\n+----------------------+--------+--------+---------+---------+-----+-------+\n| Controllers          |      7 |      7 |       2 |       1 |   0 |     5 |\n...\n| System tests         |      0 |      0 |       0 |       0 |   0 |     0 |\n+----------------------+--------+--------+---------+---------+-----+-------+\n| Total                |    156 |    111 |      14 |       1 |   0 |   109 |\n+----------------------+--------+--------+---------+---------+-----+-------+\"><pre class=\"notranslate\">$ bin/rails stats\n+----------------------+--------+--------+---------+---------+-----+-------+\n<span class=\"pl-k\">|</span> Name                 <span class=\"pl-k\">|</span>  Lines <span class=\"pl-k\">|</span>    LOC <span class=\"pl-k\">|</span> Classes <span class=\"pl-k\">|</span> Methods <span class=\"pl-k\">|</span> M/C <span class=\"pl-k\">|</span> LOC/M <span class=\"pl-k\">|</span>\n+----------------------+--------+--------+---------+---------+-----+-------+\n<span class=\"pl-k\">|</span> Controllers          <span class=\"pl-k\">|</span>      7 <span class=\"pl-k\">|</span>      7 <span class=\"pl-k\">|</span>       2 <span class=\"pl-k\">|</span>       1 <span class=\"pl-k\">|</span>   0 <span class=\"pl-k\">|</span>     5 <span class=\"pl-k\">|</span>\n...\n<span class=\"pl-k\">|</span> System tests         <span class=\"pl-k\">|</span>      0 <span class=\"pl-k\">|</span>      0 <span class=\"pl-k\">|</span>       0 <span class=\"pl-k\">|</span>       0 <span class=\"pl-k\">|</span>   0 <span class=\"pl-k\">|</span>     0 <span class=\"pl-k\">|</span>\n+----------------------+--------+--------+---------+---------+-----+-------+\n<span class=\"pl-k\">|</span> Total                <span class=\"pl-k\">|</span>    156 <span class=\"pl-k\">|</span>    111 <span class=\"pl-k\">|</span>      14 <span class=\"pl-k\">|</span>       1 <span class=\"pl-k\">|</span>   0 <span class=\"pl-k\">|</span>   109 <span class=\"pl-k\">|</span>\n+----------------------+--------+--------+---------+---------+-----+-------+</pre></div>\n<h3 dir=\"auto\">After</h3>\n<p dir=\"auto\"><code class=\"notranslate\">bin/rake stats</code> adds directories.</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ bin/rake stats\nDEPRECATION WARNING: `STATS_DIRECTORIES` is deprecated and will be removed in Rails 8.1! Use `Rails.application.config.code_statistics.directories` instead. (called from block in execute at .../gems/rake-13.1.0/lib/rake/task.rb:281)\nDEPRECATION WARNING: `bin/rake stats` as rake task has been deprecated and will be removed in Rails 8.1.\nPlease use `bin/rails stats` as Rails command instead.\n\n (called from block in execute at .../gems/rake-13.1.0/lib/rake/task.rb:281)\nDEPRECATION WARNING: `bin/rake stats` as rake task has been deprecated and will be removed in Rails 8.1.\nPlease use `bin/rails stats` as Rails command instead.\n\n (called from block in execute at .../gems/rake-13.1.0/lib/rake/task.rb:281)\n+----------------------+--------+--------+---------+---------+-----+-------+\n| Name                 |  Lines |    LOC | Classes | Methods | M/C | LOC/M |\n+----------------------+--------+--------+---------+---------+-----+-------+\n| Controllers          |      7 |      7 |       2 |       1 |   0 |     5 |\n...\n| System tests         |      0 |      0 |       0 |       0 |   0 |     0 |\n| Model specs          |      5 |      4 |       0 |       0 |   0 |     0 |\n+----------------------+--------+--------+---------+---------+-----+-------+\n| Total                |    161 |    115 |      14 |       1 |   0 |   113 |\n+----------------------+--------+--------+---------+---------+-----+-------+\"><pre class=\"notranslate\">$ bin/rake stats\nDEPRECATION WARNING: <span class=\"pl-s\"><span class=\"pl-pds\">`</span>STATS_DIRECTORIES<span class=\"pl-pds\">`</span></span> is deprecated and will be removed <span class=\"pl-k\">in</span> Rails 8.1<span class=\"pl-k\">!</span> Use <span class=\"pl-s\"><span class=\"pl-pds\">`</span>Rails.application.config.code_statistics.directories<span class=\"pl-pds\">`</span></span> instead. (called from block <span class=\"pl-k\">in</span> execute at .../gems/rake-13.1.0/lib/rake/task.rb:281)\nDEPRECATION WARNING: <span class=\"pl-s\"><span class=\"pl-pds\">`</span>bin/rake stats<span class=\"pl-pds\">`</span></span> as rake task has been deprecated and will be removed <span class=\"pl-k\">in</span> Rails 8.1.\nPlease use <span class=\"pl-s\"><span class=\"pl-pds\">`</span>bin/rails stats<span class=\"pl-pds\">`</span></span> as Rails <span class=\"pl-c1\">command</span> instead.\n\n (called from block <span class=\"pl-k\">in</span> execute at .../gems/rake-13.1.0/lib/rake/task.rb:281)\nDEPRECATION WARNING: <span class=\"pl-s\"><span class=\"pl-pds\">`</span>bin/rake stats<span class=\"pl-pds\">`</span></span> as rake task has been deprecated and will be removed <span class=\"pl-k\">in</span> Rails 8.1.\nPlease use <span class=\"pl-s\"><span class=\"pl-pds\">`</span>bin/rails stats<span class=\"pl-pds\">`</span></span> as Rails <span class=\"pl-c1\">command</span> instead.\n\n (called from block <span class=\"pl-k\">in</span> execute at .../gems/rake-13.1.0/lib/rake/task.rb:281)\n+----------------------+--------+--------+---------+---------+-----+-------+\n<span class=\"pl-k\">|</span> Name                 <span class=\"pl-k\">|</span>  Lines <span class=\"pl-k\">|</span>    LOC <span class=\"pl-k\">|</span> Classes <span class=\"pl-k\">|</span> Methods <span class=\"pl-k\">|</span> M/C <span class=\"pl-k\">|</span> LOC/M <span class=\"pl-k\">|</span>\n+----------------------+--------+--------+---------+---------+-----+-------+\n<span class=\"pl-k\">|</span> Controllers          <span class=\"pl-k\">|</span>      7 <span class=\"pl-k\">|</span>      7 <span class=\"pl-k\">|</span>       2 <span class=\"pl-k\">|</span>       1 <span class=\"pl-k\">|</span>   0 <span class=\"pl-k\">|</span>     5 <span class=\"pl-k\">|</span>\n...\n<span class=\"pl-k\">|</span> System tests         <span class=\"pl-k\">|</span>      0 <span class=\"pl-k\">|</span>      0 <span class=\"pl-k\">|</span>       0 <span class=\"pl-k\">|</span>       0 <span class=\"pl-k\">|</span>   0 <span class=\"pl-k\">|</span>     0 <span class=\"pl-k\">|</span>\n<span class=\"pl-k\">|</span> Model specs          <span class=\"pl-k\">|</span>      5 <span class=\"pl-k\">|</span>      4 <span class=\"pl-k\">|</span>       0 <span class=\"pl-k\">|</span>       0 <span class=\"pl-k\">|</span>   0 <span class=\"pl-k\">|</span>     0 <span class=\"pl-k\">|</span>\n+----------------------+--------+--------+---------+---------+-----+-------+\n<span class=\"pl-k\">|</span> Total                <span class=\"pl-k\">|</span>    161 <span class=\"pl-k\">|</span>    115 <span class=\"pl-k\">|</span>      14 <span class=\"pl-k\">|</span>       1 <span class=\"pl-k\">|</span>   0 <span class=\"pl-k\">|</span>   113 <span class=\"pl-k\">|</span>\n+----------------------+--------+--------+---------+---------+-----+-------+</pre></div>\n<p dir=\"auto\"><code class=\"notranslate\">bin/rails stats</code> adds directories added in a <code class=\"notranslate\">Raills.application.config.after_initialize</code> block.</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ bin/rails stats\n+----------------------+--------+--------+---------+---------+-----+-------+\n| Name                 |  Lines |    LOC | Classes | Methods | M/C | LOC/M |\n+----------------------+--------+--------+---------+---------+-----+-------+\n| Controllers          |      7 |      7 |       2 |       1 |   0 |     5 |\n...\n| System tests         |      0 |      0 |       0 |       0 |   0 |     0 |\n| Model specs          |      5 |      4 |       0 |       0 |   0 |     0 |\n+----------------------+--------+--------+---------+---------+-----+-------+\n| Total                |    161 |    115 |      14 |       1 |   0 |   113 |\n+----------------------+--------+--------+---------+---------+-----+-------+\n....\"><pre class=\"notranslate\">$ bin/rails stats\n+----------------------+--------+--------+---------+---------+-----+-------+\n<span class=\"pl-k\">|</span> Name                 <span class=\"pl-k\">|</span>  Lines <span class=\"pl-k\">|</span>    LOC <span class=\"pl-k\">|</span> Classes <span class=\"pl-k\">|</span> Methods <span class=\"pl-k\">|</span> M/C <span class=\"pl-k\">|</span> LOC/M <span class=\"pl-k\">|</span>\n+----------------------+--------+--------+---------+---------+-----+-------+\n<span class=\"pl-k\">|</span> Controllers          <span class=\"pl-k\">|</span>      7 <span class=\"pl-k\">|</span>      7 <span class=\"pl-k\">|</span>       2 <span class=\"pl-k\">|</span>       1 <span class=\"pl-k\">|</span>   0 <span class=\"pl-k\">|</span>     5 <span class=\"pl-k\">|</span>\n...\n<span class=\"pl-k\">|</span> System tests         <span class=\"pl-k\">|</span>      0 <span class=\"pl-k\">|</span>      0 <span class=\"pl-k\">|</span>       0 <span class=\"pl-k\">|</span>       0 <span class=\"pl-k\">|</span>   0 <span class=\"pl-k\">|</span>     0 <span class=\"pl-k\">|</span>\n<span class=\"pl-k\">|</span> Model specs          <span class=\"pl-k\">|</span>      5 <span class=\"pl-k\">|</span>      4 <span class=\"pl-k\">|</span>       0 <span class=\"pl-k\">|</span>       0 <span class=\"pl-k\">|</span>   0 <span class=\"pl-k\">|</span>     0 <span class=\"pl-k\">|</span>\n+----------------------+--------+--------+---------+---------+-----+-------+\n<span class=\"pl-k\">|</span> Total                <span class=\"pl-k\">|</span>    161 <span class=\"pl-k\">|</span>    115 <span class=\"pl-k\">|</span>      14 <span class=\"pl-k\">|</span>       1 <span class=\"pl-k\">|</span>   0 <span class=\"pl-k\">|</span>   113 <span class=\"pl-k\">|</span>\n+----------------------+--------+--------+---------+---------+-----+-------+\n....</pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52226",
            "title": "Deprecate `STATS_DIRECTORIES` in favor of `config.code_statistics.directories",
            "date_modified": "2024-06-27T12:21:37.000Z",
            "date_published": "2024-06-27T10:46:15.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5786847?u=20d806fb1d3053196ecc778a8257ed4c2a88171e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because it's recommended not to use \"here\"/\"click here\"/\"more\" as the title for a link for accessibility reasons.<a href=\"https://www.gov.uk/guidance/content-design/links#writing-link-text\" rel=\"nofollow\">1</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes link text in the migration guides.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">When screen reader users are tabbing through all links on the page, they'll miss the context of \"read more about X\" preceding the \"here\". Thankfully, the sentences in the migration rewrite are already well-written so the \"here\" can be dropped in favour of the last part of the sentence to give the link title more meaning.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52217",
            "title": "Replace \"here\" link titles with meaningful titles [ci skip]",
            "date_modified": "2024-06-27T12:06:26.000Z",
            "date_published": "2024-06-25T16:11:20.000Z",
            "author": {
                "name": "neanias",
                "url": "https://github.com/neanias"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5059927?u=54cb27efd35253e1fe86d48663b299bf398d8d84&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">If you try to create a cte that unions for than 2 relationships you get a NoMethodError of</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"undefined method `union' for an instance of Arel::Nodes::UnionAll\"><pre class=\"notranslate\"><code class=\"notranslate\">undefined method `union' for an instance of Arel::Nodes::UnionAll\n</code></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This fix allows you to pass more than 2 relationships to a cte to union them together.</p>\n<p dir=\"auto\">Im calling ast on the nodes because passing the SelectManager around caused the selects to be wrapped in parenthesis which causes a syntax error in sqlite.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52211",
            "title": "Fix creating a CTE with 3 or more relations that are unioned together",
            "date_modified": "2024-06-25T12:31:11.000Z",
            "date_published": "2024-06-25T00:35:22.000Z",
            "author": {
                "name": "npezza93",
                "url": "https://github.com/npezza93"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4468155?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">When I and my colleagues saw the API document for <code class=\"notranslate\">attribute</code>,<br>\nwe got difficulty understanding what exactly the <code class=\"notranslate\">previous</code> value.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">In order to clarify the document, I have improved the followings.</p>\n<ul dir=\"auto\">\n<li>Change the wording from <code class=\"notranslate\">previous</code> to <code class=\"notranslate\">previously defined</code> for clarification</li>\n<li>Add the similar description for <code class=\"notranslate\">type</code> when not specified</li>\n</ul>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">none</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52208",
            "title": "[DOC] Clarify previous (type/value) in Activecord::Attributes `attribute`",
            "date_modified": "2024-06-24T13:32:51.000Z",
            "date_published": "2024-06-24T13:32:12.000Z",
            "author": {
                "name": "aeroastro",
                "url": "https://github.com/aeroastro"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4468155?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Since the current documentation contains wrong information, we need to fix it.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The refactoring over <code class=\"notranslate\">attribute</code> was done at <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1166733860\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/44666\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/44666/hovercard\" href=\"https://github.com/rails/rails/pull/44666\">#44666</a>,<br>\nwhich stops <code class=\"notranslate\">attribute</code> from calling <code class=\"notranslate\">define_attribute</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">none</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52207",
            "title": "[DOC] Remove wrong document due to refactoring `attribute`",
            "date_modified": "2024-06-24T13:33:00.000Z",
            "date_published": "2024-06-24T11:54:26.000Z",
            "author": {
                "name": "aeroastro",
                "url": "https://github.com/aeroastro"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50565.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2064752053\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50565\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50565/hovercard\" href=\"https://github.com/rails/rails/issues/50565\">#50565</a></p>\n<p dir=\"auto\">One thing I'd like to figure out in this PR is <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2010260417\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rack/rack/issues/2137\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rack/rack/pull/2137/hovercard\" href=\"https://github.com/rack/rack/pull/2137\">rack/rack#2137</a>, so still investigating. This is more just an FYI, if folks would like to help.</p>",
            "url": "https://github.com/rails/rails/pull/52206",
            "title": "wip: drop support for Rack < 3",
            "date_modified": "2024-06-24T11:20:16.000Z",
            "date_published": "2024-06-24T08:04:37.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/44280450?u=5d0b7f0d7535c39131a9d2d513cbf4691236b6e4&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Similar to what was done in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1718310267\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48266\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48266/hovercard\" href=\"https://github.com/rails/rails/pull/48266\">#48266</a>, add <code class=\"notranslate\">type</code> attribute in source of video and audio tag.</p>\n<p dir=\"auto\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source\" rel=\"nofollow\">MDN Doc: <source> tag</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52198",
            "title": "Add `type` attribute in source of video and audio tag",
            "date_modified": "2024-06-23T06:53:09.000Z",
            "date_published": "2024-06-23T01:27:25.000Z",
            "author": {
                "name": "heka1024",
                "url": "https://github.com/heka1024"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #52190.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2367503804\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52190\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52190/hovercard\" href=\"https://github.com/rails/rails/issues/52190\">#52190</a></p>\n<p dir=\"auto\">/cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/artemas/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/artemas\">@artemas</a></p>",
            "url": "https://github.com/rails/rails/pull/52196",
            "title": "ActionText `rich_text_area` should respect ActiveStorage proxy mode",
            "date_modified": "2024-06-22T23:58:04.000Z",
            "date_published": "2024-06-22T23:37:15.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28509627?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Fix return values for HTTP Digest authentication api docs for method authenticate. It returns true when authenticate is successful and returns false otherwise.<br>\nAlso added .present? to return false when request.authorization returns nil</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52194",
            "title": "Fix return values for authenticate in docs and add present? to return false when nil",
            "date_modified": "2024-06-25T12:22:53.000Z",
            "date_published": "2024-06-22T18:30:26.000Z",
            "author": {
                "name": "kaushikhande",
                "url": "https://github.com/kaushikhande"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Mention which blob can't be transformed and what content_type it has.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52193",
            "title": "Improve ActiveStorage::InvariableError message",
            "date_modified": "2024-06-22T21:58:04.000Z",
            "date_published": "2024-06-22T16:33:02.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/44280450?u=5d0b7f0d7535c39131a9d2d513cbf4691236b6e4&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Summary</h3>\n<p dir=\"auto\">This pull request modifies the HTTP cache handling behavior in Rails to better align with the HTTP specification. Specifically, the change ensures that the ETag header takes precedence over other conditions when determining if a request is fresh.</p>\n<h3 dir=\"auto\">Details</h3>\n<p dir=\"auto\">Previously, the logic required both the ETag and Last-Modified headers to match for a request to be considered fresh. The new logic prioritizes the ETag header, which is in accordance with the guidance provided in the <a href=\"http://tools.ietf.org/html/rfc7232#section-6\" rel=\"nofollow\">RFC 7232, Section 6</a></p>\n<h3 dir=\"auto\">Changes Made</h3>\n<ul dir=\"auto\">\n<li>Refactored the HTTP cache handling code to ensure that the ETag header takes precedence over the Last-Modified header.</li>\n<li>Updated relevant tests to reflect this new behavior.</li>\n</ul>\n<h3 dir=\"auto\">Reference</h3>\n<ul dir=\"auto\">\n<li><a href=\"http://tools.ietf.org/html/rfc7232#section-6\" rel=\"nofollow\">RFC 7232, Section 6</a></li>\n<li><a href=\"https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/If-None-Match\" rel=\"nofollow\">MDN: If-None-Match<br>\n</a></li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52191",
            "title": "Prefer ETag over Last-Modified for `fresh_when` and `stale?` according to HTTP speicification",
            "date_modified": "2024-06-26T21:29:55.000Z",
            "date_published": "2024-06-22T10:38:12.000Z",
            "author": {
                "name": "heka1024",
                "url": "https://github.com/heka1024"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #52183.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2366680034\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52183\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52183/hovercard\" href=\"https://github.com/rails/rails/issues/52183\">#52183</a>.</p>\n<p dir=\"auto\">The problem was that the locale and the timezone are set only when running the <code class=\"notranslate\">perform</code> method of the job<br>\n</p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/16d8b82d5e2aca4780c5d10b1fe9a90b33a0e84e/activejob/lib/active_job/translation.rb#L8-L10\">rails/activejob/lib/active_job/translation.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 8 to 10\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/16d8b82d5e2aca4780c5d10b1fe9a90b33a0e84e\">16d8b82</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L8\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"8\"></td>\n          <td id=\"LC8\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-en\">around_perform</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">job</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">block</span>| </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L9\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"9\"></td>\n          <td id=\"LC9\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-v\">I18n</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">with_locale</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">job</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">locale</span><span class=\"pl-kos\">,</span> &amp;<span class=\"pl-s1\">block</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L10\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"10\"></td>\n          <td id=\"LC10\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<br>\n<div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/16d8b82d5e2aca4780c5d10b1fe9a90b33a0e84e/activejob/lib/active_job/execution.rb#L45-L51\">rails/activejob/lib/active_job/execution.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 45 to 51\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/16d8b82d5e2aca4780c5d10b1fe9a90b33a0e84e\">16d8b82</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L45\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"45\"></td>\n          <td id=\"LC45\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">perform_now</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L46\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"46\"></td>\n          <td id=\"LC46\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-c\"># Guard against jobs that were persisted before we started counting executions by zeroing out nil counters</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L47\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"47\"></td>\n          <td id=\"LC47\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">executions</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-en\">executions</span> || <span class=\"pl-c1\">0</span><span class=\"pl-kos\">)</span> + <span class=\"pl-c1\">1</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L48\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"48\"></td>\n          <td id=\"LC48\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L49\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"49\"></td>\n          <td id=\"LC49\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">deserialize_arguments_if_needed</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L50\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"50\"></td>\n          <td id=\"LC50\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L51\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"51\"></td>\n          <td id=\"LC51\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">_perform_job</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<br>\n<div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/16d8b82d5e2aca4780c5d10b1fe9a90b33a0e84e/activejob/lib/active_job/execution.rb#L65-L70\">rails/activejob/lib/active_job/execution.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 65 to 70\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/16d8b82d5e2aca4780c5d10b1fe9a90b33a0e84e\">16d8b82</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L65\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"65\"></td>\n          <td id=\"LC65\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">_perform_job</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L66\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"66\"></td>\n          <td id=\"LC66\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-v\">ActiveSupport</span>::<span class=\"pl-v\">ExecutionContext</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:job</span><span class=\"pl-kos\">]</span> <span class=\"pl-c1\">=</span> <span class=\"pl-smi\">self</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L67\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"67\"></td>\n          <td id=\"LC67\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">run_callbacks</span> <span class=\"pl-pds\">:perform</span> <span class=\"pl-k\">do</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L68\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"68\"></td>\n          <td id=\"LC68\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-en\">perform</span><span class=\"pl-kos\">(</span>*<span class=\"pl-en\">arguments</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L69\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"69\"></td>\n          <td id=\"LC69\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">end</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L70\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"70\"></td>\n          <td id=\"LC70\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">But when the job raises </p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/16d8b82d5e2aca4780c5d10b1fe9a90b33a0e84e/activejob/lib/active_job/execution.rb#L52-L58\">rails/activejob/lib/active_job/execution.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 52 to 58\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/16d8b82d5e2aca4780c5d10b1fe9a90b33a0e84e\">16d8b82</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L52\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"52\"></td>\n          <td id=\"LC52\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">rescue</span> <span class=\"pl-v\">Exception</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-en\">exception</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L53\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"53\"></td>\n          <td id=\"LC53\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">handled</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">rescue_with_handler</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">exception</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L54\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"54\"></td>\n          <td id=\"LC54\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">return</span> <span class=\"pl-s1\">handled</span> <span class=\"pl-k\">if</span> <span class=\"pl-s1\">handled</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L55\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"55\"></td>\n          <td id=\"LC55\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L56\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"56\"></td>\n          <td id=\"LC56\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">run_after_discard_procs</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">exception</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L57\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"57\"></td>\n          <td id=\"LC57\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">raise</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L58\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"58\"></td>\n          <td id=\"LC58\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n, we are outside of <code class=\"notranslate\">around_perform</code> block and so the global values are not correctly set. So we need to wrap the whole <code class=\"notranslate\">perform_now</code> method.<p></p>",
            "url": "https://github.com/rails/rails/pull/52188",
            "title": "Preserve timezone and locale in ActiveJob exception handlers",
            "date_modified": "2024-06-21T20:54:10.000Z",
            "date_published": "2024-06-21T20:52:17.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2853450?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #52182.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2366635297\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52182\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52182/hovercard\" href=\"https://github.com/rails/rails/issues/52182\">#52182</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Make a hash of the composite primary key so the where clause knows to check for multiple columns, one column per key, instead of a single column with all the key names.</p>",
            "url": "https://github.com/rails/rails/pull/52186",
            "title": "Fix `missing(:association)` and `associated(:association)` for composite primary keys",
            "date_modified": "2024-06-22T09:56:32.000Z",
            "date_published": "2024-06-21T16:31:06.000Z",
            "author": {
                "name": "jackozi",
                "url": "https://github.com/jackozi"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/509837?u=697e4a265d5359363a5d57a24b07f9a79cb0b08a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">During a recent incident, I was trying to clean up some data in a production console via an <code class=\"notranslate\">update_all</code>. The query raised (due to a lock timeout), and I noticed something very surprising in the backtrace - a call to <code class=\"notranslate\">exec_delete</code>!</p>\n<p dir=\"auto\">It turns out that these methods are aliases because they both have a very simple and identical implementation. But I didn't know this at a time and so my heart skipped a beat.</p>\n<p dir=\"auto\">I am proposing we avoid aliasing for the sake of avoid confusion in backtraces. If you call <code class=\"notranslate\">update</code>, I think we should avoid showing any other SQL verbs in your backtrace.</p>\n<p dir=\"auto\">(I realise this is a super nitpicky change so I won't be upset if it gets rejected/ignored.)</p>",
            "url": "https://github.com/rails/rails/pull/52173",
            "title": "Avoid aliasing `exec_update` and `exec_delete`",
            "date_modified": "2024-06-21T02:39:38.000Z",
            "date_published": "2024-06-21T01:25:22.000Z",
            "author": {
                "name": "ghiculescu",
                "url": "https://github.com/ghiculescu"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/30030?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Rails currently does not have a nice route helper for HTTP/1 and HTTP/2 WebSockets.</p>\n<p dir=\"auto\">HTTP/1 uses <code class=\"notranslate\">GET</code> with the <code class=\"notranslate\">upgrade</code> header, while HTTP/2+ uses <code class=\"notranslate\">CONNECT</code> with the <code class=\"notranslate\">:protocol</code> pseudo-header. Users should not need to know the difference.</p>\n<p dir=\"auto\">Currently you'd need to write something like this:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"match &quot;home/index&quot;, to: &quot;home#index&quot;, via: [:get, :connect]\"><pre class=\"notranslate\"><span class=\"pl-en\">match</span> <span class=\"pl-s\">\"home/index\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">to</span>: <span class=\"pl-s\">\"home#index\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">via</span>: <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:get</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:connect</span><span class=\"pl-kos\">]</span></pre></div>\n<p dir=\"auto\">With this change, we can write:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"connect &quot;home/index&quot;\"><pre class=\"notranslate\"><span class=\"pl-en\">connect</span> <span class=\"pl-s\">\"home/index\"</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52169",
            "title": "Add route helper for websockets.",
            "date_modified": "2024-06-22T09:45:11.000Z",
            "date_published": "2024-06-20T11:28:00.000Z",
            "author": {
                "name": "ioquatix",
                "url": "https://github.com/ioquatix"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/249125?u=13c581de8d23f79c307d8a9ce71beb43c4b04194&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">As can be seen in the code example below (and also in the API documentation for <code class=\"notranslate\">ActiveRecord::DelegatedType</code>), the \"subclasses\" do not need to inherit (on the Ruby level) from the \"superclass\" - in contrast to STI.</p>\n<p dir=\"auto\">Maybe we can find a better name for these concepts instead, to avoid the confusion?</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52166",
            "title": "Correction: Delegated types do not require inheritance [ci skip]",
            "date_modified": "2024-06-21T12:13:37.000Z",
            "date_published": "2024-06-20T08:05:23.000Z",
            "author": {
                "name": "franzliedke",
                "url": "https://github.com/franzliedke"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/43910713?u=f4f81369eab5538bbd348769fcba04da77eddfa3&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because when creating an engine in an existing Rails codebase, we want to bypass the duplicate plugin name condition.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds a flag \"duplicate_option\" that allows to skip the invalid plugin name error.</p>\n<p dir=\"auto\">Use case:<br>\nIn a rails monolith, when creating rails engines to better encapsulate code, the module name most likely already exists before creating the engine (as in, when not starting from scratch) so the <code class=\"notranslate\">valid_const?</code> would throw an error even though it shouldn't.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52160",
            "title": "Add option to allow for duplicate plugins names generated",
            "date_modified": "2024-06-21T02:07:24.000Z",
            "date_published": "2024-06-19T20:20:19.000Z",
            "author": {
                "name": "ehasrouni",
                "url": "https://github.com/ehasrouni"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Digging deeper is a large section. We can move the performance, security and error reporting guides to a separate section.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52154",
            "title": "Move production guides to separate section [ci-skip]",
            "date_modified": "2024-06-25T15:18:12.000Z",
            "date_published": "2024-06-19T13:00:08.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/14007?u=7d74620cf38d2057b13e9cbb7ee8c6ae35c1d019&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #52081.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2344500235\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52081\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52081/hovercard\" href=\"https://github.com/rails/rails/issues/52081\">#52081</a></p>\n<p dir=\"auto\">This fixes a situation where a join table is missing in the SQL statement for a has/through relationship that utilizes a scope. It can occur when using <code class=\"notranslate\">joins</code> in the scope with no where clauses (e.g. <code class=\"notranslate\">joins(:post).where(posts: {name: \"foo\"})</code> vs <code class=\"notranslate\">joins(:post).merge(Post.foo)</code>). The \"chain\" is cutoff and the join is left behind.</p>\n<p dir=\"auto\">I'm guessing this bug has lingered because the majority of <code class=\"notranslate\">joins</code> also utilize/chain a where clause.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52150",
            "title": "In association scope, always merge the joins (regardless of references_values)",
            "date_modified": "2024-06-18T22:47:14.000Z",
            "date_published": "2024-06-18T22:28:38.000Z",
            "author": {
                "name": "justinko",
                "url": "https://github.com/justinko"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #52125.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2353216899\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52125\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52125/hovercard\" href=\"https://github.com/rails/rails/issues/52125\">#52125</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Starting in Rack 3.1, rack.input is optional, so <code class=\"notranslate\">read_body_stream</code> (used by <code class=\"notranslate\">raw_post</code>) can no longer call <code class=\"notranslate\">read</code> unconditionally.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52138",
            "title": "Fix raw_post raising when rack.input is nil",
            "date_modified": "2024-06-27T01:47:20.000Z",
            "date_published": "2024-06-16T18:10:58.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        }
    ]
}