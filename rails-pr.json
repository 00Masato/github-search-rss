{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/259568?u=088346ff0867534d6f143c32b5486953e158a6e4&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Our application is multi-tenant and storing files in S3 was an organizational issue due to ActiveStorage storing the files at the root level in a flat structure. Instead we would like some semantic structure, for example we would like to have all files related  to active storage to be in the active_storage top folder, and then for each tenant our of application we will further namespace. Example of the intended structure:</p>\n<p dir=\"auto\">S3/active_storage/tenant_id/some_file_uid<br>\nS3/active_storage/tenant_id/some_file_uid</p>\n<p dir=\"auto\">This Pull Request has been created in order to support this kind of structure.</p>\n<p dir=\"auto\">Allows for configuring a custom prefix for Blob keys.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"    Rails.application.configure do\n      config.active_storage.blob_prefix = 'active_storage'\n    end\"><pre class=\"notranslate\"><code class=\"notranslate\">    Rails.application.configure do\n      config.active_storage.blob_prefix = 'active_storage'\n    end\n</code></pre></div>\n<p dir=\"auto\">This will store Blobs in a path like active_storage/&lt;random_key&gt;. You may also configure an additional level of prefix on each relation.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"    class User &lt; ActiveRecord::Base\n      has_one_attached :avatar, prefix: 'avatars'\n    end\"><pre class=\"notranslate\"><code class=\"notranslate\">    class User &lt; ActiveRecord::Base\n      has_one_attached :avatar, prefix: 'avatars'\n    end\n</code></pre></div>\n<p dir=\"auto\">This will store Blobs in a path like active_storage/avatars/&lt;random_key&gt;. Or even generate it using information on the record:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"    class User &lt; ActiveRecord::Base\n      belongs_to :tenant\n      has_one_attached :avatar, prefix: -&gt; (record, attachment) { record.tenant.name }\n    end\"><pre class=\"notranslate\"><code class=\"notranslate\">    class User &lt; ActiveRecord::Base\n      belongs_to :tenant\n      has_one_attached :avatar, prefix: -&gt; (record, attachment) { record.tenant.name }\n    end\n</code></pre></div>\n<p dir=\"auto\">This will store Blobs in a path like active_storage/account_1/&lt;random_key&gt;</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes to Active Storage. Particularly it makes the association macros determine the blob id, if given the option <code class=\"notranslate\">:prefix</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">We are using this in production right now. Working fine so far. We do not use direct upload. Unsure if this may affect it.</p>\n<p dir=\"auto\">Other people interested in this sort of functionality:</p>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"545629944\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/38161\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/38161/hovercard\" href=\"https://github.com/rails/rails/issues/38161\">#38161</a></li>\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"319441008\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/32790\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/32790/hovercard\" href=\"https://github.com/rails/rails/issues/32790\">#32790</a></li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48591",
            "title": "Add support for :prefix option in relations.",
            "date_modified": "2023-06-27T12:11:09.000Z",
            "date_published": "2023-06-27T12:00:28.000Z",
            "author": {
                "name": "Nerian",
                "url": "https://github.com/Nerian"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/19192189?u=dd60737844a9db7f1475bab21fc3e5258a405e15&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">The 6.1 format directly Marshal the AS::Cache::Entry class which prevent us from changing its internal representation.</p>\n<p dir=\"auto\">Removing support for it would unblock various refactors and cleanup.</p>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/jonathanhefner/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jonathanhefner\">@jonathanhefner</a></p>\n<p dir=\"auto\"><a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewd/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewd\">@matthewd</a>: do you think we need to go through a deprecation for this? (I assume so but not 100% sure).</p>\n<p dir=\"auto\">If we can't remove it right now, we should deprecate is ASAP so this stop hindering us.</p>",
            "url": "https://github.com/rails/rails/pull/48586",
            "title": "Remove support for Rails 6.1 cache format",
            "date_modified": "2023-06-27T07:59:49.000Z",
            "date_published": "2023-06-27T07:59:46.000Z",
            "author": {
                "name": "casperisfine",
                "url": "https://github.com/casperisfine"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/509837?u=697e4a265d5359363a5d57a24b07f9a79cb0b08a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Currently if you set <code class=\"notranslate\">config.active_job.queue_adapter = :inline</code> in <code class=\"notranslate\">config/application.rb</code> or <code class=\"notranslate\">config/environments/test.rb</code>, this config will be respected by some test cases but not others.</p>\n<p dir=\"auto\">Specifically, in <code class=\"notranslate\">ActionDispatch::IntegrationTest</code>, <code class=\"notranslate\">ActionMailer::TestCase</code>, and <code class=\"notranslate\">ActiveJob::TestCase</code>, the test adapter will still be <code class=\"notranslate\">TestAdapter</code>, while in other test cases it will be <code class=\"notranslate\">InlineAdapter</code>.</p>\n<p dir=\"auto\">I think you'd expect that if you set the test adapter for an environment, that test adapter would be available everywhere in that environment. For example, you might want to use the Delayed Job test adapter in your test environment so that you can have your test code more closely match production. The feedback on <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"496901128\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/37270\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/37270/hovercard\" href=\"https://github.com/rails/rails/issues/37270\">#37270</a> echoes this, but the workaround suggested there of disabling the test adapter on specific klasses is not very good.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">There's a few parts to this PR.</p>\n<ul dir=\"auto\">\n<li>A new test, <code class=\"notranslate\">railties/test/application/active_job_adapter_test.rb</code>, that ensures that the test adapter you specify is used in every test case Rails provides.</li>\n<li><code class=\"notranslate\">ActiveJob::TestHelper</code> is updated to not force the <code class=\"notranslate\">TestAdapter</code> onto your tests if you have specified your own test adapter.</li>\n<li><code class=\"notranslate\">perform_enqueued_jobs</code> is updated to work regardless of test adapter. This is because other frameworks depend on it (specifically <code class=\"notranslate\">assert_emails</code> in Action Mailer) and so that needs to work regardless of test adapter.</li>\n<li>The other assertions added by <code class=\"notranslate\">ActiveJob::TestHelper</code> no raise if the test adapter is not <code class=\"notranslate\">TestAdapter</code>, since they are tightly coupled to it.</li>\n</ul>\n<p dir=\"auto\">All the other changes are updating the test suite to work with this new approach. I haven't finished that, but wanted to put this out there for feedback while I keep working on it. So far the bulk of the changes are replacing places where a job is implicitly run with a default call to <code class=\"notranslate\">perform_enqueued_jobs</code>.</p>\n<p dir=\"auto\">I also need to confirm if the behaviour added in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"180545317\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/26690\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/26690/hovercard\" href=\"https://github.com/rails/rails/pull/26690\">#26690</a> contradicts <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"496901128\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/37270\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/37270/hovercard\" href=\"https://github.com/rails/rails/issues/37270\">#37270</a> or if both can live in harmony.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #37270.\">Fixes</span>: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"496901128\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/37270\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/37270/hovercard\" href=\"https://github.com/rails/rails/issues/37270\">#37270</a></p>\n<p dir=\"auto\">ref: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1584425335\" data-permission-text=\"Title is private\" data-url=\"https://github.com/bensheldon/good_job/issues/846\" data-hovercard-type=\"issue\" data-hovercard-url=\"/bensheldon/good_job/issues/846/hovercard\" href=\"https://github.com/bensheldon/good_job/issues/846\">bensheldon/good_job#846</a><br>\nref: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"174675110\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/26360\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/26360/hovercard\" href=\"https://github.com/rails/rails/issues/26360\">#26360</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48585",
            "title": "Active Job: Correctly use the desired test adapter in tests (RFC)",
            "date_modified": "2023-06-27T01:22:28.000Z",
            "date_published": "2023-06-27T01:01:04.000Z",
            "author": {
                "name": "ghiculescu",
                "url": "https://github.com/ghiculescu"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/3124?u=6ece6a5a8b8ea32c5fa94c325d151bc01d1e44e8&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This commit adds a rake task that checks various utilities are working before releasing Rails.  The problem we're trying to avoid is commands failing halfway through the release (for example maybe you're not logged in to npmjs). The check task is fairly opinionated, it requires that:</p>\n<ul dir=\"auto\">\n<li>Use a YubiKey for storing OTPs\n<ul dir=\"auto\">\n<li>The <code class=\"notranslate\">ykman</code> utility is installed</li>\n<li>The OTP name for RubyGems has <code class=\"notranslate\">rubygems.org</code> in the name</li>\n<li>The OTP name for NPM has <code class=\"notranslate\">npmjs.com</code> in the name</li>\n</ul>\n</li>\n<li>You are logged in to RubyGems</li>\n<li>You are logged in to npmjs</li>\n<li>You are logged in to the <code class=\"notranslate\">gh</code> utility</li>\n</ul>\n<p dir=\"auto\">If the task fails, then no gems will be pushed and it gives you an opportunity to fix your environment.  Basically I want to automate <a href=\"https://github.com/rails/rails/blob/main/RELEASING_RAILS.md#check-credentials-for-rubygems-npm-and-github\">this section</a> in our release documentation.</p>\n<p dir=\"auto\">See <a href=\"https://tenderlovemaking.com/2021/10/26/publishing-gems-with-your-yubikey.html\" rel=\"nofollow\">this blog post</a> for configuring your YubiKey.</p>",
            "url": "https://github.com/rails/rails/pull/48583",
            "title": "Add a rake task for checking various release related utilities",
            "date_modified": "2023-06-27T01:50:35.000Z",
            "date_published": "2023-06-26T22:26:30.000Z",
            "author": {
                "name": "tenderlove",
                "url": "https://github.com/tenderlove"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/522155?u=2e71ed2ab56545207a94b885fafc434ee7350cf1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Sometimes you might want to <code class=\"notranslate\">preload</code> relations for a record that has already been loaded.<br>\nIf you were to do it today, you'd either have to use private API (<code class=\"notranslate\">ActiveRecord::Associations::Preloader</code>) or do something like</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"def method_that_wants_to_preload_and_receives_record(user)\n  user = User.preload(:address, friends: [:address, :followers]).find(user.id)\nend\"><pre class=\"notranslate\"><code class=\"notranslate\">def method_that_wants_to_preload_and_receives_record(user)\n  user = User.preload(:address, friends: [:address, :followers]).find(user.id)\nend\n</code></pre></div>\n<p dir=\"auto\">However, that seems ugly and may result to unnecessary (but probably cached) query on <code class=\"notranslate\">users</code> to find a record by a primary key.</p>\n<p dir=\"auto\">It seems like an simple addition to introduce <code class=\"notranslate\">preload</code> on a record that has already been loaded. That's what this PR does.</p>",
            "url": "https://github.com/rails/rails/pull/48582",
            "title": "Introduce ActiveRecord::Base#preload on a record",
            "date_modified": "2023-06-27T09:05:24.000Z",
            "date_published": "2023-06-26T21:32:12.000Z",
            "author": {
                "name": "kirs",
                "url": "https://github.com/kirs"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2651240?u=97e6903620ef2874e2231cee9eb2654b7811d750&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Timestamp <code class=\"notranslate\">deleted_at</code> on destroy instead of actually deleting the record.</p>\n<p dir=\"auto\">If suppliers table has a field named deleted_at:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"supplier.destroy\n#=&gt; UPDATE &quot;suppliers&quot; SET &quot;deleted_at&quot; = ? WHERE &quot;suppliers&quot;.&quot;id&quot; = ?\n\nsupplier.delete\n#=&gt; DELETE FROM &quot;suppliers&quot; WHERE &quot;suppliers&quot;.&quot;id&quot; = ?\"><pre class=\"notranslate\"><span class=\"pl-en\">supplier</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">destroy</span>\n<span class=\"pl-c\">#=&gt; UPDATE \"suppliers\" SET \"deleted_at\" = ? WHERE \"suppliers\".\"id\" = ?</span>\n\n<span class=\"pl-en\">supplier</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">delete</span>\n<span class=\"pl-c\">#=&gt; DELETE FROM \"suppliers\" WHERE \"suppliers\".\"id\" = ?</span></pre></div>\n<p dir=\"auto\">Soft deletion can be turned off by setting:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"config.active_record.soft_delete = false\"><pre class=\"notranslate\"><span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">active_record</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">soft_delete</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">false</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48576",
            "title": "Update deleted_at on destroy",
            "date_modified": "2023-06-27T04:52:24.000Z",
            "date_published": "2023-06-26T05:30:36.000Z",
            "author": {
                "name": "lazaronixon",
                "url": "https://github.com/lazaronixon"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #47643.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1620146879\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47643\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/47643/hovercard\" href=\"https://github.com/rails/rails/issues/47643\">#47643</a></p>\n<p dir=\"auto\">This middleware has been logging at a FATAL level since the first <a href=\"https://github.com/rails/rails/commit/db045dbbf60b53dbe013ef25554fd013baf88134\">commit</a> in Rails (the code originally lived in actionpack/lib/action_controller/rescue.rb). However, FATAL is documented in the Ruby Logger <a href=\"https://ruby-doc.org/3.2.1/stdlibs/logger/Logger/Severity.html\" rel=\"nofollow\">docs</a> as being for \"An unhandleable error that results in a program crash.\", which does not really apply to this case since DebugExceptions is handling the error. A more appropriate level would be ERROR, which the Ruby Logger docs describe as \"A handleable error condition.\"</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit introduces a new configuration for the DebugExceptions log level so that new apps will have it set to ERROR by default and ERROR can eventually be made the default.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48575",
            "title": "Make the log level in DebugExceptions configurable",
            "date_modified": "2023-06-27T02:07:29.000Z",
            "date_published": "2023-06-26T03:15:28.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/287640?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Defaulted datetime-local to not use seconds</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Input of <code class=\"notranslate\">datetime-local</code> specifies that the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/datetime-local#value\" rel=\"nofollow\">value must be excluding seconds</a>.  Although Chrome supports seconds, safari will validate client-side that the value is <code class=\"notranslate\">not valid</code> and the form will not be submittable.</p>\n<p dir=\"auto\">This Pull Request has been created because the default for rails should not error out in a popular browser.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the default for <code class=\"notranslate\">datetime-local</code> value conversion</p>\n<h3 dir=\"auto\">Additional information</h3>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/287640/248478525-917cf010-82fb-4f95-a2fc-54b85f6ab193.png\"><img width=\"770\" alt=\"Screenshot 2023-06-24 at 6 54 09 AM\" src=\"https://user-images.githubusercontent.com/287640/248478525-917cf010-82fb-4f95-a2fc-54b85f6ab193.png\" style=\"max-width: 100%;\"></a>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li>[] Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48569",
            "title": "Update datetime_local_field.rb",
            "date_modified": "2023-06-24T12:56:23.000Z",
            "date_published": "2023-06-24T12:56:20.000Z",
            "author": {
                "name": "chaffeqa",
                "url": "https://github.com/chaffeqa"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1097697?u=835d83d6580ff93347634c9116ab73dbe9f17deb&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The <code class=\"notranslate\">~=</code> operator is available for 4 types point, box, polygon, circle, which represents the usual notion of equality. (other geometric data types, which are line, lseg, path, still work with <code class=\"notranslate\">IS NOT DISTINCT FROM</code> / = operator)</p>\n<p dir=\"auto\">A typical example of how <code class=\"notranslate\">~=</code> works is: box '((3,4),(5,5))' ~=  box '((3,4),(5,5))' -&gt; t; box '((3,4),(5,5))' ~=  box '((5,5),(3,4))' -&gt; t<br>\nRef <a href=\"https://www.postgresql.org/docs/15/functions-geometry.html\" rel=\"nofollow\">https://www.postgresql.org/docs/15/functions-geometry.html</a></p>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/1097697/248456719-0dd4b8c9-5096-4b5b-bcf8-8d726f09cafb.png\"><img width=\"1292\" alt=\"Screenshot 2023-06-24 at 16 09 58\" src=\"https://user-images.githubusercontent.com/1097697/248456719-0dd4b8c9-5096-4b5b-bcf8-8d726f09cafb.png\" style=\"max-width: 100%;\"></a>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #48497.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1760229595\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48497\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48497/hovercard\" href=\"https://github.com/rails/rails/issues/48497\">#48497</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48568",
            "title": "Use `~=` instead of `IS NOT DISTINCT FROM` for the PostgreSQL geometric data types",
            "date_modified": "2023-06-24T09:10:48.000Z",
            "date_published": "2023-06-24T04:24:06.000Z",
            "author": {
                "name": "thukim",
                "url": "https://github.com/thukim"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5162312?u=e1b3c0f7c6dc600253bf15c99f618b9b2d39c500&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because I think that our test models could be improved. Right now, we primary test composite primary key code with <code class=\"notranslate\">Cpk::Book</code> and related models. This model uses <code class=\"notranslate\">[:author_id, :number]</code> as a PK definition. In practice, most models (I think) would use <code class=\"notranslate\">[:some_id, :id]</code>, so I've changed <code class=\"notranslate\">cpk_books</code> to mirror this assumption.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">Cpk::Book</code> to use <code class=\"notranslate\">id</code> instead of <code class=\"notranslate\">number</code>, and as the second campsite key, and updated related tests. This also uncovered three bugs in our current implementation I've fixed as well.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Happy to introduce another model instead of doing this, but it seems much easier to model our test data closer to what we expect in the real world.</p>\n<p dir=\"auto\">The last commit (<a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/70f3b3de1cbf761e67f527ed1525734882e08649/hovercard\" href=\"https://github.com/rails/rails/commit/70f3b3de1cbf761e67f527ed1525734882e08649\"><tt>70f3b3d</tt></a>), breaks a few attribute method test expectations. We might need to implement a special query method for ID dirty checking. WDYT?</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48564",
            "title": "Use id in composite primary key of cpk book and fix related bugs",
            "date_modified": "2023-06-26T21:52:32.000Z",
            "date_published": "2023-06-23T05:30:52.000Z",
            "author": {
                "name": "gmcgibbon",
                "url": "https://github.com/gmcgibbon"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/15172605?u=c9831ccf188358c7be46eb4c634002b47ebb1068&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #46653.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1478822248\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46653\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/46653/hovercard\" href=\"https://github.com/rails/rails/issues/46653\">#46653</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\"><code class=\"notranslate\">becomes</code> is coping the <code class=\"notranslate\">@attributes</code> from the original instance but the defaults are not being applied from the target class during initialization. Following the comments from the linked issue this PR will apply the default value if an attribute is nil and hasn't been changed.</p>",
            "url": "https://github.com/rails/rails/pull/48562",
            "title": "[Fix #46653] `becomes` losing target class default value",
            "date_modified": "2023-06-22T21:38:22.000Z",
            "date_published": "2023-06-22T21:07:04.000Z",
            "author": {
                "name": "abaldwin88",
                "url": "https://github.com/abaldwin88"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1080678?u=b6e211b7766e6aa01e794067f67dd65d419c0150&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Fixes 2 bugs in parallel testing.</p>\n<p dir=\"auto\">The first bug was related to changes made in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1282858547\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/45450\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/45450/hovercard\" href=\"https://github.com/rails/rails/pull/45450\">#45450</a> which meant that we were no longer replacing the connection in parallel testing because the config object is equal (we simply merge a new db name but the object id of the config stays the same). This bug only manifested in mysql and sqlite3 interestingly. It would fail on the internal metadata tables because they were missing in the schema version check.</p>\n<p dir=\"auto\">To fix this I introduced a <code class=\"notranslate\">clobber: true</code> kwarg onto the connection handler that allowsus to bypass the functionality that won't make a new connection if the config is the same. This is an easy way to fall back to the old behavior from before this change.</p>\n<p dir=\"auto\">After implementing this fix I was still seeing failures in the mysql demo app I made due to the fact that <code class=\"notranslate\">purge</code> was not re-establishing the connection to a config that had a database defined. Neither sqlite3 or postgresql were missing this.</p>\n<p dir=\"auto\">I added a test for mysql2 so we don't have regressions in the future. I think this was missed because sqlite3 only demonstrates the bug if it was never successful on that worker and postgresql was fine.</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #48547.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1767794424\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48547\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48547/hovercard\" href=\"https://github.com/rails/rails/issues/48547\">#48547</a></p>\n<p dir=\"auto\">cc/ <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthutchinson/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthutchinson\">@matthutchinson</a></p>",
            "url": "https://github.com/rails/rails/pull/48560",
            "title": "Fix parallel testing (issue #48547)",
            "date_modified": "2023-06-23T12:53:04.000Z",
            "date_published": "2023-06-22T14:54:18.000Z",
            "author": {
                "name": "eileencodes",
                "url": "https://github.com/eileencodes"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/15572959?u=524a32c40db55e38d5fd9b1e6920e2a157998a12&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR fixes <code class=\"notranslate\">AbstractController#action_methods</code> to include inherited shadowed internal methods.</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I tried enabling <a href=\"https://github.com/rails/rails/pull/43487\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/43487/hovercard\"><code class=\"notranslate\">raise_on_missing_callback_actions</code></a> and I found out that <code class=\"notranslate\">MyController#action_methods</code> is missing a method that <code class=\"notranslate\">MyController</code> actually defines. It only happens when a method is also defined by an ancestor abstract controller.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48559",
            "title": "fix AbstractController#action_methods ",
            "date_modified": "2023-06-23T09:30:18.000Z",
            "date_published": "2023-06-22T10:32:58.000Z",
            "author": {
                "name": "kamil-gwozdz",
                "url": "https://github.com/kamil-gwozdz"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1767455640\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48545\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48545/hovercard\" href=\"https://github.com/rails/rails/issues/48545\">#48545</a></p>\n<p dir=\"auto\">When <code class=\"notranslate\">to_s</code> was <a href=\"https://github.com/rails/rails/commit/f9fbfe0ab3cfc31f72663b9f06286ab32224b886\">deprecated</a> for <code class=\"notranslate\">to_fs</code>, warnings were added when explicit formats were passed to <code class=\"notranslate\">to_s</code>. To determine whether a format argument was passed, the method signature was changed from <code class=\"notranslate\">to_s(format = :default)</code> to <code class=\"notranslate\">to_s(format = EMPTY_OBJECT)</code>. While this enabled being able to warn on formats passed, it changed the behavior of not passing any format for applications that customized the <code class=\"notranslate\">:default</code> format for one of these classes.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit restores the previous behavior for <code class=\"notranslate\">:default</code> formats while keeping the existing warnings. Additionally, it will continue to not warn for applications using <code class=\"notranslate\">to_s</code> without arguments that haven't set a custom <code class=\"notranslate\">:default</code> format. However, for applications that have set a custom <code class=\"notranslate\">:default</code> format, it will now warn that those classes should be migrated to <code class=\"notranslate\">to_fs</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48555",
            "title": "Fix to_s not using :default format with no args",
            "date_modified": "2023-06-22T02:59:25.000Z",
            "date_published": "2023-06-22T02:54:48.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/509837?u=697e4a265d5359363a5d57a24b07f9a79cb0b08a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #48517.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1762559591\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48517\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48517/hovercard\" href=\"https://github.com/rails/rails/issues/48517\">#48517</a></p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# will exclude header, even if config is enabled:\njavascript_include_tag(&quot;http://example.com/all.js&quot;, preload_links_header: false)\n\n# will include header, even if config is disabled:\nstylesheet_link_tag(&quot;http://example.com/all.css&quot;, preload_links_header: true)\"><pre class=\"notranslate\"><span class=\"pl-c\"># will exclude header, even if config is enabled:</span>\n<span class=\"pl-en\">javascript_include_tag</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"http://example.com/all.js\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">preload_links_header</span>: <span class=\"pl-c1\">false</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-c\"># will include header, even if config is disabled:</span>\n<span class=\"pl-en\">stylesheet_link_tag</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"http://example.com/all.css\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">preload_links_header</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">)</span></pre></div>",
            "url": "https://github.com/rails/rails/pull/48553",
            "title": "Allow opting in/out of `Link preload` headers when calling `stylesheet_link_tag` or `javascript_include_tag`",
            "date_modified": "2023-06-22T02:16:02.000Z",
            "date_published": "2023-06-22T02:14:29.000Z",
            "author": {
                "name": "ghiculescu",
                "url": "https://github.com/ghiculescu"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/76848245?u=fbf230f4fe1bc9f7a0e3a404eeb20e2a333cbcfd&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Summary</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #48548.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1767971401\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48548\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48548/hovercard\" href=\"https://github.com/rails/rails/issues/48548\">#48548</a></p>",
            "url": "https://github.com/rails/rails/pull/48549",
            "title": "Qualify association unscope values with table names",
            "date_modified": "2023-06-25T21:21:18.000Z",
            "date_published": "2023-06-21T16:24:58.000Z",
            "author": {
                "name": "philip-maina",
                "url": "https://github.com/philip-maina"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/509837?u=697e4a265d5359363a5d57a24b07f9a79cb0b08a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">ref: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1757611245\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48477\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48477/hovercard\" href=\"https://github.com/rails/rails/issues/48477\">#48477</a></p>\n<p dir=\"auto\">Using forms inside emails is not common, but it's possible, and it's also possible to share views between controllers and mailers. Currently if a controller sets a <code class=\"notranslate\">default_form_builder</code> that's different from the global config, mailers that use the same views will not default to the same <code class=\"notranslate\">FormBuilder</code>. To fix this, this PR adds a <code class=\"notranslate\">default_form_builder</code> method for mailers that does the same thing as its controller sibling.</p>",
            "url": "https://github.com/rails/rails/pull/48542",
            "title": "Introduce `ActionMailer::FormBuilder`",
            "date_modified": "2023-06-21T08:20:47.000Z",
            "date_published": "2023-06-21T08:18:50.000Z",
            "author": {
                "name": "ghiculescu",
                "url": "https://github.com/ghiculescu"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">GlobalID is a dependency of Active Job and Action Text. It adds <code class=\"notranslate\">to_gid</code> and <code class=\"notranslate\">to_sgid</code> methods to Active Model and Active Record classes.</p>\n<p dir=\"auto\">Trying to find the documentation of these methods can be confusing as they are not present in the API docs.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">By symlinking the globalid gem from the Gemfile we can include it in the API documentation. After the <code class=\"notranslate\">rdoc</code> task has run we can remove the symlink. I'd prefer to remove to symlink in an <code class=\"notranslate\">ensure</code> block but that doesn't seem to be supported by Rake.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This could also be used to add all the <code class=\"notranslate\">turbo-rails</code> methods to the API docs, like <code class=\"notranslate\"> broadcast_append_to</code>  and <code class=\"notranslate\">turbo_stream_from</code> (that is used in video demo on <a href=\"https://rubyonrails.org/\" rel=\"nofollow\">https://rubyonrails.org/</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48541",
            "title": "Add GlobalID to the API docs",
            "date_modified": "2023-06-21T06:36:55.000Z",
            "date_published": "2023-06-21T06:29:25.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/100725?u=43e1f20c541088357f0cfc80d80063299892e394&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I've tested Rails 7.1 Dockerfile template in Rails 7.0 app with MRSK on GitHub Actions and found that a bit more optimization can be applied.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds minor optimization to dockerignore template.</p>\n<p dir=\"auto\">During the build process, the setup-ruby@v1 GitHub Action leaves artifacts in the ~/vendor/bundle folder, resulting in two full bundles in the final build: one in the default /usr/local/bundle directory specified in the Dockerfile template, and another in the /rails/vendor/bundle directory. By ignoring the /rails/vendor/bundle directory, we can significantly reduce the size of the final image.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48540",
            "title": "Added Dockerfile instructions to remove artifacts and node_modules",
            "date_modified": "2023-06-21T07:32:04.000Z",
            "date_published": "2023-06-21T06:16:44.000Z",
            "author": {
                "name": "igor-alexandrov",
                "url": "https://github.com/igor-alexandrov"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2651240?u=97e6903620ef2874e2231cee9eb2654b7811d750&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Support queries with regular expressions on supported databases. (PostgreSQL/MySQL/SQLite)</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Post.where(title: /ThInKiNg/)\n#=&gt; SELECT * FROM posts WHERE title REGEXP 'ThInKiNg'; --MySQL/SQLite\n#=&gt; SELECT * FROM posts WHERE title ~* 'ThInKiNg'; --PostgreSQL\n\nPost.where.not(title: /ThInKiNg/)\n#=&gt; SELECT * FROM posts WHERE title NOT REGEXP 'ThInKiNg'; --MySQL/SQLite\n#=&gt; SELECT * FROM posts WHERE title !~* 'ThInKiNg'; --PostgreSQL    \"><pre class=\"notranslate\"><span class=\"pl-v\">Post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">where</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">title</span>: <span class=\"pl-pds\">/ThInKiNg/</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\">#=&gt; SELECT * FROM posts WHERE title REGEXP 'ThInKiNg'; --MySQL/SQLite</span>\n<span class=\"pl-c\">#=&gt; SELECT * FROM posts WHERE title ~* 'ThInKiNg'; --PostgreSQL</span>\n\n<span class=\"pl-v\">Post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">where</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">not</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">title</span>: <span class=\"pl-pds\">/ThInKiNg/</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\">#=&gt; SELECT * FROM posts WHERE title NOT REGEXP 'ThInKiNg'; --MySQL/SQLite</span>\n<span class=\"pl-c\">#=&gt; SELECT * FROM posts WHERE title !~* 'ThInKiNg'; --PostgreSQL    </span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48538",
            "title": "Support queries with regular expressions",
            "date_modified": "2023-06-22T06:37:41.000Z",
            "date_published": "2023-06-21T03:57:38.000Z",
            "author": {
                "name": "lazaronixon",
                "url": "https://github.com/lazaronixon"
            }
        }
    ]
}