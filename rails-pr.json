{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/58332033?u=7aa838b7c0f20fd09510535cb09bf5ec078bd1d0&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because some browsers have a bug and didn't respect the cache max-age and never invalidate the cached URLs even if service_urls_expire_in is set to zero. Hence, I had to override the redirect controller and disable the cache.</p>\n<p dir=\"auto\">This PR makes it easy to toggle caching without override and</p>\n<h3 dir=\"auto\">Detail</h3>\n<ul dir=\"auto\">\n<li>Active storage by default allows caching service URLs in browsers by adding cache-control max-age = <code class=\"notranslate\">service_urls_expire_in</code> value</li>\n<li>This PR adds the ability to control caching by decoupling it from service_urls_expire_in.</li>\n<li>Adds a new boolean active storage config <code class=\"notranslate\">cache_service_urls</code> equal to true by default</li>\n<li>If it is set to false It will set <code class=\"notranslate\">cache-control</code> to <code class=\"notranslate\">no-store</code></li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49124",
            "title": "Feat: control active storage service urls caching",
            "date_modified": "2023-09-02T17:59:44.000Z",
            "date_published": "2023-09-02T17:54:03.000Z",
            "author": {
                "name": "civilcoder55",
                "url": "https://github.com/civilcoder55"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Ref <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1874509445\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49090\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49090/hovercard\" href=\"https://github.com/rails/rails/pull/49090\">#49090</a></p>\n<p dir=\"auto\">This was accidentally left in when this change was <a href=\"https://github.com/rails/rails/commit/57a9e25f8e96eb28f4f3704db4be55bdb88c22f0\">submitted</a> to main. This was already addressed in the backport commit but this addresses it for main.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49123",
            "title": "Remove $global mistakenly left in test",
            "date_modified": "2023-09-02T17:01:15.000Z",
            "date_published": "2023-09-02T16:31:36.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">These came from backports from <code class=\"notranslate\">main</code>, where the signature of Migrator has changed.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"def initialize(direction, migrations, schema_migration, target_version = nil)\"><pre class=\"notranslate\"><code class=\"notranslate\">def initialize(direction, migrations, schema_migration, target_version = nil)\n</code></pre></div>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"def initialize(direction, migrations, schema_migration, internal_metadata, target_version = nil)\"><pre class=\"notranslate\"><code class=\"notranslate\">def initialize(direction, migrations, schema_migration, internal_metadata, target_version = nil)\n</code></pre></div>\n<p dir=\"auto\">So passing a <code class=\"notranslate\">nil</code> value here usually isn't a problem, but it is definitely incorrect.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49122",
            "title": "Fix Compatibility tests using `@internal_metadata`",
            "date_modified": "2023-09-02T16:27:13.000Z",
            "date_published": "2023-09-02T16:27:10.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">There were a few 6.1 migration compatibility fixes in <a href=\"https://github.com/rails/rails/commit/c2f838e80c76c9a3407e1e7af1ecbd738511fd72\">previous</a> <a href=\"https://github.com/rails/rails/commit/9b07b2d6ca2ee9854cd986da0bf914b9ace9d547\">commits</a>. Most importantly, those commits reorganized some of the compatibility tests to ensure that the tests would run against every Migration version. To continue the effort of improving test coverage for Migration compatibility, this commit converts tests for create_table and change_column setting the correct precision on datetime columns.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">While the create_table tests all pass, the change_column test did not pass for 7.0 versioned Migrations on sqlite. This was due to the sqlite adapter not using new_column_definition to set the options on the new column (new_column_definition is where precision: 6 gets set if no precision is specified). This happens because columns can't be modified in place in sqlite and instead the whole table must be recreated and the data copied. Before this commit, change_column would use the options of the existing column as a base and merge in the exact options (and type) passed to change_column.</p>\n<p dir=\"auto\">This commit changes the change_column method to replace the existing column without using the existing options. This ensures that precision: 6 is set consistently across adapters when change_column is used to create a datetime column.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Ref <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1874509445\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49090\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49090/hovercard\" href=\"https://github.com/rails/rails/pull/49090\">#49090</a></p>\n<p dir=\"auto\">(manually backported to 7-0-stable because it did not apply cleanly)</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49121",
            "title": "Fix change_column not setting precision for sqlite [7-0-stable]",
            "date_modified": "2023-09-02T16:17:45.000Z",
            "date_published": "2023-09-02T16:17:41.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22231095?u=fc75f9764434943effe06d6c1dc48d40a5003b0c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #44948.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1213589208\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/44948\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/44948/hovercard\" href=\"https://github.com/rails/rails/issues/44948\">#44948</a></p>\n<p dir=\"auto\">By default <code class=\"notranslate\">simple_format</code> method returns the text wrapped with <code class=\"notranslate\">&lt;p&gt;</code>. But if we explicitly specify the <code class=\"notranslate\">wrapper_tag: nil</code> or <code class=\"notranslate\">wrapper_tag: \"\"</code> in the options, it returns the text wrapped with <code class=\"notranslate\">&lt;&gt;&lt;/&gt;</code> tag.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"simple_format(&quot;Hello World&quot;)\n# &lt;p&gt;Hello World&lt;/p&gt;\n\nsimple_format(&quot;Hello World&quot;, {},  {wrapper_tag: &quot;div&quot;})\n# &lt;div&gt;Hello World&lt;/div&gt;\n\nsimple_format(&quot;Hello World&quot;, {},  {wrapper_tag: &quot;&quot;})\n# &lt;&gt;Hello World&lt;/&gt;\n\nsimple_format(&quot;Hello World&quot;, {},  {wrapper_tag: nil})\n# &lt;&gt;Hello World&lt;/&gt;\"><pre class=\"notranslate\"><span class=\"pl-en\">simple_format</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Hello World\"</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># &lt;p&gt;Hello World&lt;/p&gt;</span>\n\n<span class=\"pl-en\">simple_format</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Hello World\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span><span class=\"pl-pds\">wrapper_tag</span>: <span class=\"pl-s\">\"div\"</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># &lt;div&gt;Hello World&lt;/div&gt;</span>\n\n<span class=\"pl-en\">simple_format</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Hello World\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span><span class=\"pl-pds\">wrapper_tag</span>: <span class=\"pl-s\">\"\"</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># &lt;&gt;Hello World&lt;/&gt;</span>\n\n<span class=\"pl-en\">simple_format</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Hello World\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span><span class=\"pl-pds\">wrapper_tag</span>: <span class=\"pl-c1\">nil</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># &lt;&gt;Hello World&lt;/&gt;</span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">In this PR, it updates the behavior of the <code class=\"notranslate\">simple_format</code> helper, If the user passes <code class=\"notranslate\">nil</code> or an empty string as a value for <code class=\"notranslate\">wrapper_tag</code> it defaults to use the <code class=\"notranslate\">&lt;p&gt;</code> tag for wrapping.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"simple_format(&quot;Hello World&quot;, {},  {wrapper_tag: &quot;div&quot;})\n# &lt;div&gt;Hello World&lt;/div&gt;\n\nsimple_format(&quot;Hello World&quot;, {},  {wrapper_tag: &quot;&quot;})\n# &lt;p&gt;Hello World&lt;/p&gt;\n\nsimple_format(&quot;Hello World&quot;, {},  {wrapper_tag: nil})\n# &lt;p&gt;Hello World&lt;/p&gt;\"><pre class=\"notranslate\"><span class=\"pl-en\">simple_format</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Hello World\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span><span class=\"pl-pds\">wrapper_tag</span>: <span class=\"pl-s\">\"div\"</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># &lt;div&gt;Hello World&lt;/div&gt;</span>\n\n<span class=\"pl-en\">simple_format</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Hello World\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span><span class=\"pl-pds\">wrapper_tag</span>: <span class=\"pl-s\">\"\"</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># &lt;p&gt;Hello World&lt;/p&gt;</span>\n\n<span class=\"pl-en\">simple_format</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Hello World\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span><span class=\"pl-pds\">wrapper_tag</span>: <span class=\"pl-c1\">nil</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># &lt;p&gt;Hello World&lt;/p&gt;</span></pre></div>\n<p dir=\"auto\">Co-authored-by: <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/JunichiIto/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/JunichiIto\">@JunichiIto</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49120",
            "title": "Fix: simple_format with blank wrapper_tag option returns plain html tag.",
            "date_modified": "2023-09-02T15:40:52.000Z",
            "date_published": "2023-09-02T15:34:32.000Z",
            "author": {
                "name": "akhilgkrishnan",
                "url": "https://github.com/akhilgkrishnan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22231095?u=fc75f9764434943effe06d6c1dc48d40a5003b0c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR updated the deprecate changes of ActiveSupport in the rails 7.1 release note.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49119",
            "title": "[skip ci] ActiveSupport deprecate changes added to 7.1 release note",
            "date_modified": "2023-09-02T10:21:00.000Z",
            "date_published": "2023-09-02T10:20:57.000Z",
            "author": {
                "name": "akhilgkrishnan",
                "url": "https://github.com/akhilgkrishnan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22231095?u=fc75f9764434943effe06d6c1dc48d40a5003b0c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds the description for <a href=\"44189\"><code class=\"notranslate\">ActiveRecord::Base.generates_token_for</code></a> method in the rails 7.1 release note.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49118",
            "title": "[skip ci] Description added for `ActiveRecord::Base.generates_token_for` method in 7.1 release note",
            "date_modified": "2023-09-03T17:56:48.000Z",
            "date_published": "2023-09-02T10:05:41.000Z",
            "author": {
                "name": "akhilgkrishnan",
                "url": "https://github.com/akhilgkrishnan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5162312?u=e1b3c0f7c6dc600253bf15c99f618b9b2d39c500&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because docs for tuple syntax in Active Record where clauses needs to be documented.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes Active Record to add the appropriate docs.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Adds documentation to ActiveRecord::QueryMethods#where mentioning tuple syntax support added in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1634792256\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47729\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/47729/hovercard\" href=\"https://github.com/rails/rails/pull/47729\">#47729</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49116",
            "title": "Document tuple support in Active Record where clauses",
            "date_modified": "2023-09-03T14:59:37.000Z",
            "date_published": "2023-09-01T22:20:40.000Z",
            "author": {
                "name": "gmcgibbon",
                "url": "https://github.com/gmcgibbon"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/50139?u=2dc5ba0e2ccf832493c256b9981ae892980cd9b6&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because it's annoying that HABTM doesn't alert you when you supply the wrong options.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes HABTM so it works like the other associations and raises <code class=\"notranslate\">ArgumentError</code> when you supply options that it doesn't handle.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #48939.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1850332701\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48939\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48939/hovercard\" href=\"https://github.com/rails/rails/issues/48939\">#48939</a></p>",
            "url": "https://github.com/rails/rails/pull/49115",
            "title": "Add option validation to HABTM, closes #48939",
            "date_modified": "2023-09-02T05:01:17.000Z",
            "date_published": "2023-09-01T21:17:02.000Z",
            "author": {
                "name": "smathy",
                "url": "https://github.com/smathy"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5162312?u=e1b3c0f7c6dc600253bf15c99f618b9b2d39c500&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because the Rails guides don't mention composite primary key usage yet.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes Rails guides to add CPK examples in Action Controller and Action View docs.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Is there anywhere else we should mention composite primary keys in the guides?</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49114",
            "title": "Add composite primary key examples to Rails guides",
            "date_modified": "2023-09-02T00:04:08.000Z",
            "date_published": "2023-09-01T20:53:49.000Z",
            "author": {
                "name": "gmcgibbon",
                "url": "https://github.com/gmcgibbon"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22918438?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Previously, a composite primary key model would need to specify either a <code class=\"notranslate\">primary_key</code> or <code class=\"notranslate\">query_constraints</code> option on its associations. Without it, a <code class=\"notranslate\">CompositePrimaryKeyMismatchError</code> would be raised.</p>\n<p dir=\"auto\">Most of the time, the composite primary key includes the <code class=\"notranslate\">:id</code> column, and associations already expect that <code class=\"notranslate\">:id</code> is being used as the primary key for the association (and the associated model is inferring a foreign key of <code class=\"notranslate\">&lt;cpk_model&gt;_id</code>).</p>\n<p dir=\"auto\">Rather than requiring users to define <code class=\"notranslate\">primary_key: :id</code> throughout an application with composite primary key associations, we can infer that the <code class=\"notranslate\">:id</code> column should be used. Users can still override this behaviour by specifying <code class=\"notranslate\">primary_key:</code> or <code class=\"notranslate\">query_constraints:</code> on the association.</p>\n<p dir=\"auto\">Note that, if the composite primary key for a model does <em>not</em> include <code class=\"notranslate\">:id</code>, Rails <strong>won't</strong> infer the primary key for any related associations, and users must still specify <code class=\"notranslate\">query_constraints</code> or <code class=\"notranslate\">primary_key</code>.</p>\n<p dir=\"auto\">Prior to this change, you'd need to do the following to set up associations for composite primary key models:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Order\n  self.primary_key = [:shop_id, :id]\n\n  has_many :order_agreements, primary_key :id\nend\n\nclass OrderAgreement\n  belongs_to :order, primary_key: :id\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Order</span>\n  <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">primary_key</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:shop_id</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:id</span><span class=\"pl-kos\">]</span>\n\n  <span class=\"pl-en\">has_many</span> <span class=\"pl-pds\">:order_agreements</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">primary_key</span> <span class=\"pl-pds\">:id</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">OrderAgreement</span>\n  <span class=\"pl-en\">belongs_to</span> <span class=\"pl-pds\">:order</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">primary_key</span>: <span class=\"pl-pds\">:id</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">After this change, the <code class=\"notranslate\">primary_key</code> option no longer needs to be specified:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Order\n  self.primary_key = [:shop_id, :id]\n\n  has_many :order_agreements\nend\n\nclass OrderAgreement\n  belongs_to :order\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Order</span>\n  <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">primary_key</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:shop_id</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:id</span><span class=\"pl-kos\">]</span>\n\n  <span class=\"pl-en\">has_many</span> <span class=\"pl-pds\">:order_agreements</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">OrderAgreement</span>\n  <span class=\"pl-en\">belongs_to</span> <span class=\"pl-pds\">:order</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Most of the changes in this PR involve inferring the <code class=\"notranslate\">primary_key</code> for an association, when a) the owner in the association is a composite primary key model, and b) the composite primary key includes <code class=\"notranslate\">:id</code>.</p>\n<p dir=\"auto\">I ended up refactoring <code class=\"notranslate\">#save_has_one_association</code> to use <code class=\"notranslate\">#compute_primary_key</code> so it could share this PK-inference logic with <code class=\"notranslate\">#save_belongs_to_association</code>.</p>\n<p dir=\"auto\">I also needed to change some of the models that were testing logic related to <code class=\"notranslate\">CompositePrimaryKeyMismatchError</code>, since these associations are no longer malformed (as Active Record can now infer the primary_key on those associations properly). I opted to change the primary key on those \"broken\" models to exclude the <code class=\"notranslate\">id</code> column, since that prevents Rails from inferring the PK on the association, and causes the expected <code class=\"notranslate\">CompositePrimaryKeyMismatchError</code> to be raised.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49113",
            "title": "Infer `primary_key: :id` on associations with composite primary key models",
            "date_modified": "2023-09-02T00:02:23.000Z",
            "date_published": "2023-09-01T20:24:20.000Z",
            "author": {
                "name": "adrianna-chang-shopify",
                "url": "https://github.com/adrianna-chang-shopify"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/15172605?u=c9831ccf188358c7be46eb4c634002b47ebb1068&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1185054594\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/44792\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/44792/hovercard\" href=\"https://github.com/rails/rails/issues/44792\">#44792</a> was originally filed as a bug but ultimately is unavoidable as the ongoing behavior moving forward. <code class=\"notranslate\">scope</code> can start a new clean chain against the model it is defined on. Class methods will never support this behavior.</p>\n<p dir=\"auto\">This PR documents that behavior in a public place to help with awareness.</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #44792.\">Closes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1185054594\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/44792\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/44792/hovercard\" href=\"https://github.com/rails/rails/issues/44792\">#44792</a></p>",
            "url": "https://github.com/rails/rails/pull/49096",
            "title": "Document clean chain behavior for ActiveRecord scope",
            "date_modified": "2023-09-03T16:09:41.000Z",
            "date_published": "2023-08-31T12:35:57.000Z",
            "author": {
                "name": "abaldwin88",
                "url": "https://github.com/abaldwin88"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/646693?u=62e1fec459de18a2ba098b8f90dba89c9d74fa72&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">In case of mail delivery errors, the old ActionMailer::LogSubscriber erroneously logged a \"Delivered mail ...\" line.<br>\nWith this change it checks the passed exception object and logs a \"Failed delivery of mail\" line instead.</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> <del>CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</del></li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49083",
            "title": "Log delivery errors in ActionMailer::LogSubscriber",
            "date_modified": "2023-08-31T07:02:57.000Z",
            "date_published": "2023-08-30T11:14:34.000Z",
            "author": {
                "name": "1st8",
                "url": "https://github.com/1st8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/96156234?u=9ced8d6ac6128a8dea78e7f0d9233669ff0ffecf&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">By transforming the values hash and adding in the type from the table it's being added to it ensures that the correct Type is used for the table.  This enables a user to make sure the specified type is used if one is set in the model.</p>\n<p dir=\"auto\">Fixes #<a href=\"https://github.com/rails/rails/issues/49009\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49009/hovercard\">49009</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul dir=\"auto\">\n<li>[ X] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li>[ X] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li>[ X] Tests are added or updated if you fix a bug or add a feature.</li>\n<li>[ X] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49079",
            "title": "Makes sure values have the correct type in _update_record. Fixes #49009.",
            "date_modified": "2023-09-01T14:58:27.000Z",
            "date_published": "2023-08-29T16:47:38.000Z",
            "author": {
                "name": "paulreece",
                "url": "https://github.com/paulreece"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/509837?u=697e4a265d5359363a5d57a24b07f9a79cb0b08a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">If <code class=\"notranslate\">ActiveRecord::Encryption.config.support_unencrypted_data == true</code>, this allows you to do:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class User &lt; ActiveRecord::Base\n  encrypts :name, deterministic: true, support_unencrypted_data: false\n  encrypts :email, deterministic: true\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">User</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">encrypts</span> <span class=\"pl-pds\">:name</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">deterministic</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">support_unencrypted_data</span>: <span class=\"pl-c1\">false</span>\n  <span class=\"pl-en\">encrypts</span> <span class=\"pl-pds\">:email</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">deterministic</span>: <span class=\"pl-c1\">true</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">Now only the <code class=\"notranslate\">email</code> column will allow unencrypted data (and if <code class=\"notranslate\">extend_queries</code> is true, only <code class=\"notranslate\">email</code> queries will get extended). <a href=\"https://github.com/rails/rails/pull/49072#issuecomment-1697170252\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49072/hovercard\">Here</a> is some back story on why you might want this.</p>",
            "url": "https://github.com/rails/rails/pull/49072",
            "title": "Encryption: support `support_unencrypted_data` at a per-attribute level",
            "date_modified": "2023-09-01T17:03:01.000Z",
            "date_published": "2023-08-29T00:57:39.000Z",
            "author": {
                "name": "ghiculescu",
                "url": "https://github.com/ghiculescu"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created to <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #49055.\">fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1869073918\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49055\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49055/hovercard\" href=\"https://github.com/rails/rails/issues/49055\">#49055</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">ActiveRecord::NestedAttributes#accepts_nested_attributes_for</code> to raise an <code class=\"notranslate\">ArgumentError</code> when it has already been declared for an association <strong>in the same class</strong>. There is a use case for overriding this in subclasses, that functionality is unchanged.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49056",
            "title": "[Fix #49055] Raise an `ArgumentError` when `#accepts_nested_attributes_for` is redeclared for an association",
            "date_modified": "2023-08-30T13:07:18.000Z",
            "date_published": "2023-08-28T06:38:38.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/42195321?u=810b1a1449a94590f2ff9e2f189d4c37f90691b3&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This PR addresses the issues <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1766266191\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48535\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48535/hovercard\" href=\"https://github.com/rails/rails/issues/48535\">#48535</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1685480928\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48072\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48072/hovercard\" href=\"https://github.com/rails/rails/issues/48072\">#48072</a>.</p>\n<p dir=\"auto\">With the introduction of PR <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"782710170\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/41068\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/41068/hovercard\" href=\"https://github.com/rails/rails/pull/41068\">#41068</a>, an unintended behavior surfaced, causing the <code class=\"notranslate\">proc_for_binds</code> to apply casting to attributes that were already casted. Consequently, this led to the malfunctioning of queries, as noted in the referenced issues.</p>\n<p dir=\"auto\">My proposed solution revolves around the incorporation of a new attribute \"type\" named <code class=\"notranslate\">BindAttribute</code>. This type facilitates the desired functionality within the <code class=\"notranslate\">proc_for_binds</code> implementation, while abstaining from unnecessary casting, given that the values are already casted. This correction has obviated the need for changes such as \"Fix deterministic queries that were broken after <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"782710170\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/41068\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/41068/hovercard\" href=\"https://github.com/rails/rails/pull/41068\">#41068</a>,\" as detailed in <a href=\"https://github.com/wbotelhos/rails/commit/37361bfb4222c5d210f11e48ecee46b05ea7d50e\">this commit</a>. These changes had inadvertently caused the tests initially intended for <code class=\"notranslate\">proc_for_binds</code> within <code class=\"notranslate\">HomogeneousIn</code> to erroneously evaluate the <code class=\"notranslate\">proc_for_binds</code> within <code class=\"notranslate\">InWithAdditionalValues</code>. This resulted in false positives whenever adjustments were made to the <code class=\"notranslate\">proc_for_binds</code> within <code class=\"notranslate\">HomogeneousIn</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49050",
            "title": "[Fix #48535]: fix behavior of `proc_for_binds` in `Arel::Nodes::HomogenousIn`",
            "date_modified": "2023-09-02T18:45:33.000Z",
            "date_published": "2023-08-27T14:57:07.000Z",
            "author": {
                "name": "JohnAnon9771",
                "url": "https://github.com/JohnAnon9771"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/39473?u=36a63ee4b4b6c19de5d4ddcb7947b09bb2447fff&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I noticed and confirmed with others that rails console was omitting expected backtrace lines as seen here:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ cat app/models/user.rb\nclass User &lt; ApplicationRecord\n\n  def foo\n    bar\n  end\n\n  def bar\n    baz\n  end\n\n  def baz\n    raise\n  end\nend\n\n$  rc\nLoading development environment (Rails 7.0.7)\n3.1.4 :001 &gt; User.new.foo\n/Users/jsharpe/railsapp/app/models/user.rb:12:in `baz': unhandled exception\n(irb):1:in `&lt;main&gt;\"><pre class=\"notranslate\"><code class=\"notranslate\">$ cat app/models/user.rb\nclass User &lt; ApplicationRecord\n\n  def foo\n    bar\n  end\n\n  def bar\n    baz\n  end\n\n  def baz\n    raise\n  end\nend\n\n$  rc\nLoading development environment (Rails 7.0.7)\n3.1.4 :001 &gt; User.new.foo\n/Users/jsharpe/railsapp/app/models/user.rb:12:in `baz': unhandled exception\n(irb):1:in `&lt;main&gt;\n</code></pre></div>\n<p dir=\"auto\">I believe this is caused by irb itself prefixing backtrace lines with the string: <code class=\"notranslate\">\\tfrom </code> as seen here:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"√ (9:21:40 PM) ~ irb\n3.0.4 :001 &gt; class Foo\n3.0.4 :002 &gt; def foo\n3.0.4 :003 &gt; bar\n3.0.4 :004 &gt; end\n3.0.4 :005 &gt; def bar\n3.0.4 :006 &gt; baz\n3.0.4 :007 &gt; end\n3.0.4 :008 &gt; def baz\n3.0.4 :009 &gt; raise\n3.0.4 :010 &gt; end\n3.0.4 :011 &gt; end\n =&gt; :baz\n3.0.4 :012 &gt;\n3.0.4 :013 &gt; Foo.new.foo\n(irb):9:in `baz': unhandled exception\n\tfrom (irb):6:in `bar'\n\tfrom (irb):3:in `foo'\n\tfrom (irb):13:in `&lt;main&gt;'\n\tfrom /Users/jsharpe/.rvm/gems/ruby-3.0.4/gems/irb-1.7.4/exe/irb:9:in `&lt;top (required)&gt;'\n\tfrom /Users/jsharpe/.rvm/gems/ruby-3.0.4/bin/irb:25:in `load'\n\tfrom /Users/jsharpe/.rvm/gems/ruby-3.0.4/bin/irb:25:in `&lt;main&gt;'\n\tfrom /Users/jsharpe/.rvm/gems/ruby-3.0.4/bin/ruby_executable_hooks:22:in `eval'\n\tfrom /Users/jsharpe/.rvm/gems/ruby-3.0.4/bin/ruby_executable_hooks:22:in `&lt;main&gt;'\"><pre class=\"notranslate\"><code class=\"notranslate\">√ (9:21:40 PM) ~ irb\n3.0.4 :001 &gt; class Foo\n3.0.4 :002 &gt; def foo\n3.0.4 :003 &gt; bar\n3.0.4 :004 &gt; end\n3.0.4 :005 &gt; def bar\n3.0.4 :006 &gt; baz\n3.0.4 :007 &gt; end\n3.0.4 :008 &gt; def baz\n3.0.4 :009 &gt; raise\n3.0.4 :010 &gt; end\n3.0.4 :011 &gt; end\n =&gt; :baz\n3.0.4 :012 &gt;\n3.0.4 :013 &gt; Foo.new.foo\n(irb):9:in `baz': unhandled exception\n\tfrom (irb):6:in `bar'\n\tfrom (irb):3:in `foo'\n\tfrom (irb):13:in `&lt;main&gt;'\n\tfrom /Users/jsharpe/.rvm/gems/ruby-3.0.4/gems/irb-1.7.4/exe/irb:9:in `&lt;top (required)&gt;'\n\tfrom /Users/jsharpe/.rvm/gems/ruby-3.0.4/bin/irb:25:in `load'\n\tfrom /Users/jsharpe/.rvm/gems/ruby-3.0.4/bin/irb:25:in `&lt;main&gt;'\n\tfrom /Users/jsharpe/.rvm/gems/ruby-3.0.4/bin/ruby_executable_hooks:22:in `eval'\n\tfrom /Users/jsharpe/.rvm/gems/ruby-3.0.4/bin/ruby_executable_hooks:22:in `&lt;main&gt;'\n</code></pre></div>\n<p dir=\"auto\">This causes rails console to mistakenly filter lines that would otherwise match <code class=\"notranslate\">Rails::BacktraceCleaner::APP_DIRS_PATTERN</code> because that regex hasn't anticipated the prefix.<br>\nThis patch filters <code class=\"notranslate\">\\tfrom </code> if it exists which then allows the filter using <code class=\"notranslate\">APP_DIRS_PATTERN</code> below to work correctly:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ rc\nLoading development environment (Rails 7.0.7)\n3.1.4 :001 &gt; User.new.foo\n/Users/jsharpe/railsapp/app/models/user.rb:12:in `baz': unhandled exception\napp/models/user.rb:8:in `bar'\napp/models/user.rb:4:in `foo'\n(irb):1:in `&lt;main&gt;'\"><pre class=\"notranslate\"><code class=\"notranslate\">$ rc\nLoading development environment (Rails 7.0.7)\n3.1.4 :001 &gt; User.new.foo\n/Users/jsharpe/railsapp/app/models/user.rb:12:in `baz': unhandled exception\napp/models/user.rb:8:in `bar'\napp/models/user.rb:4:in `foo'\n(irb):1:in `&lt;main&gt;'\n</code></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49049",
            "title": "fixes issue where rails console filters lines that match 'APP_DIRS_PATTERN' because they are prefixed with 'from'",
            "date_modified": "2023-09-01T14:47:43.000Z",
            "date_published": "2023-08-27T01:29:32.000Z",
            "author": {
                "name": "josh-m-sharpe",
                "url": "https://github.com/josh-m-sharpe"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/96156234?u=9ced8d6ac6128a8dea78e7f0d9233669ff0ffecf&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Since <code class=\"notranslate\">aliased_table_for</code> is called later on in the stack as to make the <code class=\"notranslate\">missing</code> and <code class=\"notranslate\">associated</code> methods have no awareness of aliasing taking place, I decided to make a similar data structure available within both.  By adding <code class=\"notranslate\">@scope.table_name</code>, and  any <code class=\"notranslate\">joins</code> <code class=\"notranslate\">table_names</code> to an array, I am offering up a similar object that the <code class=\"notranslate\">alias_tracker.aliases</code> hash would contain.  I used an array instead of a hash because in this case we don't need to check the values of the keys like <code class=\"notranslate\">aliased_table_for</code> does.  By building this array it gives these methods an awareness of what aliasing might take place further on in the stack so that it can take the correct course of action when building the where clause.</p>\n<p dir=\"auto\">This adds an <code class=\"notranslate\">alias_prediction</code> method which implements the behavior noted above:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"        def alias_prediction\n          alias_table_names = []\n          alias_table_names.push(@scope.table_name)\n          if @scope.values[:joins]\n            @scope.values[:joins].each do |join|\n              current_join = scope_association_reflection(join)\n              alias_table_names.push(current_join.table_name)\n            end\n          end\n          alias_table_names\n        end\"><pre class=\"notranslate\">        <span class=\"pl-k\">def</span> <span class=\"pl-en\">alias_prediction</span>\n          <span class=\"pl-s1\">alias_table_names</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span>\n          <span class=\"pl-s1\">alias_table_names</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">@scope</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">table_name</span><span class=\"pl-kos\">)</span>\n          <span class=\"pl-k\">if</span> <span class=\"pl-c1\">@scope</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">values</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:joins</span><span class=\"pl-kos\">]</span>\n            <span class=\"pl-c1\">@scope</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">values</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:joins</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">each</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">join</span>|\n              <span class=\"pl-s1\">current_join</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">scope_association_reflection</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">join</span><span class=\"pl-kos\">)</span>\n              <span class=\"pl-s1\">alias_table_names</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">push</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">current_join</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">table_name</span><span class=\"pl-kos\">)</span>\n            <span class=\"pl-k\">end</span>\n          <span class=\"pl-k\">end</span>\n          <span class=\"pl-s1\">alias_table_names</span>\n        <span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">Note: The initial <code class=\"notranslate\">reflection.options[:class_name]</code> check is still necessary to avoid false positives.</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because a bug report was raised. Fixes #<a href=\"https://github.com/rails/rails/issues/48945\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48945/hovercard\">48945</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49047",
            "title": "This allows Users to merge the actual model to an already aliased/scoped model when using the missing or associated methods. Fixes #48945. ",
            "date_modified": "2023-09-01T14:56:01.000Z",
            "date_published": "2023-08-26T23:23:49.000Z",
            "author": {
                "name": "paulreece",
                "url": "https://github.com/paulreece"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1724355?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Fixes incorrect typecasting that occurred when there were duplicate column names returned from PostgreSQL which is always the case when calculations/aggregates are use multiple times when no aliases are used. The <code class=\"notranslate\">column_type</code> method was moved from private to public, and the typecasting logic was updated.</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #48946.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1852020901\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48946\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48946/hovercard\" href=\"https://github.com/rails/rails/issues/48946\">#48946</a>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">There are several other places where the <code class=\"notranslate\">ActiveRecord::Result#column_type</code> is used directly, but I'm not sure if accessing the column_type via index would be correct/possible there. To me it seems these places are even incorrect since <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1330834921\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/45783\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/45783/hovercard\" href=\"https://github.com/rails/rails/pull/45783\">#45783</a> because the the <code class=\"notranslate\">types</code>/<code class=\"notranslate\">column_types</code> potentially not only contains columns by name but also by index.</p>\n<ul dir=\"auto\">\n<li><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/f6b987d521b9ad3f9938b40f039fbdda78058a06/activerecord/lib/active_record/querying.rb#L66-L66\">rails/activerecord/lib/active_record/querying.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 66\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/rails/rails/commit/f6b987d521b9ad3f9938b40f039fbdda78058a06\">f6b987d</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L66\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"66\"></td>\n          <td id=\"LC66\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s1\">column_types</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">result_set</span><span class=\"pl-kos\">.</span><span class=\"pl-s1\">column_types</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</li>\n<li><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/f6b987d521b9ad3f9938b40f039fbdda78058a06/activerecord/lib/active_record/associations/join_dependency.rb#L127-L127\">rails/activerecord/lib/active_record/associations/join_dependency.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 127\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/rails/rails/commit/f6b987d521b9ad3f9938b40f039fbdda78058a06\">f6b987d</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L127\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"127\"></td>\n          <td id=\"LC127\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s1\">column_types</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">result_set</span><span class=\"pl-kos\">.</span><span class=\"pl-s1\">column_types</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</li>\n<li><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/f6b987d521b9ad3f9938b40f039fbdda78058a06/activerecord/lib/active_record/relation/calculations.rb#L508-L508\">rails/activerecord/lib/active_record/relation/calculations.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 508\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/rails/rails/commit/f6b987d521b9ad3f9938b40f039fbdda78058a06\">f6b987d</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L508\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"508\"></td>\n          <td id=\"LC508\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-s1\">calculated_data</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">column_types</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">fetch</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">aliaz</span><span class=\"pl-kos\">,</span> <span class=\"pl-v\">Type</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">default_value</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</li>\n</ul>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49043",
            "title": "Fix column typecasting with duplicate column names for PostgreSQL",
            "date_modified": "2023-08-27T07:01:18.000Z",
            "date_published": "2023-08-26T17:30:53.000Z",
            "author": {
                "name": "Flixt",
                "url": "https://github.com/Flixt"
            }
        }
    ]
}