{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #52183.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2366680034\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52183\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52183/hovercard\" href=\"https://github.com/rails/rails/issues/52183\">#52183</a>.</p>\n<p dir=\"auto\">The problem was that the locale and the timezone are set only when running the <code class=\"notranslate\">perform</code> method of the job<br>\n</p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/16d8b82d5e2aca4780c5d10b1fe9a90b33a0e84e/activejob/lib/active_job/translation.rb#L8-L10\">rails/activejob/lib/active_job/translation.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 8 to 10\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/16d8b82d5e2aca4780c5d10b1fe9a90b33a0e84e\">16d8b82</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L8\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"8\"></td>\n          <td id=\"LC8\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-en\">around_perform</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">job</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">block</span>| </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L9\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"9\"></td>\n          <td id=\"LC9\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-v\">I18n</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">with_locale</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">job</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">locale</span><span class=\"pl-kos\">,</span> &amp;<span class=\"pl-s1\">block</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L10\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"10\"></td>\n          <td id=\"LC10\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<br>\n<div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/16d8b82d5e2aca4780c5d10b1fe9a90b33a0e84e/activejob/lib/active_job/execution.rb#L45-L51\">rails/activejob/lib/active_job/execution.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 45 to 51\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/16d8b82d5e2aca4780c5d10b1fe9a90b33a0e84e\">16d8b82</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L45\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"45\"></td>\n          <td id=\"LC45\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">perform_now</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L46\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"46\"></td>\n          <td id=\"LC46\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-c\"># Guard against jobs that were persisted before we started counting executions by zeroing out nil counters</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L47\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"47\"></td>\n          <td id=\"LC47\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">executions</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-en\">executions</span> || <span class=\"pl-c1\">0</span><span class=\"pl-kos\">)</span> + <span class=\"pl-c1\">1</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L48\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"48\"></td>\n          <td id=\"LC48\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L49\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"49\"></td>\n          <td id=\"LC49\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">deserialize_arguments_if_needed</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L50\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"50\"></td>\n          <td id=\"LC50\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L51\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"51\"></td>\n          <td id=\"LC51\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">_perform_job</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<br>\n<div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/16d8b82d5e2aca4780c5d10b1fe9a90b33a0e84e/activejob/lib/active_job/execution.rb#L65-L70\">rails/activejob/lib/active_job/execution.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 65 to 70\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/16d8b82d5e2aca4780c5d10b1fe9a90b33a0e84e\">16d8b82</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L65\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"65\"></td>\n          <td id=\"LC65\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">_perform_job</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L66\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"66\"></td>\n          <td id=\"LC66\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-v\">ActiveSupport</span>::<span class=\"pl-v\">ExecutionContext</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:job</span><span class=\"pl-kos\">]</span> <span class=\"pl-c1\">=</span> <span class=\"pl-smi\">self</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L67\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"67\"></td>\n          <td id=\"LC67\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">run_callbacks</span> <span class=\"pl-pds\">:perform</span> <span class=\"pl-k\">do</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L68\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"68\"></td>\n          <td id=\"LC68\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">     <span class=\"pl-en\">perform</span><span class=\"pl-kos\">(</span>*<span class=\"pl-en\">arguments</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L69\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"69\"></td>\n          <td id=\"LC69\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">end</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L70\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"70\"></td>\n          <td id=\"LC70\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">But when the job raises </p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/16d8b82d5e2aca4780c5d10b1fe9a90b33a0e84e/activejob/lib/active_job/execution.rb#L52-L58\">rails/activejob/lib/active_job/execution.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 52 to 58\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/16d8b82d5e2aca4780c5d10b1fe9a90b33a0e84e\">16d8b82</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L52\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"52\"></td>\n          <td id=\"LC52\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">rescue</span> <span class=\"pl-v\">Exception</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-en\">exception</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L53\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"53\"></td>\n          <td id=\"LC53\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">handled</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">rescue_with_handler</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">exception</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L54\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"54\"></td>\n          <td id=\"LC54\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-k\">return</span> <span class=\"pl-s1\">handled</span> <span class=\"pl-k\">if</span> <span class=\"pl-s1\">handled</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L55\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"55\"></td>\n          <td id=\"LC55\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L56\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"56\"></td>\n          <td id=\"LC56\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">run_after_discard_procs</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">exception</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L57\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"57\"></td>\n          <td id=\"LC57\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">raise</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L58\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"58\"></td>\n          <td id=\"LC58\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n, we are outside of <code class=\"notranslate\">around_perform</code> block and so the global values are not correctly set. So we need to wrap the whole <code class=\"notranslate\">perform_now</code> method.<p></p>",
            "url": "https://github.com/rails/rails/pull/52188",
            "title": "Preserve timezone and locale in ActiveJob exception handlers",
            "date_modified": "2024-06-21T20:54:10.000Z",
            "date_published": "2024-06-21T20:52:17.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2853450?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #52182.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2366635297\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52182\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52182/hovercard\" href=\"https://github.com/rails/rails/issues/52182\">#52182</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Instead of using the composite primary key array in the where clause it iterates over it and uses each key individually preventing a malformed query.</p>",
            "url": "https://github.com/rails/rails/pull/52186",
            "title": "Fix `missing(:association)` for composite primary keys",
            "date_modified": "2024-06-21T18:28:44.000Z",
            "date_published": "2024-06-21T16:31:06.000Z",
            "author": {
                "name": "jackozi",
                "url": "https://github.com/jackozi"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/10629412?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Since <code class=\"notranslate\">__dir__</code> uses real path, when we load the gems from a symlinked file, the Zeitwerk loader tries to load the ignored files and throws warnings or errors. Using <code class=\"notranslate\">File.dirname(__FILE__)</code> gives consistency for paths.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52184",
            "title": "Fix Action Cable loader path prefix",
            "date_modified": "2024-06-21T15:42:21.000Z",
            "date_published": "2024-06-21T15:42:17.000Z",
            "author": {
                "name": "sajan45",
                "url": "https://github.com/sajan45"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This was meant to land in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2366292285\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52178\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/52178/hovercard\" href=\"https://github.com/rails/rails/pull/52178\">#52178</a> but GitHub was showing the version bump as a merge conflict.</p>\n<p dir=\"auto\">I'm not sure why, but hopefully now that PR is merged a new PR will work.</p>",
            "url": "https://github.com/rails/rails/pull/52180",
            "title": "[6-1-stable] Bump cookiejar with stable Ruby 3.3 fix",
            "date_modified": "2024-06-21T23:06:44.000Z",
            "date_published": "2024-06-21T14:04:37.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/509837?u=697e4a265d5359363a5d57a24b07f9a79cb0b08a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">During a recent incident, I was trying to clean up some data in a production console via an <code class=\"notranslate\">update_all</code>. The query raised (due to a lock timeout), and I noticed something very surprising in the backtrace - a call to <code class=\"notranslate\">exec_delete</code>!</p>\n<p dir=\"auto\">It turns out that these methods are aliases because they both have a very simple and identical implementation. But I didn't know this at a time and so my heart skipped a beat.</p>\n<p dir=\"auto\">I am proposing we avoid aliasing for the sake of avoid confusion in backtraces. If you call <code class=\"notranslate\">update</code>, I think we should avoid showing any other SQL verbs in your backtrace.</p>\n<p dir=\"auto\">(I realise this is a super nitpicky change so I won't be upset if it gets rejected/ignored.)</p>",
            "url": "https://github.com/rails/rails/pull/52173",
            "title": "Avoid aliasing `exec_update` and `exec_delete`",
            "date_modified": "2024-06-21T02:39:38.000Z",
            "date_published": "2024-06-21T01:25:22.000Z",
            "author": {
                "name": "ghiculescu",
                "url": "https://github.com/ghiculescu"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/30030?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Rails currently does not have a nice route helper for HTTP/1 and HTTP/2 WebSockets.</p>\n<p dir=\"auto\">HTTP/1 uses <code class=\"notranslate\">GET</code> with the <code class=\"notranslate\">upgrade</code> header, while HTTP/2+ uses <code class=\"notranslate\">CONNECT</code> with the <code class=\"notranslate\">:protocol</code> pseudo-header. Users should not need to know the difference.</p>\n<p dir=\"auto\">Currently you'd need to write something like this:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"match &quot;home/index&quot;, to: &quot;home#index&quot;, via: [:get, :connect]\"><pre class=\"notranslate\"><span class=\"pl-en\">match</span> <span class=\"pl-s\">\"home/index\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">to</span>: <span class=\"pl-s\">\"home#index\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">via</span>: <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:get</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:connect</span><span class=\"pl-kos\">]</span></pre></div>\n<p dir=\"auto\">With this change, we can write:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"websocket &quot;home/index&quot;\"><pre class=\"notranslate\"><span class=\"pl-en\">websocket</span> <span class=\"pl-s\">\"home/index\"</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52169",
            "title": "Add route helper for websockets.",
            "date_modified": "2024-06-22T02:00:00.000Z",
            "date_published": "2024-06-20T11:28:00.000Z",
            "author": {
                "name": "ioquatix",
                "url": "https://github.com/ioquatix"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/249125?u=13c581de8d23f79c307d8a9ce71beb43c4b04194&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">As can be seen in the code example below (and also in the API documentation for <code class=\"notranslate\">ActiveRecord::DelegatedType</code>), the \"subclasses\" do not need to inherit (on the Ruby level) from the \"superclass\" - in contrast to STI.</p>\n<p dir=\"auto\">Maybe we can find a better name for these concepts instead, to avoid the confusion?</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52166",
            "title": "Correction: Delegated types do not require inheritance [ci skip]",
            "date_modified": "2024-06-21T12:13:37.000Z",
            "date_published": "2024-06-20T08:05:23.000Z",
            "author": {
                "name": "franzliedke",
                "url": "https://github.com/franzliedke"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/47554?u=7f919feee43d319ec01c7b135f4d1868a31bddc3&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because I learned that <a href=\"https://github.com/rails/rails/blob/4bb73233413f30fd7217bd7f08af44963f5832b1/actionview/lib/action_view/template.rb#L439-L444\"><code class=\"notranslate\">local_assigns</code> is undefined</a> (<a href=\"https://github.com/rails/rails/pull/45602\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/45602/hovercard\">PR</a>) when using Strict Locals and I struggled to find a replacement for variables that shadow Ruby reserved keywords. I wanted to document this for others.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52162",
            "title": "Docs: Explain `local_assigns` is undefined when using Strict Locals and workaround for reserved keywords",
            "date_modified": "2024-06-21T21:32:56.000Z",
            "date_published": "2024-06-19T22:53:39.000Z",
            "author": {
                "name": "bensheldon",
                "url": "https://github.com/bensheldon"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/43910713?u=f4f81369eab5538bbd348769fcba04da77eddfa3&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because when creating an engine in an existing Rails codebase, we want to bypass the duplicate plugin name condition.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds a flag \"duplicate_option\" that allows to skip the invalid plugin name error.</p>\n<p dir=\"auto\">Use case:<br>\nIn a rails monolith, when creating rails engines to better encapsulate code, the module name most likely already exists before creating the engine (as in, when not starting from scratch) so the <code class=\"notranslate\">valid_const?</code> would throw an error even though it shouldn't.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52160",
            "title": "Add option to allow for duplicate plugins names generated",
            "date_modified": "2024-06-21T02:07:24.000Z",
            "date_published": "2024-06-19T20:20:19.000Z",
            "author": {
                "name": "ehasrouni",
                "url": "https://github.com/ehasrouni"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Digging deeper is a large section. We can move the performance, security and error reporting guides to a separate section.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52154",
            "title": "Move production guides to separate section [ci-skip]",
            "date_modified": "2024-06-19T17:14:35.000Z",
            "date_published": "2024-06-19T13:00:08.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/14007?u=7d74620cf38d2057b13e9cbb7ee8c6ae35c1d019&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #52081.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2344500235\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52081\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52081/hovercard\" href=\"https://github.com/rails/rails/issues/52081\">#52081</a></p>\n<p dir=\"auto\">This fixes a situation where a join table is missing in the SQL statement for a has/through relationship that utilizes a scope. It can occur when using <code class=\"notranslate\">joins</code> in the scope with no where clauses (e.g. <code class=\"notranslate\">joins(:post).where(posts: {name: \"foo\"})</code> vs <code class=\"notranslate\">joins(:post).merge(Post.foo)</code>). The \"chain\" is cutoff and the join is left behind.</p>\n<p dir=\"auto\">I'm guessing this bug has lingered because the majority of <code class=\"notranslate\">joins</code> also utilize/chain a where clause.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52150",
            "title": "In association scope, always merge the joins (regardless of references_values)",
            "date_modified": "2024-06-18T22:47:14.000Z",
            "date_published": "2024-06-18T22:28:38.000Z",
            "author": {
                "name": "justinko",
                "url": "https://github.com/justinko"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #52125.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2353216899\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52125\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52125/hovercard\" href=\"https://github.com/rails/rails/issues/52125\">#52125</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Starting in Rack 3.1, rack.input is optional, so <code class=\"notranslate\">read_body_stream</code> (used by <code class=\"notranslate\">raw_post</code>) can no longer call <code class=\"notranslate\">read</code> unconditionally.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52138",
            "title": "Fix raw_post raising when rack.input is nil",
            "date_modified": "2024-06-21T21:26:27.000Z",
            "date_published": "2024-06-16T18:10:58.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/3410507?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">In order to generate an HTML datalist element with Rails I needed the following code:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"&lt;%= content_tag(:datalist, nil, id: :payees_datalist, 'data-autocomplete-input-target' =&gt; :datalist) do %&gt;\n  &lt;% @payees.each do |payee| %&gt;\n    &lt;%=\n      content_tag(\n        :option,\n        nil,\n        value: payee.name,\n        data: { id: payee.id },\n        'data-autocomplete-input-target' =&gt; 'datalistOption'\n      )\n    %&gt;\n  &lt;% end %&gt;\n&lt;% end %&gt;\"><pre class=\"notranslate\">&lt;%= <span class=\"pl-en\">content_tag</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:datalist</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">nil</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">id</span>: <span class=\"pl-pds\">:payees_datalist</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">'data-autocomplete-input-target'</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-pds\">:datalist</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span> <span class=\"pl-s\">%&gt;</span>\n<span class=\"pl-s\">  &lt;% @payees.each do |payee| %&gt;</span>\n    &lt;%=\n      <span class=\"pl-en\">content_tag</span><span class=\"pl-kos\">(</span>\n        <span class=\"pl-pds\">:option</span><span class=\"pl-kos\">,</span>\n        <span class=\"pl-c1\">nil</span><span class=\"pl-kos\">,</span>\n        <span class=\"pl-pds\">value</span>: <span class=\"pl-en\">payee</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">name</span><span class=\"pl-kos\">,</span>\n        <span class=\"pl-pds\">data</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">id</span>: <span class=\"pl-en\">payee</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">id</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n        <span class=\"pl-s\">'data-autocomplete-input-target'</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s\">'datalistOption'</span>\n      <span class=\"pl-kos\">)</span>\n    <span class=\"pl-s\">%&gt;</span>\n<span class=\"pl-s\">  &lt;% end %&gt;</span><span class=\"pl-en\"></span>\n&lt;<span class=\"pl-s\">% end </span><span class=\"pl-s\">%&gt;</span></pre></div>\n<p dir=\"auto\">It would be great to have a simple way to do that.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds <code class=\"notranslate\">datalist_tag</code>:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"  datalist_tag('countries_datalist', ['Argentina', ['Brazil', { class: 'brazilian_option' }],\n               ['Chile', 'CL', { disabled: true }]], { class: 'sa-countries-sample' })\n\n  =&gt; &lt;datalist id=&quot;countries_datalist&quot; class=&quot;sa-countries-sample&quot;&gt;\n       &lt;option value=&quot;Argentina&quot;&gt;Argentina&lt;/option&gt;\n       &lt;option value=&quot;Brazil&quot; class=&quot;brazilian_option&quot;&gt;Brazil&lt;/option&gt;\n       &lt;option value=&quot;CL&quot; disabled=&quot;disabled&quot;&gt;Chile&lt;/option&gt;\n     &lt;/datalist&gt;\"><pre class=\"notranslate\">  <span class=\"pl-en\">datalist_tag</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'countries_datalist'</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-s\">'Argentina'</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-s\">'Brazil'</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">class</span>: <span class=\"pl-s\">'brazilian_option'</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>\n               <span class=\"pl-kos\">[</span><span class=\"pl-s\">'Chile'</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">'CL'</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">disabled</span>: <span class=\"pl-c1\">true</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">class</span>: <span class=\"pl-s\">'sa-countries-sample'</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n\n  <span class=\"pl-c1\">=&gt;</span> &lt;<span class=\"pl-en\">datalist</span> <span class=\"pl-s1\">id</span><span class=\"pl-c1\">=</span><span class=\"pl-s\">\"countries_datalist\"</span> <span class=\"pl-en\">class</span><span class=\"pl-c1\">=</span><span class=\"pl-s\">\"sa-countries-sample\"</span>&gt;\n       &lt;<span class=\"pl-en\">option</span> <span class=\"pl-s1\">value</span><span class=\"pl-c1\">=</span><span class=\"pl-s\">\"Argentina\"</span>&gt;<span class=\"pl-v\">Argentina</span>&lt;<span class=\"pl-sr\">/option&gt;</span>\n<span class=\"pl-sr\">       &lt;option value=\"Brazil\" class=\"brazilian_option\"&gt;Brazil&lt;/option</span>&gt;\n       &lt;<span class=\"pl-en\">option</span> <span class=\"pl-s1\">value</span><span class=\"pl-c1\">=</span><span class=\"pl-s\">\"CL\"</span> <span class=\"pl-s1\">disabled</span><span class=\"pl-c1\">=</span><span class=\"pl-s\">\"disabled\"</span>&gt;<span class=\"pl-v\">Chile</span>&lt;<span class=\"pl-sr\">/option&gt;</span>\n<span class=\"pl-sr\">     &lt;/datalist</span>&gt;<span class=\"pl-en\"></span></pre></div>",
            "url": "https://github.com/rails/rails/pull/52137",
            "title": "Add datalist_tag to create datalist form elements",
            "date_modified": "2024-06-21T10:15:00.000Z",
            "date_published": "2024-06-16T13:25:03.000Z",
            "author": {
                "name": "willianveiga",
                "url": "https://github.com/willianveiga"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The Logger severity predicates have existed since the <a href=\"https://github.com/ruby/logger/commit/525b58d97eb7dd1375f59dec6e4f34ebff0c0ecb\">introduction of Logger</a>. However, these methods only looked at the <code class=\"notranslate\">level</code> instance variable, so they did not work with the <a href=\"https://github.com/rails/rails/commit/629efb605728b31ad9644f6f0acaf3760b641a29\">thread safe implementation</a> of temporary log levels in Rails.</p>\n<p dir=\"auto\">Since then, the Logger severity predicates were <a href=\"https://github.com/ruby/logger/commit/7365c995bfde6cc52ad6c481e4c6fff32780025c\">updated</a> to use the <code class=\"notranslate\">level</code> method instead of the instance variable, making Rails' severity predicate overrides obsolete.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit removes Rails' custom severity predicates in favor of Logger's implementation, since the new implementation was released in Logger 1.4.2 and came bundled with Ruby 2.7.0.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>\n<p dir=\"auto\">This change only touches undocumented, internal methods so a CHANGELOG entry doesn't seem necessary.</p>",
            "url": "https://github.com/rails/rails/pull/52132",
            "title": "Remove obsolete Logger severity predicates",
            "date_modified": "2024-06-18T22:18:29.000Z",
            "date_published": "2024-06-15T19:18:49.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/816901?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h2 dir=\"auto\">What this fixes</h2>\n<p dir=\"auto\">Here's the scenario I'd like to fix:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class MyTest &lt; ActiveSupport::TestCase\n  test &quot;there is a / in here&quot; do\n    assert true\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">MyTest</span> &lt; <span class=\"pl-v\">ActiveSupport</span>::<span class=\"pl-v\">TestCase</span>\n  <span class=\"pl-en\">test</span> <span class=\"pl-s\">\"there is a / in here\"</span> <span class=\"pl-k\">do</span>\n    <span class=\"pl-en\">assert</span> <span class=\"pl-c1\">true</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"bin/rails test test/my_test.rb --name test_there_is_a_/_in_here\"><pre class=\"notranslate\">bin/rails <span class=\"pl-c1\">test</span> test/my_test.rb --name test_there_is_a_/_in_here</pre></div>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"`require': cannot load such file -- /tmp/testapp/test_there_is_a_/_in_here (LoadError)\"><pre class=\"notranslate\"><code class=\"notranslate\">`require': cannot load such file -- /tmp/testapp/test_there_is_a_/_in_here (LoadError)\n</code></pre></div>\n<h2 dir=\"auto\">What the problem is</h2>\n<p dir=\"auto\">The main problem is that the code currently considers that any arg that contains at least one slash, no spaces, and is not surrounded with slashes has to be a file path, whereas in practice, arguments that follow <code class=\"notranslate\">--name</code> and <code class=\"notranslate\">-n</code> will never be a file path, <em>even</em> if they contain a <code class=\"notranslate\">/</code>.</p>\n<h2 dir=\"auto\">Reproducing</h2>\n<p dir=\"auto\">I've added some tests that prove the problem and fix, but here is another way to reproduce:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ cd /tmp\n$ rails new --minimal testapp\n$ cd testapp\n$ rails g scaffold Post title:string\"><pre class=\"notranslate\"><code class=\"notranslate\">$ cd /tmp\n$ rails new --minimal testapp\n$ cd testapp\n$ rails g scaffold Post title:string\n</code></pre></div>\n<p dir=\"auto\">Add a test to <code class=\"notranslate\">test/models/post_test.rb</code> with a slash in its label:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"test &quot;dummy test with a / slash&quot; do\n  assert true\nend\"><pre class=\"notranslate\"><span class=\"pl-en\">test</span> <span class=\"pl-s\">\"dummy test with a / slash\"</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">assert</span> <span class=\"pl-c1\">true</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Failure pattern 1</h3>\n<p dir=\"auto\">The following command should only run that single test, but instead it crashes on \"cannot load such file\":</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ bin/rails test test/models/post_test.rb -n test_dummy_test_with_a_/_slash\n/opt/rubies/ruby-3.3.0/lib/ruby/3.3.0/bundled_gems.rb:74:in `require': cannot load such file -- /tmp/testapp/test_dummy_test_with_a_/_slash (LoadError)\"><pre class=\"notranslate\"><code class=\"notranslate\">$ bin/rails test test/models/post_test.rb -n test_dummy_test_with_a_/_slash\n/opt/rubies/ruby-3.3.0/lib/ruby/3.3.0/bundled_gems.rb:74:in `require': cannot load such file -- /tmp/testapp/test_dummy_test_with_a_/_slash (LoadError)\n</code></pre></div>\n<p dir=\"auto\"><code class=\"notranslate\">test_dummy_test_with_a_/_slash</code> was supposed to be a test name filter but was instead seen as a file path. Yet, the following command works:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ bin/rails test test/modes/post_test.rb -n /test_dummy_test_with_a_\\/_slash/\"><pre class=\"notranslate\"><code class=\"notranslate\">$ bin/rails test test/modes/post_test.rb -n /test_dummy_test_with_a_\\/_slash/\n</code></pre></div>\n<h3 dir=\"auto\">Failure pattern 2</h3>\n<p dir=\"auto\">Another failure, which is probably less important, but happens to get fixed by this PR, is when passing an absolute file path to a test directory in order to run all tests defined in that directory.</p>\n<p dir=\"auto\">Because the file path starts and ends with <code class=\"notranslate\">/</code>, it is seen as a regular expression instead.</p>\n<p dir=\"auto\">This next command should only run tests located in <code class=\"notranslate\">test/models</code> but it runs everything:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ bin/rails test --verbose /tmp/testapp/test/models/\nRunning 9 tests in a single process (parallelization threshold is 50)\nRun options: --verbose --seed 32902\n\nPostTest#test_the_truth = 0.02 s = .\nPostTest#test_dummy_test_with_a_/_slash = 0.00 s = .\nPostsControllerTest#test_should_show_post = 0.11 s = .\nPostsControllerTest#test_should_get_index = 0.00 s = .\nPostsControllerTest#test_should_get_edit = 0.01 s = .\nPostsControllerTest#test_should_update_post = 0.01 s = .\nPostsControllerTest#test_should_create_post = 0.01 s = .\nPostsControllerTest#test_should_destroy_post = 0.00 s = .\nPostsControllerTest#test_should_get_new = 0.00 s = .\n\nFinished in 0.168346s, 53.4614 runs/s, 77.2221 assertions/s.\n9 runs, 13 assertions, 0 failures, 0 errors, 0 skips\"><pre class=\"notranslate\"><code class=\"notranslate\">$ bin/rails test --verbose /tmp/testapp/test/models/\nRunning 9 tests in a single process (parallelization threshold is 50)\nRun options: --verbose --seed 32902\n\nPostTest#test_the_truth = 0.02 s = .\nPostTest#test_dummy_test_with_a_/_slash = 0.00 s = .\nPostsControllerTest#test_should_show_post = 0.11 s = .\nPostsControllerTest#test_should_get_index = 0.00 s = .\nPostsControllerTest#test_should_get_edit = 0.01 s = .\nPostsControllerTest#test_should_update_post = 0.01 s = .\nPostsControllerTest#test_should_create_post = 0.01 s = .\nPostsControllerTest#test_should_destroy_post = 0.00 s = .\nPostsControllerTest#test_should_get_new = 0.00 s = .\n\nFinished in 0.168346s, 53.4614 runs/s, 77.2221 assertions/s.\n9 runs, 13 assertions, 0 failures, 0 errors, 0 skips\n</code></pre></div>\n<h2 dir=\"auto\">Caveats</h2>\n<p dir=\"auto\">The code in <code class=\"notranslate\">railties/lib/rails/test_unit/runner.rb</code> is hard to adjust. It's attempting to parse arguments and change them before eventually forwarding them to Minitest. Not using <code class=\"notranslate\">OptionParser</code> means the code needs to somehow reinvent the wheel and handle multiple edge cases.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52126",
            "title": "Fix test runner when name contains a `/`",
            "date_modified": "2024-06-21T10:14:05.000Z",
            "date_published": "2024-06-14T16:25:26.000Z",
            "author": {
                "name": "davidstosik",
                "url": "https://github.com/davidstosik"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54260?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">In <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2291492548\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51799\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51799/hovercard\" href=\"https://github.com/rails/rails/pull/51799\">#51799</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/dhh/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/dhh\">@dhh</a> changed asset pipeline default to Propshaft in Rails 8; specs assumed sprockets though so the new default isn't being tested.</p>\n<p dir=\"auto\"><a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/fedesapuppo/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/fedesapuppo\">@fedesapuppo</a> and I reconvert <code class=\"notranslate\">test/application/assets_test.rb</code> to test the propshaft default (dropping several sprockets-specific tests now unneeded), and duplicated the original file into a <code class=\"notranslate\">test/application/sprockets_assets_test.rb</code> to continue testing that option. Both run fine independently, but loading them together leaves the propshaft railtie loaded for both versions, messing with the sprockets configuration and tests. How could we decouple them properly?</p>\n<p dir=\"auto\">Thanks to <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/rafaelfranca/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rafaelfranca\">@rafaelfranca</a> for helping us get started generating a template app for each asset pipeline option.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> [doesn't apply] Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> [doesn't apply] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52122",
            "title": "Add propshaft specs for railties new default",
            "date_modified": "2024-06-13T22:47:19.000Z",
            "date_published": "2024-06-13T22:47:15.000Z",
            "author": {
                "name": "tute",
                "url": "https://github.com/tute"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/803765?u=1068ad3fe7323acb63e9fe65e558ba0aabe5d3fe&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">I realized that retrying a job from GoodJob would enqueue it in the current locale of the GoodJob dashboard, even if the job was originally enqueued in a different locale.</p>\n<p dir=\"auto\">For instance, it was enqueued in <code class=\"notranslate\">:fr</code>, and failed. When I retried it from the dashboard that was in <code class=\"notranslate\">:en</code>, it was enqueued with an <code class=\"notranslate\">:en</code> locale ( I noticed it because it failed again with a missing translation error)</p>\n<p dir=\"auto\">I tracked it down to the <code class=\"notranslate\">serialize</code> method of <code class=\"notranslate\">ActiveJob</code> who always sets <code class=\"notranslate\">locale</code> from <code class=\"notranslate\">I18n.locale</code></p>\n<p dir=\"auto\">This PR changes the serialize method to actually return the original local from the job if it is set, and default to the current locale if not.</p>",
            "url": "https://github.com/rails/rails/pull/52121",
            "title": "Include the actual ActiveJob locale when serializing rather than I18n locale",
            "date_modified": "2024-06-14T00:53:57.000Z",
            "date_published": "2024-06-13T20:17:11.000Z",
            "author": {
                "name": "Intrepidd",
                "url": "https://github.com/Intrepidd"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/289727?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Rails was not behaving as expected when sending invalid UTF-8 query string.</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #52114.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2350614733\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52114\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52114/hovercard\" href=\"https://github.com/rails/rails/issues/52114\">#52114</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The <code class=\"notranslate\">check_param_encoding</code> only checked the values in the params hash resulting in a crash when sending query like <code class=\"notranslate\">?%ADf</code></p>\n<p dir=\"auto\">Changed the method so it also validates the encoding for keys in the params hash.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52116",
            "title": "Also check params key for valid encoding",
            "date_modified": "2024-06-14T08:49:59.000Z",
            "date_published": "2024-06-13T11:51:28.000Z",
            "author": {
                "name": "chrisdebruin",
                "url": "https://github.com/chrisdebruin"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/3124?u=6ece6a5a8b8ea32c5fa94c325d151bc01d1e44e8&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR uses the <a href=\"https://github.com/minitest/minitest/pull/1002\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/minitest/minitest/pull/1002/hovercard\">possible Minitest manual plugin API</a> to manually register the Rails minitest plugin.</p>\n<p dir=\"auto\">First, it renames the minitest plugin so that Minitest will never try to automatically load the Rails minitest plugin <em>outside</em> of Rails applications.</p>\n<p dir=\"auto\">Second, it changes our test helper to require the Minitest plugin and manually register it.  This allows the Rails plugin to participate in Minitests' plugin lifecycle, but <em>only</em> within the context of a Rails application.  Other non-Rails applications<br>\nwill never inadvertently load this plugin.</p>\n<p dir=\"auto\">I think I'll have to do some refactoring to get our CI to pass, but if the Minitest PR lands, we can merge this.</p>\n<p dir=\"auto\">Here is the manual registration in action:</p>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/3124/339146591-87509f06-d4c4-4187-8a81-d2bbb7a4acd1.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTkwNDAwNDYsIm5iZiI6MTcxOTAzOTc0NiwicGF0aCI6Ii8zMTI0LzMzOTE0NjU5MS04NzUwOWYwNi1kNGM0LTQxODctOGE4MS1kMmJiYjdhNGFjZDEucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDYyMiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA2MjJUMDcwMjI2WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ODQxYjk1ZjA2OGI0ZjcwZTRlZGMzNzJkMGRkY2VhZjRhNTg5MDA2YWIxN2EwOWQ2MjY5MGE0YjhkNDFmYWNiMCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.PXJvuT7TvxmsiznHxsFVAMuOsFaMUSIxKxPB61WF7F4\"><img width=\"1593\" alt=\"Screenshot 2024-06-12 at 3 06 59 PM\" src=\"https://private-user-images.githubusercontent.com/3124/339146591-87509f06-d4c4-4187-8a81-d2bbb7a4acd1.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTkwNDAwNDYsIm5iZiI6MTcxOTAzOTc0NiwicGF0aCI6Ii8zMTI0LzMzOTE0NjU5MS04NzUwOWYwNi1kNGM0LTQxODctOGE4MS1kMmJiYjdhNGFjZDEucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDYyMiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA2MjJUMDcwMjI2WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ODQxYjk1ZjA2OGI0ZjcwZTRlZGMzNzJkMGRkY2VhZjRhNTg5MDA2YWIxN2EwOWQ2MjY5MGE0YjhkNDFmYWNiMCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.PXJvuT7TvxmsiznHxsFVAMuOsFaMUSIxKxPB61WF7F4\" style=\"max-width: 100%;\"></a>\n<p dir=\"auto\">Rails specific help text is still shown:</p>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/3124/339146496-22719bfc-c0b9-4294-8e1f-eec3f080b41a.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTkwNDAwNDYsIm5iZiI6MTcxOTAzOTc0NiwicGF0aCI6Ii8zMTI0LzMzOTE0NjQ5Ni0yMjcxOWJmYy1jMGI5LTQyOTQtOGUxZi1lZWMzZjA4MGI0MWEucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDYyMiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA2MjJUMDcwMjI2WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9M2U0YTA1ODg3OTU4ZTIyOGEwZTcwN2M2YzIxNGIwMjNhMjZhOGFlNWRjOTU4MWVhMzJhZTM2ODhkMjNjZDEyYiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.NlciugjzuQa46u1YEpE9TpnbisDrM6CkrtrApcvjmww\"><img width=\"1593\" alt=\"Screenshot 2024-06-12 at 3 08 22 PM\" src=\"https://private-user-images.githubusercontent.com/3124/339146496-22719bfc-c0b9-4294-8e1f-eec3f080b41a.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTkwNDAwNDYsIm5iZiI6MTcxOTAzOTc0NiwicGF0aCI6Ii8zMTI0LzMzOTE0NjQ5Ni0yMjcxOWJmYy1jMGI5LTQyOTQtOGUxZi1lZWMzZjA4MGI0MWEucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDYyMiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA2MjJUMDcwMjI2WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9M2U0YTA1ODg3OTU4ZTIyOGEwZTcwN2M2YzIxNGIwMjNhMjZhOGFlNWRjOTU4MWVhMzJhZTM2ODhkMjNjZDEyYiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.NlciugjzuQa46u1YEpE9TpnbisDrM6CkrtrApcvjmww\" style=\"max-width: 100%;\"></a>",
            "url": "https://github.com/rails/rails/pull/52109",
            "title": "[WIP] Manually register the Rails Minitest plugin",
            "date_modified": "2024-06-12T22:26:48.000Z",
            "date_published": "2024-06-12T22:08:43.000Z",
            "author": {
                "name": "tenderlove",
                "url": "https://github.com/tenderlove"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/30030?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">See <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2341930906\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/52066\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/52066/hovercard\" href=\"https://github.com/rails/rails/issues/52066\">#52066</a> for context.</p>\n<p dir=\"auto\">Rack 3 introduced several features to enhance how \"streaming\" responses are handled.</p>\n<ul dir=\"auto\">\n<li>The presence of <code class=\"notranslate\">body#to_ary</code> indicates that a response can be buffered (i.e. converted to an Array of String instances, without affecting the application behaviour).</li>\n<li><code class=\"notranslate\">#each</code> consumes the body, i.e. yields successive chunks that can be sent incrementally using chunked encoding. This is also somewhat valid for Rack 2.</li>\n<li>Instead of responding to <code class=\"notranslate\">#each</code>, a body can respond to <code class=\"notranslate\">#call</code>, which gets invoked like a partial hijack and has identical semantics.</li>\n</ul>\n<p dir=\"auto\">Rails is still generating <code class=\"notranslate\">transfer-encoding: chunked</code> encoded responses as a Rack body, which can cause problems:</p>\n<ul dir=\"auto\">\n<li>Other Rack middleware may not be able to correctly manipulate the response body because it is encoded.\n<ul dir=\"auto\">\n<li>e.g. <code class=\"notranslate\">rack-cache</code> has been mentioned. However, it's <a href=\"https://github.com/socketry/async-http-cache/blob/main/lib/async/http/cache/general.rb#L171-L178\">absolutely possible to cache streaming responses</a> and this is just a limitation of the current implementation of Rails.</li>\n</ul>\n</li>\n<li><code class=\"notranslate\">transfer-encoding</code> is not supported by HTTP/2 as every response is effectively considered chunked and the wire format uses binary framing rather than length-prefixed chunked encoding. The Rails implementation is more limited than necessary in this regard.</li>\n<li>The complexity of the implementation is unnecessarily high and specific to HTTP/1. In addition, this complexity is already handled by the servers in a protocol-appropriate way.</li>\n</ul>\n<p dir=\"auto\">This change removes the explicit transfer encoding and instead relies on servers to correctly encode the response.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/52094",
            "title": "Utilize Rack 3 streaming.",
            "date_modified": "2024-06-14T03:18:39.000Z",
            "date_published": "2024-06-12T00:49:50.000Z",
            "author": {
                "name": "ioquatix",
                "url": "https://github.com/ioquatix"
            }
        }
    ]
}