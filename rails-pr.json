{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/111995?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #51602.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2251712040\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51602\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51602/hovercard\" href=\"https://github.com/rails/rails/issues/51602\">#51602</a>, whereby select prompts are shown for <code class=\"notranslate\">false</code> boolean attributes, when that should be reserved for when they're <code class=\"notranslate\">nil</code>.</p>\n<p dir=\"auto\">I wasn't sure whether to put it in the CHANGELOG, so I haven't.</p>",
            "url": "https://github.com/rails/rails/pull/51605",
            "title": "Stop showing select prompts for false attributes",
            "date_modified": "2024-04-19T02:14:29.000Z",
            "date_published": "2024-04-19T02:14:25.000Z",
            "author": {
                "name": "mrj",
                "url": "https://github.com/mrj"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/384364?u=4fc3824b37944fc752160718eee736cecde57a67&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">While Rails 7.1 has added support for writing Common Table Expressions, this support does not extend to recursive CTEs.</p>\n<p dir=\"auto\">This PR adds a <code class=\"notranslate\">.with.recursive</code> construct to enable recursive CTEs.</p>\n<p dir=\"auto\">In addition, it enables passing arrays of queries as <code class=\"notranslate\">with</code> hash values, as recursive CTEs are generally only useful with <code class=\"notranslate\">UNION</code> or <code class=\"notranslate\">UNION ALL</code>, which, to my knowledge, are currently not exposed outside of Arel.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds a <code class=\"notranslate\">WithChain</code> placeholder object to chain <code class=\"notranslate\">with</code> and <code class=\"notranslate\">recursive</code>, in the manner of <code class=\"notranslate\">where.not</code>. Calling <code class=\"notranslate\">with.recursive</code> returns a scope with a <code class=\"notranslate\">with_is_recursive</code> flag turned on, which is then used in <code class=\"notranslate\">build_with</code> to pass <code class=\"notranslate\">:recursive</code> to Arel.</p>\n<p dir=\"auto\">The Pull Request also changes <code class=\"notranslate\">build_with_value_from_hash</code> to allow arrays of values as queries, in which case the subqueries are joined with <code class=\"notranslate\">UNION ALL</code>.</p>\n<p dir=\"auto\">This enables writing queries such as:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Post.with.recursive(\n  post_and_replies: [\n    Post.where(id: 42),\n    Post.joins('JOIN post_and_replies ON posts.in_reply_to_id = post_and_replies.id'),\n  ]\n)\"><pre class=\"notranslate\"><span class=\"pl-v\">Post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">with</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">recursive</span><span class=\"pl-kos\">(</span>\n  <span class=\"pl-pds\">post_and_replies</span>: <span class=\"pl-kos\">[</span>\n    <span class=\"pl-v\">Post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">where</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">id</span>: <span class=\"pl-c1\">42</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-v\">Post</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">joins</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'JOIN post_and_replies ON posts.in_reply_to_id = post_and_replies.id'</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-kos\">]</span>\n<span class=\"pl-kos\">)</span></pre></div>\n<p dir=\"auto\">Generating the following SQL:</p>\n<div class=\"highlight highlight-source-sql notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"WITH RECURSIVE &quot;post_and_replies&quot; AS (\n  (SELECT &quot;posts&quot;.* FROM &quot;posts&quot; WHERE &quot;posts&quot;.&quot;id&quot; = 42)\n  UNION ALL\n  (SELECT &quot;posts&quot;.* FROM &quot;posts&quot; JOIN post_and_replies ON posts.in_reply_to_id = post_and_replies.id)\n)\nSELECT &quot;posts&quot;.* FROM &quot;posts&quot;\"><pre class=\"notranslate\">WITH RECURSIVE <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>post_and_replies<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">AS</span> (\n  (<span class=\"pl-k\">SELECT</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>posts<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-k\">*</span> <span class=\"pl-k\">FROM</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>posts<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">WHERE</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>posts<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">42</span>)\n  <span class=\"pl-k\">UNION ALL</span>\n  (<span class=\"pl-k\">SELECT</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>posts<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-k\">*</span> <span class=\"pl-k\">FROM</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>posts<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">JOIN</span> post_and_replies <span class=\"pl-k\">ON</span> <span class=\"pl-c1\">posts</span>.<span class=\"pl-c1\">in_reply_to_id</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">post_and_replies</span>.<span class=\"pl-c1\">id</span>)\n)\n<span class=\"pl-k\">SELECT</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>posts<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-k\">*</span> <span class=\"pl-k\">FROM</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>posts<span class=\"pl-pds\">\"</span></span></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Several syntaxes have previously been discussed to support recursive CTEs, as well as unions.</p>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"536810238\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/37944\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/37944/hovercard?comment_id=565796643&amp;comment_type=issue_comment\" href=\"https://github.com/rails/rails/pull/37944#issuecomment-565796643\">#37944 (comment)</a> proposes <code class=\"notranslate\">.with(:recursive, …)</code></li>\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"536810238\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/37944\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/37944/hovercard?comment_id=565803484&amp;comment_type=issue_comment\" href=\"https://github.com/rails/rails/pull/37944#issuecomment-565803484\">#37944 (comment)</a> also suggests <code class=\"notranslate\">.with.recursive(…)</code> (which this PR implements) and <code class=\"notranslate\">.with_recursive(…)</code></li>\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1583198310\" data-permission-text=\"Title is private\" data-url=\"https://github.com/vlado/activerecord-cte/issues/16\" data-hovercard-type=\"issue\" data-hovercard-url=\"/vlado/activerecord-cte/issues/16/hovercard?comment_id=1433043310&amp;comment_type=issue_comment\" href=\"https://github.com/vlado/activerecord-cte/issues/16#issuecomment-1433043310\">vlado/activerecord-cte#16 (comment)</a> suggests <code class=\"notranslate\">.with_recursive(cte_name, base_case, recursive_case)</code></li>\n</ul>\n<p dir=\"auto\">I took a lot of inspiration from that last monkey-patch, but the API felt significantly at odds with the existing <code class=\"notranslate\">QueryMethods#with</code>, so I decided to go with the <code class=\"notranslate\">.with.recursive</code> approach and extend that interface to offer to <code class=\"notranslate\">UNION ALL</code> sub-queries.</p>\n<p dir=\"auto\">I have decided to put both the array support and the <code class=\"notranslate\">.with.recursive</code> support in the same PR, as they are closely related, but I can split it into two PRs if preferred.</p>\n<p dir=\"auto\">Tests are updated accordingly, but don't actually test inherently recursive queries, as I'm not sure there are existing fixtures lending themselves to that.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51601",
            "title": "Add support for recursive CTEs in ActiveRecord",
            "date_modified": "2024-04-18T17:39:48.000Z",
            "date_published": "2024-04-18T17:32:40.000Z",
            "author": {
                "name": "ClearlyClaire",
                "url": "https://github.com/ClearlyClaire"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/131752?u=32ddf1119b1d189c9bd241a721b36ea01c29f61e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">In Ruby 3.4+ backtraces are going to use a single quote rather than a backtick <a href=\"https://bugs.ruby-lang.org/issues/16495\" rel=\"nofollow\">https://bugs.ruby-lang.org/issues/16495</a></p>\n<p dir=\"auto\">This adjusts our backtrace cleaner regex to work with either format. I considered making it just work on whatever output we expect to see from the current Ruby version, but we are already using a regex here and this seemed much simpler.</p>",
            "url": "https://github.com/rails/rails/pull/51590",
            "title": "Fix ActionView backtrace filtering on Ruby 3.4+",
            "date_modified": "2024-04-18T17:31:36.000Z",
            "date_published": "2024-04-17T23:18:59.000Z",
            "author": {
                "name": "jhawthorn",
                "url": "https://github.com/jhawthorn"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/622516?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">When using the following code you'd expect that you can pass <code class=\"notranslate\">expire_in</code> as you can with rendering individual partials.</p>\n<div class=\"highlight highlight-text-html-erb notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"&lt;%= render(collection: @posts, partial: 'post', cached: true, expires_in: 1.hour) %&gt;\"><pre class=\"notranslate\"><span class=\"pl-k\">&lt;%=</span> render(collection: @posts, partial: 'post', cached: true, expires_in: 1.hour) <span class=\"pl-k\">%&gt;</span><span class=\"pl-en\"></span><span class=\"pl-kos\"></span><span class=\"pl-pds\"></span><span class=\"pl-c1\"></span><span class=\"pl-kos\"></span><span class=\"pl-pds\"></span><span class=\"pl-s\"></span><span class=\"pl-kos\"></span><span class=\"pl-pds\"></span><span class=\"pl-c1\"></span><span class=\"pl-kos\"></span><span class=\"pl-pds\"></span><span class=\"pl-c1\"></span><span class=\"pl-kos\"></span><span class=\"pl-en\"></span><span class=\"pl-kos\"></span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<ul dir=\"auto\">\n<li>Pass <code class=\"notranslate\">expires_in</code> to <code class=\"notranslate\">write_multi</code> so the cache key is written with the expiration.</li>\n<li>Added tests.</li>\n<li>Added documentation.</li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51579",
            "title": "Add support for `expires_in:` when using `render` with `collection:`",
            "date_modified": "2024-04-17T14:04:55.000Z",
            "date_published": "2024-04-16T17:28:40.000Z",
            "author": {
                "name": "jclusso",
                "url": "https://github.com/jclusso"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6097?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">&gt;= AND &lt;=</code> is bad</li>\n<li><code class=\"notranslate\">&gt;= AND &lt;</code> is good</li>\n</ul>\n<p dir=\"auto\"><a href=\"https://wiki.postgresql.org/wiki/Don't_Do_This#Don.27t_use_BETWEEN_.28especially_with_timestamps.29\" rel=\"nofollow\">https://wiki.postgresql.org/wiki/Don't_Do_This#Don.27t_use_BETWEEN_.28especially_with_timestamps.29</a></p>\n<h2 dir=\"auto\">Why is it okay to change this behavior?</h2>\n<blockquote>\n<p dir=\"auto\">I doubt anyone actually wants the possibility of being infinite points of precision away from tomorrow<br>\n— <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/natematykiewicz/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/natematykiewicz\">@natematykiewicz</a></p>\n</blockquote>\n<h2 dir=\"auto\">ToDo</h2>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> tests for new methods</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> DRY new methods?</li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51575",
            "title": "Use exact date spans instead of multi-nine approximations for `all_day`, `all_week`, etc. methods",
            "date_modified": "2024-04-16T13:39:45.000Z",
            "date_published": "2024-04-15T21:01:05.000Z",
            "author": {
                "name": "jjb",
                "url": "https://github.com/jjb"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5512772?u=bbae6d87b3499e6b3662664cf4be0e84cc40f6d2&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR adds a deprecation warning for the <code class=\"notranslate\">query_constraints:</code> association option. This option will change behavior in the future versions of Rails and applications are encouraged to switch to <code class=\"notranslate\">foreign_key:</code> to preserve the current behavior.</p>\n<p dir=\"auto\">Related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1947207719\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49671\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49671/hovercard?comment_id=1997955187&amp;comment_type=issue_comment\" href=\"https://github.com/rails/rails/issues/49671#issuecomment-1997955187\">#49671 (comment)</a></p>\n<h3 dir=\"auto\">Deprecation location</h3>\n<p dir=\"auto\">Currently Rails will issue a deprecation during boot but there is an option to move it and only warn on runtime when a reflection with <code class=\"notranslate\">query_constraints</code> is used.<br>\nI chose to put it in the <code class=\"notranslate\">initialize</code> just because it's the simplest available solution and moving it to runtime will require a bit of renaming.<br>\nLet me know if you think there is a reason to have this deprecation issued in runtime or if we should have both.</p>\n<h3 dir=\"auto\">Test models</h3>\n<p dir=\"auto\">To avoid having this deprecation in tests I migrated all models to <code class=\"notranslate\">foreign_key:</code> but the long term intention is for <code class=\"notranslate\">Sharded::</code> namespace models to use the new behavior of <code class=\"notranslate\">query_constrainsts</code> and <code class=\"notranslate\">Cpk::</code> to keep using <code class=\"notranslate\">foreign_key</code></p>\n<p dir=\"auto\">Also passing CI is an assurance that <code class=\"notranslate\">foreign_key</code> is indeed a safe substitution for <code class=\"notranslate\">query_constraints:</code></p>",
            "url": "https://github.com/rails/rails/pull/51571",
            "title": "Warn about changing `query_constraints:` behavior",
            "date_modified": "2024-04-17T14:40:10.000Z",
            "date_published": "2024-04-15T16:03:42.000Z",
            "author": {
                "name": "nvasilevski",
                "url": "https://github.com/nvasilevski"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/17678162?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This is my first PR to rails, I couldn't locate any similar or identical issues documented or discussed.</p>\n<p dir=\"auto\">The backtrace of errors starts exhibiting the following output post the Rails 7.08 =&gt; Rails 7.1 update:<br>\nThe last attempt I made was to create a new database migration, which hasn't been migrated yet. An error occurred, indicating 'You have 1 pending migration.' The error traceback is as follows when I tried to fetch kaminari paginated page from api:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Puma caught this error: undefined method `built_templates' for #&lt;ActionView::FileSystemResolver:0x000000011b4f9540 @unbound_templates=#&lt;Concurrent::Map:0x000000011b4f94a0 entries=0 default_proc=nil&gt;, @path_parser=#&lt;ActionView::Resolver::PathParser:0x00000001283b1748&gt;, @path=&quot;/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/kaminari-core-1.2.2/app/views&quot;&gt; (NoMethodError)\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:269:in `block in build_backtrace'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:268:in `each'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:268:in `build_backtrace'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:56:in `initialize'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `new'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `block in wrapped_causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:291:in `causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `each'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `map'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `wrapped_causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:51:in `initialize'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `new'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `block in wrapped_causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:291:in `causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `each'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `map'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `wrapped_causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:51:in `initialize'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `new'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `block in wrapped_causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:291:in `causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `each'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `map'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `wrapped_causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:51:in `initialize'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/show_exceptions.rb:35:in `new'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/show_exceptions.rb:35:in `rescue in call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-7.1.3.2/lib/rails/rack/logger.rb:37:in `call_app'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-7.1.3.2/lib/rails/rack/logger.rb:24:in `block in call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-7.1.3.2/lib/active_support/tagged_logging.rb:135:in `block in tagged'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-7.1.3.2/lib/active_support/tagged_logging.rb:39:in `tagged'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-7.1.3.2/lib/active_support/tagged_logging.rb:135:in `tagged'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-7.1.3.2/lib/active_support/broadcast_logger.rb:240:in `method_missing'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-7.1.3.2/lib/rails/rack/logger.rb:24:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sprockets-rails-3.4.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/request_store-1.5.1/lib/request_store/middleware.rb:19:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'\n/Users/user/.gem/ruby/3.2.0/gems/rack-3.0.10/lib/rack/method_override.rb:28:in `call'\n/Users/user/.gem/ruby/3.2.0/gems/rack-3.0.10/lib/rack/runtime.rb:24:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/executor.rb:14:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/static.rb:25:in `call'\n/Users/user/.gem/ruby/3.2.0/gems/rack-3.0.10/lib/rack/sendfile.rb:114:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-7.1.3.2/lib/rails/engine.rb:536:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.2/lib/puma/configuration.rb:272:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.2/lib/puma/request.rb:100:in `block in handle_request'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.2/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.2/lib/puma/request.rb:99:in `handle_request'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.2/lib/puma/server.rb:464:in `process_client'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.2/lib/puma/server.rb:245:in `block in run'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.2/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\"><pre class=\"notranslate\"><code class=\"notranslate\">Puma caught this error: undefined method `built_templates' for #&lt;ActionView::FileSystemResolver:0x000000011b4f9540 @unbound_templates=#&lt;Concurrent::Map:0x000000011b4f94a0 entries=0 default_proc=nil&gt;, @path_parser=#&lt;ActionView::Resolver::PathParser:0x00000001283b1748&gt;, @path=\"/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/kaminari-core-1.2.2/app/views\"&gt; (NoMethodError)\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:269:in `block in build_backtrace'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:268:in `each'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:268:in `build_backtrace'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:56:in `initialize'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `new'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `block in wrapped_causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:291:in `causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `each'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `map'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `wrapped_causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:51:in `initialize'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `new'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `block in wrapped_causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:291:in `causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `each'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `map'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `wrapped_causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:51:in `initialize'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `new'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `block in wrapped_causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:291:in `causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `each'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `map'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:295:in `wrapped_causes_for'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/exception_wrapper.rb:51:in `initialize'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/show_exceptions.rb:35:in `new'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/show_exceptions.rb:35:in `rescue in call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-7.1.3.2/lib/rails/rack/logger.rb:37:in `call_app'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-7.1.3.2/lib/rails/rack/logger.rb:24:in `block in call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-7.1.3.2/lib/active_support/tagged_logging.rb:135:in `block in tagged'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-7.1.3.2/lib/active_support/tagged_logging.rb:39:in `tagged'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-7.1.3.2/lib/active_support/tagged_logging.rb:135:in `tagged'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activesupport-7.1.3.2/lib/active_support/broadcast_logger.rb:240:in `method_missing'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-7.1.3.2/lib/rails/rack/logger.rb:24:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sprockets-rails-3.4.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/request_store-1.5.1/lib/request_store/middleware.rb:19:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'\n/Users/user/.gem/ruby/3.2.0/gems/rack-3.0.10/lib/rack/method_override.rb:28:in `call'\n/Users/user/.gem/ruby/3.2.0/gems/rack-3.0.10/lib/rack/runtime.rb:24:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/executor.rb:14:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/static.rb:25:in `call'\n/Users/user/.gem/ruby/3.2.0/gems/rack-3.0.10/lib/rack/sendfile.rb:114:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionpack-7.1.3.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-cors-2.0.2/lib/rack/cors.rb:102:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-7.1.3.2/lib/rails/engine.rb:536:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.2/lib/puma/configuration.rb:272:in `call'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.2/lib/puma/request.rb:100:in `block in handle_request'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.2/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.2/lib/puma/request.rb:99:in `handle_request'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.2/lib/puma/server.rb:464:in `process_client'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.2/lib/puma/server.rb:245:in `block in run'\n/Users/user/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.2/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n</code></pre></div>\n<p dir=\"auto\">This error isn't exclusive to Kaminari. I've attempted to isolate the issue by removing gems individually, but each time, I encounter the same backtrace, albeit with a different gem's view route (such as Active Admin or Devise).</p>\n<p dir=\"auto\">There could be other gems interfering with the middleware, but I'm uncertain what's necessary to establish a backtrace at the initialization stage.</p>\n<p dir=\"auto\">This Pull Request has been created because, I believe it resolves the initialization backtrace error, thereby resolving the main issue at hand.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes ActionDispatch ExeptionWrapper class, and removes backtrace attribute to be set on initializing stage.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">N/A</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51568",
            "title": "ExceptionWrapper take out backtrace setter from initialize stage",
            "date_modified": "2024-04-18T18:03:35.000Z",
            "date_published": "2024-04-15T10:46:50.000Z",
            "author": {
                "name": "erimicel",
                "url": "https://github.com/erimicel"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2291064?u=9d30765b16bbc19b3fbd3a160a262e8044ed42ab&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">… association instead of authors because has_many associations uses 2 queries with eager_load while belongs_to uses 1 query</p>\n\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because because the eager_load example in active record query uses 1 query while it is mentioned in the doc that it uses 2 queries.</p>\n<p dir=\"auto\">This PR changes the example to use reviews <code class=\"notranslate\">has_many</code> association which uses 2 queries when using eager_load. <code class=\"notranslate\">belongs_to</code> relationship uses 1 query with eager_load.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">eager_load</code> example given in <code class=\"notranslate\">guides/source/active_record_querying.md</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">The books author example uses only 1 query, I've noticed that it happens with <code class=\"notranslate\">belongs_to</code> association:</p>\n<h4 dir=\"auto\">books author example</h4>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"books = Book.eager_load(:author).limit(10)\n  SQL (0.4ms)  SELECT &quot;books&quot;.&quot;id&quot; AS t0_r0, &quot;books&quot;.&quot;title&quot; AS t0_r1, ...\n   FROM &quot;books&quot; LEFT OUTER JOIN &quot;authors&quot; ON &quot;authors&quot;.&quot;id&quot; = &quot;books&quot;.&quot;author_id&quot; LIMIT 10\"><pre class=\"notranslate\"><code class=\"notranslate\">books = Book.eager_load(:author).limit(10)\n  SQL (0.4ms)  SELECT \"books\".\"id\" AS t0_r0, \"books\".\"title\" AS t0_r1, ...\n   FROM \"books\" LEFT OUTER JOIN \"authors\" ON \"authors\".\"id\" = \"books\".\"author_id\" LIMIT 10\n</code></pre></div>\n<h4 dir=\"auto\">fetching books supplier which is also a <code class=\"notranslate\">belongs_to</code> relationship</h4>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"3.2.3 :004 &gt; books = Book.eager_load(:supplier).limit(10)\n  SQL (0.2ms)  SELECT &quot;books&quot;.&quot;id&quot; AS t0_r0, &quot;books&quot;.&quot;title&quot; AS t0_r1,...\n  FROM &quot;books&quot; LEFT OUTER JOIN &quot;suppliers&quot; ON &quot;suppliers&quot;.&quot;id&quot; = &quot;books&quot;.&quot;supplier_id&quot; LIMIT 10\"><pre class=\"notranslate\"><code class=\"notranslate\">3.2.3 :004 &gt; books = Book.eager_load(:supplier).limit(10)\n  SQL (0.2ms)  SELECT \"books\".\"id\" AS t0_r0, \"books\".\"title\" AS t0_r1,...\n  FROM \"books\" LEFT OUTER JOIN \"suppliers\" ON \"suppliers\".\"id\" = \"books\".\"supplier_id\" LIMIT 10\n</code></pre></div>\n<p dir=\"auto\">While for a <code class=\"notranslate\">has_many</code> association, <code class=\"notranslate\">eager_load</code> requires 2 queries:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"books = Book.eager_load(:reviews).limit(10)\n  SQL (0.4ms)  SELECT DISTINCT &quot;books&quot;.&quot;id&quot; FROM &quot;books&quot; LEFT OUTER JOIN &quot;reviews&quot; ON &quot;reviews&quot;.&quot;book_id&quot; = &quot;books&quot;.&quot;id&quot; LIMIT 10\n  SQL (0.2ms)  SELECT &quot;books&quot;.&quot;id&quot; AS t0_r0, &quot;books&quot;.&quot;title&quot; AS t0_r1, ...\n    FROM &quot;books&quot; LEFT OUTER JOIN &quot;reviews&quot; ON &quot;reviews&quot;.&quot;book_id&quot; = &quot;books&quot;.&quot;id&quot; WHERE &quot;books&quot;.&quot;id&quot; IN (1,2,3,4,5,6)\"><pre class=\"notranslate\"><code class=\"notranslate\">books = Book.eager_load(:reviews).limit(10)\n  SQL (0.4ms)  SELECT DISTINCT \"books\".\"id\" FROM \"books\" LEFT OUTER JOIN \"reviews\" ON \"reviews\".\"book_id\" = \"books\".\"id\" LIMIT 10\n  SQL (0.2ms)  SELECT \"books\".\"id\" AS t0_r0, \"books\".\"title\" AS t0_r1, ...\n    FROM \"books\" LEFT OUTER JOIN \"reviews\" ON \"reviews\".\"book_id\" = \"books\".\"id\" WHERE \"books\".\"id\" IN (1,2,3,4,5,6)\n</code></pre></div>\n<h4 dir=\"auto\">Alternate Suggestions</h4>\n<ol dir=\"auto\">\n<li>We can also use the same books author example and specify that it uses 1 query. However, it might be better to also cover the <code class=\"notranslate\">has_many</code> association example so readers don't assume that <code class=\"notranslate\">eager_loads</code> uses only 1 query.</li>\n<li>I was thinking about changing the example for all previous associations to make things consistent but I thought about discussing it first since that will be a relatively larger change.</li>\n</ol>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51566",
            "title": "[ci skip] doc: updated the eager load query example to use reviews as…",
            "date_modified": "2024-04-14T08:18:35.000Z",
            "date_published": "2024-04-14T08:18:31.000Z",
            "author": {
                "name": "ashish91",
                "url": "https://github.com/ashish91"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5913106?u=b6d2266389cde0ac89e38f3bde69a10459e27de5&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">We noticed when making our own cache store that options were not being passed correctly to writes in some cases. Upon further investigation the <code class=\"notranslate\">handle_expired_entry</code> method calls <code class=\"notranslate\">write_entry</code> during the <code class=\"notranslate\">race_condition_ttl</code> period. However, this call to <code class=\"notranslate\">write_entry</code> does not pass along the correct options meaning that in some cases (like the test case I provided with compression) does not correctly write the data.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">handle_expired_entry</code> method to use options when writing the key back with a <code class=\"notranslate\">race_condition_ttl</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">I am unsure of the implications of this for uses of this. It could be implicitly breaking as now options are used when they weren't being used before in this niche case.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51557",
            "title": "[Bugfix] Pass options along to write_entry in handle_expired_entry method",
            "date_modified": "2024-04-12T14:07:36.000Z",
            "date_published": "2024-04-12T14:07:31.000Z",
            "author": {
                "name": "grcooper",
                "url": "https://github.com/grcooper"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/651800?u=21b86d520450fb8dc4b62c0c4f59afc2c22366e0&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I'm using PostgreSQL and I don't allow any user to connect to it using <code class=\"notranslate\">postgres</code> database. Instead all users need to connect using their own database.</p>\n<p dir=\"auto\">Currently Rails applications don't work with such configuration because of hardcoded <code class=\"notranslate\">postgres</code> database that can't be changed. That is I set database in <code class=\"notranslate\">config/database.yml</code> but Rails will still attempt to connect using <code class=\"notranslate\">postgres</code> database.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Use database from <code class=\"notranslate\">config/database.yml</code>  instead of hardcoded  <code class=\"notranslate\">postgres</code> .</p>\n<p dir=\"auto\">Note that there is one issue with this PR - what if the specified database in <code class=\"notranslate\">config/database.yml</code> doesn't exist?<br>\nI see 2 ways to solve that:</p>\n<ul dir=\"auto\">\n<li>ask user to create it manually, it's very trivial just execute <code class=\"notranslate\">createdb $NAME</code> which is provided by PostgreSQL.</li>\n<li>in case we fail, try again using <code class=\"notranslate\">postgres</code> database but note that even then our user might not have <code class=\"notranslate\">CREATEDB</code> permissions.</li>\n</ul>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Which users are allowed to connect with which databases can be configured in <code class=\"notranslate\">pg_hba.conf</code>.</p>\n<p dir=\"auto\">For example config like:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"local    rails    rails   peer\"><pre class=\"notranslate\"><code class=\"notranslate\">local    rails    rails   peer\n</code></pre></div>\n<p dir=\"auto\">Means that <code class=\"notranslate\">rails</code> user is allowed to connect using Unix domain socket with <code class=\"notranslate\">rails</code> DB user using <code class=\"notranslate\">rails</code> database. So connecting using <code class=\"notranslate\">postgres</code> database will be denied.<br>\nNote that this doesn't affect database permissions and <code class=\"notranslate\">rails</code> user might be allowed to query and modify <code class=\"notranslate\">postgres</code> database even while being connected using <code class=\"notranslate\">rails</code> database.</p>\n<p dir=\"auto\">It took me a while to hunt down this issue but basically application I was trying to setup (<code class=\"notranslate\">rails db:setup</code>) was failing with:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ rails db:setup --trace\n** Invoke db:setup (first_time)\n** Invoke db:create (first_time)\n** Invoke db:load_config (first_time)\n** Invoke environment (first_time)\n** Execute environment\n** Execute db:load_config\n** Execute db:create\nWe could not find your database: postgres. Which can be found in the database configuration file located at config/database.yml.\n\nTo resolve this issue:\n\n- Did you create the database for this app, or delete it? You may need to create your database.\n- Has the database name changed? Check your database.yml config has the correct database name.\n\nTo create your database, run:\n\n        bin/rails db:create\nCouldn't create 'rails' database. Please check your configuration.\nrails aborted!\nActiveRecord::NoDatabaseError: We could not find your database: postgres. Which can be found in the database configuration file located at config/database.yml.\n\nTo resolve this issue:\n\n- Did you create the database for this app, or delete it? You may need to create your database.\n- Has the database name changed? Check your database.yml config has the correct database name.\n\nTo create your database, run:\n\n        bin/rails db:create\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/postgresql_adapter.rb:81:in `rescue in new_client'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_handling.rb:313:in `retrieve_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_handling.rb:280:in `connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/postgresql_database_tasks.rb:12:in `connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/postgresql_database_tasks.rb:26:in `create'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:122:in `create'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:184:in `block in create_current'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:557:in `block (2 levels) in each_current_configuration'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:554:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:554:in `block in each_current_configuration'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:553:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:553:in `each_current_configuration'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:184:in `create_current'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/railties/databases.rake:45:in `block (2 levels) in &lt;main&gt;'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `block in execute'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `execute'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:219:in `block in invoke_with_call_chain'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `synchronize'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `invoke_with_call_chain'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:243:in `block in invoke_prerequisites'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:241:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:241:in `invoke_prerequisites'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:218:in `block in invoke_with_call_chain'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `synchronize'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `invoke_with_call_chain'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:188:in `invoke'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:160:in `invoke_task'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `block (2 levels) in top_level'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `block in top_level'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:125:in `run_with_threads'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:110:in `top_level'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/commands/rake/rake_command.rb:24:in `block (2 levels) in perform'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:186:in `standard_exception_handling'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/commands/rake/rake_command.rb:24:in `block in perform'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/rake_module.rb:59:in `with_application'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/commands/rake/rake_command.rb:18:in `perform'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/command.rb:51:in `invoke'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/commands.rb:18:in `&lt;main&gt;'\n&lt;internal:/usr/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb&gt;:37:in `require'\n&lt;internal:/usr/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb&gt;:37:in `require'\n/usr/lib/ruby/gems/3.0.0/gems/bootsnap-1.16.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:32:in `require'\nbin/rails:4:in `&lt;main&gt;'\n\nCaused by:\nPG::ConnectionBad: connection to server on socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot; failed: FATAL:  pg_hba.conf rejects connection for host &quot;[local]&quot;, user &quot;rails&quot;, database &quot;postgres&quot;, no encryption\n/usr/lib/ruby/gems/3.0.0/gems/pg-1.5.5/lib/pg/connection.rb:696:in `async_connect_or_reset'\n/usr/lib/ruby/gems/3.0.0/gems/pg-1.5.5/lib/pg/connection.rb:824:in `connect_to_hosts'\n/usr/lib/ruby/gems/3.0.0/gems/pg-1.5.5/lib/pg/connection.rb:759:in `new'\n/usr/lib/ruby/gems/3.0.0/gems/pg-1.5.5/lib/pg.rb:63:in `connect'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_handling.rb:313:in `retrieve_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_handling.rb:280:in `connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/postgresql_database_tasks.rb:12:in `connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/postgresql_database_tasks.rb:26:in `create'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:122:in `create'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:184:in `block in create_current'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:557:in `block (2 levels) in each_current_configuration'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:554:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:554:in `block in each_current_configuration'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:553:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:553:in `each_current_configuration'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:184:in `create_current'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/railties/databases.rake:45:in `block (2 levels) in &lt;main&gt;'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `block in execute'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `execute'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:219:in `block in invoke_with_call_chain'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `synchronize'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `invoke_with_call_chain'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:243:in `block in invoke_prerequisites'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:241:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:241:in `invoke_prerequisites'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:218:in `block in invoke_with_call_chain'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `synchronize'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `invoke_with_call_chain'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:188:in `invoke'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:160:in `invoke_task'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `block (2 levels) in top_level'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `block in top_level'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:125:in `run_with_threads'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:110:in `top_level'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/commands/rake/rake_command.rb:24:in `block (2 levels) in perform'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:186:in `standard_exception_handling'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/commands/rake/rake_command.rb:24:in `block in perform'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/rake_module.rb:59:in `with_application'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/commands/rake/rake_command.rb:18:in `perform'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/command.rb:51:in `invoke'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/commands.rb:18:in `&lt;main&gt;'\n&lt;internal:/usr/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb&gt;:37:in `require'\n&lt;internal:/usr/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb&gt;:37:in `require'\n/usr/lib/ruby/gems/3.0.0/gems/bootsnap-1.16.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:32:in `require'\nbin/rails:4:in `&lt;main&gt;'\nTasks: TOP =&gt; db:setup =&gt; db:create\"><pre class=\"notranslate\"><code class=\"notranslate\">$ rails db:setup --trace\n** Invoke db:setup (first_time)\n** Invoke db:create (first_time)\n** Invoke db:load_config (first_time)\n** Invoke environment (first_time)\n** Execute environment\n** Execute db:load_config\n** Execute db:create\nWe could not find your database: postgres. Which can be found in the database configuration file located at config/database.yml.\n\nTo resolve this issue:\n\n- Did you create the database for this app, or delete it? You may need to create your database.\n- Has the database name changed? Check your database.yml config has the correct database name.\n\nTo create your database, run:\n\n        bin/rails db:create\nCouldn't create 'rails' database. Please check your configuration.\nrails aborted!\nActiveRecord::NoDatabaseError: We could not find your database: postgres. Which can be found in the database configuration file located at config/database.yml.\n\nTo resolve this issue:\n\n- Did you create the database for this app, or delete it? You may need to create your database.\n- Has the database name changed? Check your database.yml config has the correct database name.\n\nTo create your database, run:\n\n        bin/rails db:create\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/postgresql_adapter.rb:81:in `rescue in new_client'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_handling.rb:313:in `retrieve_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_handling.rb:280:in `connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/postgresql_database_tasks.rb:12:in `connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/postgresql_database_tasks.rb:26:in `create'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:122:in `create'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:184:in `block in create_current'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:557:in `block (2 levels) in each_current_configuration'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:554:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:554:in `block in each_current_configuration'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:553:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:553:in `each_current_configuration'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:184:in `create_current'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/railties/databases.rake:45:in `block (2 levels) in &lt;main&gt;'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `block in execute'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `execute'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:219:in `block in invoke_with_call_chain'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `synchronize'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `invoke_with_call_chain'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:243:in `block in invoke_prerequisites'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:241:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:241:in `invoke_prerequisites'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:218:in `block in invoke_with_call_chain'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `synchronize'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `invoke_with_call_chain'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:188:in `invoke'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:160:in `invoke_task'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `block (2 levels) in top_level'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `block in top_level'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:125:in `run_with_threads'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:110:in `top_level'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/commands/rake/rake_command.rb:24:in `block (2 levels) in perform'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:186:in `standard_exception_handling'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/commands/rake/rake_command.rb:24:in `block in perform'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/rake_module.rb:59:in `with_application'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/commands/rake/rake_command.rb:18:in `perform'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/command.rb:51:in `invoke'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/commands.rb:18:in `&lt;main&gt;'\n&lt;internal:/usr/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb&gt;:37:in `require'\n&lt;internal:/usr/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb&gt;:37:in `require'\n/usr/lib/ruby/gems/3.0.0/gems/bootsnap-1.16.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:32:in `require'\nbin/rails:4:in `&lt;main&gt;'\n\nCaused by:\nPG::ConnectionBad: connection to server on socket \"/var/run/postgresql/.s.PGSQL.5432\" failed: FATAL:  pg_hba.conf rejects connection for host \"[local]\", user \"rails\", database \"postgres\", no encryption\n/usr/lib/ruby/gems/3.0.0/gems/pg-1.5.5/lib/pg/connection.rb:696:in `async_connect_or_reset'\n/usr/lib/ruby/gems/3.0.0/gems/pg-1.5.5/lib/pg/connection.rb:824:in `connect_to_hosts'\n/usr/lib/ruby/gems/3.0.0/gems/pg-1.5.5/lib/pg/connection.rb:759:in `new'\n/usr/lib/ruby/gems/3.0.0/gems/pg-1.5.5/lib/pg.rb:63:in `connect'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_handling.rb:313:in `retrieve_connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/connection_handling.rb:280:in `connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/postgresql_database_tasks.rb:12:in `connection'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/postgresql_database_tasks.rb:26:in `create'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:122:in `create'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:184:in `block in create_current'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:557:in `block (2 levels) in each_current_configuration'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:554:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:554:in `block in each_current_configuration'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:553:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:553:in `each_current_configuration'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/tasks/database_tasks.rb:184:in `create_current'\n/usr/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8.1/lib/active_record/railties/databases.rake:45:in `block (2 levels) in &lt;main&gt;'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `block in execute'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:281:in `execute'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:219:in `block in invoke_with_call_chain'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `synchronize'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `invoke_with_call_chain'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:243:in `block in invoke_prerequisites'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:241:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:241:in `invoke_prerequisites'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:218:in `block in invoke_with_call_chain'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `synchronize'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:199:in `invoke_with_call_chain'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/task.rb:188:in `invoke'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:160:in `invoke_task'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `block (2 levels) in top_level'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `each'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:116:in `block in top_level'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:125:in `run_with_threads'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:110:in `top_level'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/commands/rake/rake_command.rb:24:in `block (2 levels) in perform'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/application.rb:186:in `standard_exception_handling'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/commands/rake/rake_command.rb:24:in `block in perform'\n/usr/lib/ruby/gems/3.0.0/gems/rake-13.0.6/lib/rake/rake_module.rb:59:in `with_application'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/commands/rake/rake_command.rb:18:in `perform'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/command.rb:51:in `invoke'\n/usr/lib/ruby/gems/3.0.0/gems/railties-7.0.8.1/lib/rails/commands.rb:18:in `&lt;main&gt;'\n&lt;internal:/usr/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb&gt;:37:in `require'\n&lt;internal:/usr/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb&gt;:37:in `require'\n/usr/lib/ruby/gems/3.0.0/gems/bootsnap-1.16.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:32:in `require'\nbin/rails:4:in `&lt;main&gt;'\nTasks: TOP =&gt; db:setup =&gt; db:create\n</code></pre></div>\n<p dir=\"auto\">Notice the very misleading messages:</p>\n<blockquote>\n<p dir=\"auto\">We could not find your database: <strong>postgres</strong>. Which can be found in the database configuration file located at <em>config/database.yml</em>.<br>\nCouldn't create '<strong>rails</strong>' database. Please check your configuration.<br>\n...<br>\nActiveRecord::NoDatabaseError: We could not find your database: <strong>postgres</strong>. Which can be found in the database configuration file located at <em>config/database.yml</em>.</p>\n</blockquote>\n<p dir=\"auto\">While in <code class=\"notranslate\">config/database.yml</code> I have <code class=\"notranslate\">database: rails</code> - really a hair pulling moment 🤯</p>\n<p dir=\"auto\">And also you can see there</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"PG::ConnectionBad: connection to server on socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot; failed: FATAL:  pg_hba.conf rejects connection for host &quot;[local]&quot;, user &quot;rails&quot;, database &quot;postgres&quot;, no encryption\"><pre class=\"notranslate\"><code class=\"notranslate\">PG::ConnectionBad: connection to server on socket \"/var/run/postgresql/.s.PGSQL.5432\" failed: FATAL:  pg_hba.conf rejects connection for host \"[local]\", user \"rails\", database \"postgres\", no encryption\n</code></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51547",
            "title": "ActiveRecord suppport authentication with non-postgres database",
            "date_modified": "2024-04-11T10:14:22.000Z",
            "date_published": "2024-04-11T09:59:43.000Z",
            "author": {
                "name": "davispuh",
                "url": "https://github.com/davispuh"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/245443?u=a95b823cd933875b07547e7bd1a81ae227e83603&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Rails 6.0 upgrade mentioned that behaviour will change in 7.1 (see <a href=\"https://guides.rubyonrails.org/upgrading_ruby_on_rails.html#active-storage-assignment-behavior-change\" rel=\"nofollow\">https://guides.rubyonrails.org/upgrading_ruby_on_rails.html#active-storage-assignment-behavior-change</a>). But it at least formally did not, see <a href=\"https://guides.rubyonrails.org/7_1_release_notes.html#active-storage-removals\" rel=\"nofollow\">https://guides.rubyonrails.org/7_1_release_notes.html#active-storage-removals</a></p>",
            "url": "https://github.com/rails/rails/pull/51538",
            "title": "[ci skip] Fix documented version for `multiple_file_field_include_hidden`",
            "date_modified": "2024-04-13T07:58:34.000Z",
            "date_published": "2024-04-10T09:09:31.000Z",
            "author": {
                "name": "schmijos",
                "url": "https://github.com/schmijos"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Javascript and CSS is part of the View layer of MVC. These guides can be grouped under the View section of the guides.</p>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/28561/320984001-eae8a155-24a4-4e11-a914-94dc76437431.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8yODU2MS8zMjA5ODQwMDEtZWFlOGExNTUtMjRhNC00ZTExLWE5MTQtOTRkYzc2NDM3NDMxLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MTklMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDE5VDA0MDEzMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWMzZTQxMDQzOWFlODg4YjY2NjkyYzNhNWY0OWQ2MWU4YjIwYmMyOGExNjczN2RiMTRhMmQ0MGYwNGQ0ODdjZTAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.CXoQzzH9gbIXOsgOrS27qGute3gqHpxzq1ja1hnjb2U\"><img width=\"1054\" alt=\"image\" src=\"https://private-user-images.githubusercontent.com/28561/320984001-eae8a155-24a4-4e11-a914-94dc76437431.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8yODU2MS8zMjA5ODQwMDEtZWFlOGExNTUtMjRhNC00ZTExLWE5MTQtOTRkYzc2NDM3NDMxLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MTklMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDE5VDA0MDEzMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWMzZTQxMDQzOWFlODg4YjY2NjkyYzNhNWY0OWQ2MWU4YjIwYmMyOGExNjczN2RiMTRhMmQ0MGYwNGQ0ODdjZTAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.CXoQzzH9gbIXOsgOrS27qGute3gqHpxzq1ja1hnjb2U\" style=\"max-width: 100%;\"></a>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51534",
            "title": "Move Javascript and Asset Pipeline guides under Views section",
            "date_modified": "2024-04-09T19:52:52.000Z",
            "date_published": "2024-04-09T19:52:39.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">The \"Digging Deeper\" section is currently very large. We can move the advanced Active Record guides to their own section.<br>\nThis also includes the WIP \"AR encryption\" and \"AR Postgres\" guides.</p>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/28561/320978644-9bd7fe45-66f8-42c4-8eeb-bb1ade9e8e0c.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8yODU2MS8zMjA5Nzg2NDQtOWJkN2ZlNDUtNjZmOC00MmM0LThlZWItYmIxYWRlOWU4ZTBjLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MTklMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDE5VDA0MDEzMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWY0ODgxZTcyOTkzN2VlOTE0NTY1MzE3YmY4ZmZmYmVkOWQ2NDAzNDhiOGZjNWNmZTQ1ZjU2MGFiZjZjNTFmZmYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.P2o68Mu60hyAgOAiSijhu6ZEGL13ph8eXjHCYo123ms\"><img width=\"1110\" alt=\"image\" src=\"https://private-user-images.githubusercontent.com/28561/320978644-9bd7fe45-66f8-42c4-8eeb-bb1ade9e8e0c.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8yODU2MS8zMjA5Nzg2NDQtOWJkN2ZlNDUtNjZmOC00MmM0LThlZWItYmIxYWRlOWU4ZTBjLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MTklMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDE5VDA0MDEzMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWY0ODgxZTcyOTkzN2VlOTE0NTY1MzE3YmY4ZmZmYmVkOWQ2NDAzNDhiOGZjNWNmZTQ1ZjU2MGFiZjZjNTFmZmYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.P2o68Mu60hyAgOAiSijhu6ZEGL13ph8eXjHCYo123ms\" style=\"max-width: 100%;\"></a>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51533",
            "title": "Move \"Advanced Active Record\" guides to separate section [ci-skip]",
            "date_modified": "2024-04-17T14:57:07.000Z",
            "date_published": "2024-04-09T19:32:30.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/14981592?u=11406fb0121b15a93b3305388377a57b4d9c96f9&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">These tests require certain tools to be available, if they aren't these tests will fail. Skip instead.</p>",
            "url": "https://github.com/rails/rails/pull/51511",
            "title": "Skip ActiveStorage previewer tests if required tools are unavailable",
            "date_modified": "2024-04-07T13:14:53.000Z",
            "date_published": "2024-04-07T13:14:48.000Z",
            "author": {
                "name": "Earlopain",
                "url": "https://github.com/Earlopain"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/30030?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Assigning <code class=\"notranslate\">ActionDispatch::Response</code> to <code class=\"notranslate\">self.response</code> causes the response body to be buffered (and potentially evaluated multiple times).</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class StreamingController &lt; ApplicationController\n  def simple\n    body = Enumerator.new do |enumerator|\n      enumerator &lt;&lt; &quot;.&quot; * 1024\n      \n      100.times do |i|\n        enumerator &lt;&lt; &quot;This is line #{i}\\n&quot;\n        sleep 0.1\n      end\n    end\n\n    # Works, puma, falcon, Rails 7.1\n    # self.response = Rack::Response[200, {&quot;content-type&quot; =&gt; &quot;text/plain&quot;}, body]\n\n    # Doesn't work because the response is buffered:\n    self.response = ActionDispatch::Response.new(200, {&quot;content-type&quot; =&gt; &quot;text/plain&quot;}, body)\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">StreamingController</span> &lt; <span class=\"pl-v\">ApplicationController</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">simple</span>\n    <span class=\"pl-s1\">body</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Enumerator</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">enumerator</span>|\n      <span class=\"pl-s1\">enumerator</span> &lt;&lt; <span class=\"pl-s\">\".\"</span> * <span class=\"pl-c1\">1024</span>\n      \n      <span class=\"pl-c1\">100</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">times</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">i</span>|\n        <span class=\"pl-s1\">enumerator</span> &lt;&lt; <span class=\"pl-s\">\"This is line <span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">i</span><span class=\"pl-kos\">}</span></span><span class=\"pl-cce\">\\n</span>\"</span>\n        <span class=\"pl-en\">sleep</span> <span class=\"pl-c1\">0.1</span>\n      <span class=\"pl-k\">end</span>\n    <span class=\"pl-k\">end</span>\n\n    <span class=\"pl-c\"># Works, puma, falcon, Rails 7.1</span>\n    <span class=\"pl-c\"># self.response = Rack::Response[200, {\"content-type\" =&gt; \"text/plain\"}, body]</span>\n\n    <span class=\"pl-c\"># Doesn't work because the response is buffered:</span>\n    <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">response</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">ActionDispatch</span>::<span class=\"pl-v\">Response</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">200</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span><span class=\"pl-s\">\"content-type\"</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s\">\"text/plain\"</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">body</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">In both Puma and Falcon, the response is buffered without this change.</p>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/willcosgrove/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/willcosgrove\">@willcosgrove</a></p>",
            "url": "https://github.com/rails/rails/pull/51508",
            "title": "Don't buffer things that shouldn't be buffered.",
            "date_modified": "2024-04-06T10:08:35.000Z",
            "date_published": "2024-04-06T09:53:30.000Z",
            "author": {
                "name": "ioquatix",
                "url": "https://github.com/ioquatix"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #40109.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"686120863\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/40109\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/40109/hovercard\" href=\"https://github.com/rails/rails/issues/40109\">#40109</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Updates <code class=\"notranslate\">ActiveRecord::Reflection::PolymorphicReflection#join_scopes</code> to not apply the previous reflection's join scopes if it's a through reflection, as the scope will eventually be built in the context of the polymorphic reflection.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51507",
            "title": "[Fix #40109] Incorrect joins for polymorphic `has_many through:` with association scope",
            "date_modified": "2024-04-09T04:55:17.000Z",
            "date_published": "2024-04-06T03:10:42.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/82609260?u=d63aa3c5712ebb3b04910843b99919a3678817ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\"><a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/jathayde/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/jathayde\">@jathayde</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/AmandaPerino/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/AmandaPerino\">@AmandaPerino</a> This Pull Request has been created to add the highlighting to the navigation bar.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds on scroll event to control highlighting and css rules for the for highlight.</p>\n<p dir=\"auto\">Right now there are comments in the css labeling the parts that draw the highlight and the square because I wasn't sure it would be obvious what the pseudo-elements were for, but I can remove them if you want.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51504",
            "title": "add navbar highlighting to guides [ci skip]",
            "date_modified": "2024-04-16T16:57:03.000Z",
            "date_published": "2024-04-05T17:27:03.000Z",
            "author": {
                "name": "MooseCowBear",
                "url": "https://github.com/MooseCowBear"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/39735028?u=91330295c614cf3cec0b64bf242a14fc2ceb358f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This is a follow up to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2113553144\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50941\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50941/hovercard\" href=\"https://github.com/rails/rails/pull/50941\">#50941</a>. \"Did you mean?\" style errors were introduced in <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/2530160/hovercard\" href=\"https://github.com/rails/rails/commit/2530160\"><tt>2530160</tt></a> for unrecognized commands. With this change, we give the user the option to retry with the corrected command name - instead of needing to retype and rerun the command.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">We iterate through all the possible commands returned by <code class=\"notranslate\">DidYouMean::SpellChecker</code> and give the user the option to rerun the suggested correction.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\" ➜  myapp git:(main) bin/rails vershen\nUnrecognized command &quot;vershen&quot;\n\nDid you mean?  version [Yn] y\nRails 7.2.0.alpha\"><pre class=\"notranslate\"><code class=\"notranslate\"> ➜  myapp git:(main) bin/rails vershen\nUnrecognized command \"vershen\"\n\nDid you mean?  version [Yn] y\nRails 7.2.0.alpha\n</code></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51502",
            "title": "UnrecognizedCommandError can be corrected and retried",
            "date_modified": "2024-04-08T23:03:08.000Z",
            "date_published": "2024-04-05T15:19:49.000Z",
            "author": {
                "name": "andrewn617",
                "url": "https://github.com/andrewn617"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1964376?u=591370994dd91ec3d5f2a345252a653406858be0&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">As requested by <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/AmandaPerino/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/AmandaPerino\">@AmandaPerino</a>, this PR aims to improve the accessibility of the guides. It continues on the work in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2192196940\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51341\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51341/hovercard\" href=\"https://github.com/rails/rails/pull/51341\">#51341</a> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2200047184\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51372\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51372/hovercard\" href=\"https://github.com/rails/rails/pull/51372\">#51372</a> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2201321638\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51385\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51385/hovercard\" href=\"https://github.com/rails/rails/pull/51385\">#51385</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2214447407\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51444\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51444/hovercard\" href=\"https://github.com/rails/rails/pull/51444\">#51444</a>. It also addresses whatever wasn't addressed from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2192196940\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51341\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51341/hovercard?comment_id=2007717282&amp;comment_type=issue_comment\" href=\"https://github.com/rails/rails/pull/51341#issuecomment-2007717282\">#51341 (comment)</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Each commit in the PR has a descriptive title and often a message why the change was made, which I recommend we keep when merging instead of squashing it. Screenshots are listed below. A few of the commits that introduce fixes or features are listed here:</p>\n<ul dir=\"auto\">\n<li>\n<p dir=\"auto\"><a href=\"https://github.com/rails/rails/commit/4f2b25ba54d82bc897fb33f681214f5bf05cb0bd\">Add label and accessible content</a></p>\n<p dir=\"auto\">Having a select element without a label outside a form isn't directly problematic, but the text Version is the label of the select and should act as such.</p>\n<p dir=\"auto\">Because the select element is set up to browse to a different page which loses the current focus position, users must be instructed about this context change. It would be much better to display this content to everyone, but having this for screenreaders only is better than not having it at all.</p>\n</li>\n<li>\n<p dir=\"auto\"><a href=\"https://github.com/rails/rails/commit/1863e5590cecac6ecfd0c4c031f1c4c967d0d768\">Fix accessible text for voice commands</a></p>\n<p dir=\"auto\">Using the title attribute means some screenreaders will not be able to show the expanded accessible text at all, but using aria-label loses the hover text currently available.</p>\n<p dir=\"auto\">If the title attribute is still used, the accessible label should start with the same content as the visible label. This is necessary for most voice operated tooling which only match starting text.</p>\n<p dir=\"auto\">Having \"Return\" as the start of the accessible label and \"Guides\" as the start of the visible label means in most cases users that rely on voice commands will not be able to browse here.</p>\n</li>\n<li>\n<p dir=\"auto\"><a href=\"https://github.com/rails/rails/commit/9669f4be012f34488d52e16d0b6e40a11399e414\">Add landmarks to all guide pages</a></p>\n<p dir=\"auto\">Landmarks such as header, section, footer, article, and the main content landmark help navigating when using assistive tooling.</p>\n<p dir=\"auto\">Since each guide is a self-contained article, a header section with the guide introduction and navigation, a footer section which is not part of the content but a call to action, and the rest can be clearly separated, landmarks here are appropriate.</p>\n</li>\n<li>\n<p dir=\"auto\"><a href=\"https://github.com/rails/rails/commit/b33278c01384a7612d0adf2270456718181b5acb\">Make back-to-top work without JavaScript</a></p>\n<p dir=\"auto\">By doing feature detection on animation timeline CSS, the graceful degradation can take care of the visibility of the back-to-top button. In case no JavaScript is available, it should always be shown.</p>\n</li>\n<li>\n<p dir=\"auto\"><a href=\"https://github.com/rails/rails/commit/430f27c959f0df30b6baeea3d688d8fa5448f842\">Enable back-to-top without JavaScript</a></p>\n<p dir=\"auto\">And add an accessible label to the button. It would be better to just show the text back to top underneath the arrow, but this change is again better than not having it at all.</p>\n</li>\n<li>\n<p dir=\"auto\"><a href=\"https://github.com/rails/rails/commit/f2ae0318736a286a13d896cad8527bd2d1443c50\">Consistent scrolling behaviour respecting pref</a></p>\n<p dir=\"auto\">Use the preference to detect if a user wants reduced motion and if not enable smooth scrolling. This takes care of the back-to-top smooth scrolling, and also adds it to anchor links. If this is unwanted, the change can be reverted and a matchmedia check should be done in JavaScript instead before smooth scrolling</p>\n</li>\n<li>\n<p dir=\"auto\"><a href=\"https://github.com/rails/rails/commit/653b292ac26b2df59ebeb44fc9415ebc8130243b\">Add skip links to quickly navigate past navs</a></p>\n<p dir=\"auto\">Skip links are a common practice to allow keyboard and other users to skip past large blocks of content that are present on every page, which in this case are the secondary navigation at the top,<br>\nthe version selector, and the chapter navigation.</p>\n<p dir=\"auto\">The skip links only show when focused.</p>\n</li>\n<li>\n<p dir=\"auto\"><a href=\"https://github.com/rails/rails/commit/e2cfe8fdfccfcb47aec2f358b0badab79c817981\">Wrap tables to make them responsive</a></p>\n</li>\n<li>\n<p dir=\"auto\"><a href=\"https://github.com/rails/rails/commit/ad966a42de9e166ab33026b28fc8dda64f5fbdd1\">Make back-to-top link to skip link</a></p>\n<p dir=\"auto\">This allow screen readers to announce something, because linking to an empty fragment or the body element doesn't announce anything useful.</p>\n</li>\n<li>\n<p dir=\"auto\"><a href=\"https://github.com/rails/rails/commit/2557614d872629462e354b2bd1536736aa2077be\">Add branded selectable color</a></p>\n<p dir=\"auto\">Fixes selecting text in dark mode and brands it for both modes.</p>\n</li>\n<li>\n<p dir=\"auto\"><a href=\"https://github.com/rails/rails/commit/f9eaeb18d8c5712ae0f2edf351ff9829c996bf78\">Make more info and guides index accessible</a></p>\n<ul dir=\"auto\">\n<li>Adds aria-controls, which binds the control to the content.</li>\n<li>Adds aria-expanded, which signals the current expansion state.</li>\n<li>Adds focus handling, which focuses the first link or the button<br>\ndepending on the expansion state.</li>\n<li>Adds keyboard closing for the more info button.</li>\n<li>Adds outside click tracking to close the expanded content.</li>\n<li>Fixes the more info button to not be focusable.</li>\n</ul>\n</li>\n<li>\n<p dir=\"auto\"><a href=\"https://github.com/rails/rails/commit/9c4cfd00492a2bd55db9ed5b5a9a616a962c153a\">Fix dark mode for guide selector</a></p>\n</li>\n<li>\n<p dir=\"auto\"><a href=\"https://github.com/rails/rails/commit/93f9819c62890301f398e752b6083c9d2c9f6c40\">Add accessible label for guide navigator</a></p>\n</li>\n</ul>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Please note that this PR doesn't necessarily make the guides completely accessible and we should continue to improve on this, but this gets us (a big) part of the way there, together with the changes that were already made prior.</p>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Before</th>\n<th>After</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>You could not focus the selector pressing \"Version\"</td>\n<td><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/1964376/320020152-58f5d1a7-a6ef-47e2-86ac-6e1e0288a18c.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDE1Mi01OGY1ZDFhNy1hNmVmLTQ3ZTItODZhYy02ZTFlMDI4OGExOGMucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZjllN2RiYTlkNGU3ZGJlOTZkZmI2MjZiN2NiZTg4MTRjZjU1YmEyYTc3Y2IxMTllZTUwZmUzOGM5MjVlMjc2MyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.58c8GVgCygY3Hq9YDkV7h2dCMbHRFGHFnUpkMN5Zf5Q\"><img src=\"https://private-user-images.githubusercontent.com/1964376/320020152-58f5d1a7-a6ef-47e2-86ac-6e1e0288a18c.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDE1Mi01OGY1ZDFhNy1hNmVmLTQ3ZTItODZhYy02ZTFlMDI4OGExOGMucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZjllN2RiYTlkNGU3ZGJlOTZkZmI2MjZiN2NiZTg4MTRjZjU1YmEyYTc3Y2IxMTllZTUwZmUzOGM5MjVlMjc2MyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.58c8GVgCygY3Hq9YDkV7h2dCMbHRFGHFnUpkMN5Zf5Q\" alt=\"a11y-focusable-label-version\" style=\"max-width: 100%;\"></a></td>\n</tr>\n<tr>\n<td>The element (version selector) was broken if JavaScript was disabled</td>\n<td><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/1964376/320020072-0a93871b-c55a-4f9b-a524-86f6024f39b7.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDA3Mi0wYTkzODcxYi1jNTVhLTRmOWItYTUyNC04NmY2MDI0ZjM5YjcucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NzQwMzE4NjNkNGE3MDllZWJkZGRkY2NiYjEwYzE4ZmE0MTZlNmQ3NGQ2MDNmM2IzM2Q0YzgyNzI4MmEwOWU4NyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.e64evThMu8FFKQ3sJct-64lqPg2lM6yfOpr4yb9yMOM\"><img src=\"https://private-user-images.githubusercontent.com/1964376/320020072-0a93871b-c55a-4f9b-a524-86f6024f39b7.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDA3Mi0wYTkzODcxYi1jNTVhLTRmOWItYTUyNC04NmY2MDI0ZjM5YjcucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NzQwMzE4NjNkNGE3MDllZWJkZGRkY2NiYjEwYzE4ZmE0MTZlNmQ3NGQ2MDNmM2IzM2Q0YzgyNzI4MmEwOWU4NyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.e64evThMu8FFKQ3sJct-64lqPg2lM6yfOpr4yb9yMOM\" alt=\"a11y-no-js-desktop\" style=\"max-width: 100%;\"></a></td>\n</tr>\n<tr>\n<td>The element (version selector) was broken if JavaScript was disabled</td>\n<td><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/1964376/320020087-5075e1ac-c888-496e-8fa4-4f9066d6aa43.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDA4Ny01MDc1ZTFhYy1jODg4LTQ5NmUtOGZhNC00ZjkwNjZkNmFhNDMucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YWMzYjZkODY2ZGIwNmE2MjdhNjA1MjQ5N2NhYTA3NjY4MGM1MmM3YmJkZjlkZWIzZDgxZTcwNTU5ODk3OTc1NCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.pDu5JsqcvkfX70PHoB7fQWqjtsObNX5iuOXcx-A4zgo\"><img src=\"https://private-user-images.githubusercontent.com/1964376/320020087-5075e1ac-c888-496e-8fa4-4f9066d6aa43.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDA4Ny01MDc1ZTFhYy1jODg4LTQ5NmUtOGZhNC00ZjkwNjZkNmFhNDMucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YWMzYjZkODY2ZGIwNmE2MjdhNjA1MjQ5N2NhYTA3NjY4MGM1MmM3YmJkZjlkZWIzZDgxZTcwNTU5ODk3OTc1NCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.pDu5JsqcvkfX70PHoB7fQWqjtsObNX5iuOXcx-A4zgo\" alt=\"a11y-no-js-mobile\" style=\"max-width: 100%;\"></a></td>\n</tr>\n<tr>\n<td><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/1964376/320020106-29e41733-60ce-4933-9d4f-36a9fad972e8.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDEwNi0yOWU0MTczMy02MGNlLTQ5MzMtOWQ0Zi0zNmE5ZmFkOTcyZTgucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZmIwMGY3ZTdiMjM3YWJmMGUxNTJlYTk0NTM1ZDc3YjE0NGY0ZGI5N2E4MTBjY2ZkNTE1MTc1MDA0YjJmZmRiNCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.R_sNAFdbSZ1p1nb3R1HRlNZyTgEFV0NP59qzh2Cjwdk\"><img src=\"https://private-user-images.githubusercontent.com/1964376/320020106-29e41733-60ce-4933-9d4f-36a9fad972e8.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDEwNi0yOWU0MTczMy02MGNlLTQ5MzMtOWQ0Zi0zNmE5ZmFkOTcyZTgucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZmIwMGY3ZTdiMjM3YWJmMGUxNTJlYTk0NTM1ZDc3YjE0NGY0ZGI5N2E4MTBjY2ZkNTE1MTc1MDA0YjJmZmRiNCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.R_sNAFdbSZ1p1nb3R1HRlNZyTgEFV0NP59qzh2Cjwdk\" alt=\"a11y-before-table-wrap\" style=\"max-width: 100%;\"></a></td>\n<td><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/1964376/320020116-303818b1-d3af-45e3-9ea7-08121c91f04c.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDExNi0zMDM4MThiMS1kM2FmLTQ1ZTMtOWVhNy0wODEyMWM5MWYwNGMucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NmFkZTFjZDZjNWFkOGI4N2VhOGY2YTdmY2UxMzNhODI1MGEzNmUxNzRjNGIyZDQ5MjhmOGY0ODVkMTg0MGNiMyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.bltIpx69Ombn_i2BtwCssZLNjImS-t1aEcpSCJd_9gk\"><img src=\"https://private-user-images.githubusercontent.com/1964376/320020116-303818b1-d3af-45e3-9ea7-08121c91f04c.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDExNi0zMDM4MThiMS1kM2FmLTQ1ZTMtOWVhNy0wODEyMWM5MWYwNGMucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NmFkZTFjZDZjNWFkOGI4N2VhOGY2YTdmY2UxMzNhODI1MGEzNmUxNzRjNGIyZDQ5MjhmOGY0ODVkMTg0MGNiMyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.bltIpx69Ombn_i2BtwCssZLNjImS-t1aEcpSCJd_9gk\" alt=\"a11y-after-table-wrap\" style=\"max-width: 100%;\"></a></td>\n</tr>\n<tr>\n<td>You could not skip past the secondary top navigation</td>\n<td><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/1964376/320020171-8d2c1af0-7575-4089-8e89-e7cfb42c8975.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDE3MS04ZDJjMWFmMC03NTc1LTQwODktOGU4OS1lN2NmYjQyYzg5NzUucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZWViMWJjMzU2ODNlNmUyMmQ2NjhlM2FmMjUyYjUwMGI4ZGFiMmJkNTdkZTg0ODJmYmNiZTI1NDI3NGNjYTNhNyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.0ln00wwOGIo1-BjWEjjppMD1gLEq-JenFOLplJpm8LY\"><img src=\"https://private-user-images.githubusercontent.com/1964376/320020171-8d2c1af0-7575-4089-8e89-e7cfb42c8975.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDE3MS04ZDJjMWFmMC03NTc1LTQwODktOGU4OS1lN2NmYjQyYzg5NzUucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZWViMWJjMzU2ODNlNmUyMmQ2NjhlM2FmMjUyYjUwMGI4ZGFiMmJkNTdkZTg0ODJmYmNiZTI1NDI3NGNjYTNhNyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.0ln00wwOGIo1-BjWEjjppMD1gLEq-JenFOLplJpm8LY\" alt=\"a11y-main-skip-link\" style=\"max-width: 100%;\"></a></td>\n</tr>\n<tr>\n<td>You could not skip past the chapter navigation</td>\n<td><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/1964376/320020188-87cccb26-f7ae-4ae9-a382-145d6cbd963e.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDE4OC04N2NjY2IyNi1mN2FlLTRhZTktYTM4Mi0xNDVkNmNiZDk2M2UucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9Mzc0YzgzNDFiMzllNDljZGI3ZGQyZTgxMTAzYWYyZWE5NGRlOTc1YTQ1ZjkwZmUwZGQyZTUyYTRjNmRjNWNlYiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.XySXx5r50bAqcuQ7Tis94KpC_e5ecCEi6sB3_Qva8SY\"><img src=\"https://private-user-images.githubusercontent.com/1964376/320020188-87cccb26-f7ae-4ae9-a382-145d6cbd963e.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDE4OC04N2NjY2IyNi1mN2FlLTRhZTktYTM4Mi0xNDVkNmNiZDk2M2UucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9Mzc0YzgzNDFiMzllNDljZGI3ZGQyZTgxMTAzYWYyZWE5NGRlOTc1YTQ1ZjkwZmUwZGQyZTUyYTRjNmRjNWNlYiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.XySXx5r50bAqcuQ7Tis94KpC_e5ecCEi6sB3_Qva8SY\" alt=\"a11y-chapter-skip-link\" style=\"max-width: 100%;\"></a></td>\n</tr>\n<tr>\n<td><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/1964376/320020259-e9e9b56f-08de-45d8-955f-c7884b33a387.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDI1OS1lOWU5YjU2Zi0wOGRlLTQ1ZDgtOTU1Zi1jNzg4NGIzM2EzODcucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NjQ2YTNkOWYxMjg4NGQ2NDg1NTMyOTdhNGQ1NmU1YmY3NmYxOGY2ZDA4YzBhYjc5MzI5M2QwMmQxNWNjYTUxYyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.whwe6yQnpru21zhShvOr2OOJ6fAqt7X0rbKhyZ-ZKJY\"><img src=\"https://private-user-images.githubusercontent.com/1964376/320020259-e9e9b56f-08de-45d8-955f-c7884b33a387.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDI1OS1lOWU5YjU2Zi0wOGRlLTQ1ZDgtOTU1Zi1jNzg4NGIzM2EzODcucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NjQ2YTNkOWYxMjg4NGQ2NDg1NTMyOTdhNGQ1NmU1YmY3NmYxOGY2ZDA4YzBhYjc5MzI5M2QwMmQxNWNjYTUxYyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.whwe6yQnpru21zhShvOr2OOJ6fAqt7X0rbKhyZ-ZKJY\" alt=\"a11y-selectable-text-before\" style=\"max-width: 100%;\"></a></td>\n<td><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/1964376/320020241-c938bbde-54ee-480b-b295-6a91bdd8c7e7.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDI0MS1jOTM4YmJkZS01NGVlLTQ4MGItYjI5NS02YTkxYmRkOGM3ZTcucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MTM2YTc5NjY1OTE2NTNlMzE4NWMyMGJkYzQyOGVkOTc2YTUzNzQ2ZDQ1NzMzMTczYWIyMGQ4NTY0NjhkZWE3YyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.Qlu7laydZjSe-6wt_V6eT9JBjVJL6ijgAwZ_un6aEM0\"><img src=\"https://private-user-images.githubusercontent.com/1964376/320020241-c938bbde-54ee-480b-b295-6a91bdd8c7e7.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDI0MS1jOTM4YmJkZS01NGVlLTQ4MGItYjI5NS02YTkxYmRkOGM3ZTcucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MTM2YTc5NjY1OTE2NTNlMzE4NWMyMGJkYzQyOGVkOTc2YTUzNzQ2ZDQ1NzMzMTczYWIyMGQ4NTY0NjhkZWE3YyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.Qlu7laydZjSe-6wt_V6eT9JBjVJL6ijgAwZ_un6aEM0\" alt=\"a11y-selectable-text\" style=\"max-width: 100%;\"></a></td>\n</tr>\n<tr>\n<td>There was no label indicating what the select does</td>\n<td><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/1964376/320020285-cfaf0501-516b-4ad3-bc30-d77701f01164.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDI4NS1jZmFmMDUwMS01MTZiLTRhZDMtYmMzMC1kNzc3MDFmMDExNjQucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MjMxZDNkOWJkYzFiZmJkZGRhZDJhNGI2YTI2NDI4ZDliZTZkZjQwM2EyODk1Nzk0ZjlhMjc1NjkxODIzZTA2YiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.eOCMgb9LdI0lkccA8b-d5OtqD50Dkf5-0DPtxOV1cUk\"><img src=\"https://private-user-images.githubusercontent.com/1964376/320020285-cfaf0501-516b-4ad3-bc30-d77701f01164.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii8xOTY0Mzc2LzMyMDAyMDI4NS1jZmFmMDUwMS01MTZiLTRhZDMtYmMzMC1kNzc3MDFmMDExNjQucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQxOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MTlUMDQwMTMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MjMxZDNkOWJkYzFiZmJkZGRhZDJhNGI2YTI2NDI4ZDliZTZkZjQwM2EyODk1Nzk0ZjlhMjc1NjkxODIzZTA2YiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.eOCMgb9LdI0lkccA8b-d5OtqD50Dkf5-0DPtxOV1cUk\" alt=\"a11y-guide-selector\" style=\"max-width: 100%;\"></a></td>\n</tr>\n</tbody>\n</table>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51499",
            "title": "Improve accessibility",
            "date_modified": "2024-04-10T12:54:37.000Z",
            "date_published": "2024-04-05T13:53:30.000Z",
            "author": {
                "name": "SleeplessByte",
                "url": "https://github.com/SleeplessByte"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/989?u=a2b1f27b09b2d79482c3b655960d35b8603841c2&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">In some cases it's possible for <code class=\"notranslate\">path_params</code> to be passed into <code class=\"notranslate\">url_for</code> by an end-user of a rails app. Kaminari currently triggers this.</p>\n<p dir=\"auto\">It's also currently inconvenient to write a test to ensure this doesn't happen. Passing <code class=\"notranslate\">path_params: \"string\"</code> in a functional test crashes the test runner. (see <a href=\"https://github.com/rails/rails/compare/main...martinemde:rails:bug-report-path-params\">this example in a rails bug report template</a> that crashes.)</p>\n<p dir=\"auto\">A string value will cause a 500 error in rails internals. A hash <code class=\"notranslate\">?path_params[inject]=string</code> can be used to inject a path_param into the url generation. However, I don't believe there is any vulnerability since path_params are lower priority than actual params and get ignored when there are no matches. Also, given that the very similar <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"638213076\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/39616\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/39616/hovercard\" href=\"https://github.com/rails/rails/pull/39616\">#39616</a> did not raise alarm bells, I'm not considering this a vulnerability. Still, it is probably good to scrub this key. A vulnerability once existed for a similar problem: <a title=\"GHSA-r5jw-62xg-j433\" data-hovercard-type=\"advisory\" data-hovercard-url=\"/advisories/GHSA-r5jw-62xg-j433/hovercard\" href=\"https://github.com/advisories/GHSA-r5jw-62xg-j433\">GHSA-r5jw-62xg-j433</a></p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I was trying to fix a 500 caused by a security scan of rubygems.org. An unknown researcher sent a huge list of params to many pages, snipped here:</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/989/319817741-84f481a9-dfc5-40dd-93e9-1ccacd445489.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii85ODkvMzE5ODE3NzQxLTg0ZjQ4MWE5LWRmYzUtNDBkZC05M2U5LTFjY2FjZDQ0NTQ4OS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjQwNDE5JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MDQxOVQwNDAxMzFaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT03ZmJjYWZjOWRjODI4ZWY4NTViNDAxZDQxZWE5NjNkYTNkMDQ4MGRkMjJlNjhiY2FmODZjMThjMzdjY2M2MWE3JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCZhY3Rvcl9pZD0wJmtleV9pZD0wJnJlcG9faWQ9MCJ9.gfqS2BXq4fBB8ltnBqNolX44Ga9enECd6NeyG6o5nno\"><img src=\"https://private-user-images.githubusercontent.com/989/319817741-84f481a9-dfc5-40dd-93e9-1ccacd445489.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTM0OTk1OTEsIm5iZiI6MTcxMzQ5OTI5MSwicGF0aCI6Ii85ODkvMzE5ODE3NzQxLTg0ZjQ4MWE5LWRmYzUtNDBkZC05M2U5LTFjY2FjZDQ0NTQ4OS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjQwNDE5JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MDQxOVQwNDAxMzFaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT03ZmJjYWZjOWRjODI4ZWY4NTViNDAxZDQxZWE5NjNkYTNkMDQ4MGRkMjJlNjhiY2FmODZjMThjMzdjY2M2MWE3JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCZhY3Rvcl9pZD0wJmtleV9pZD0wJnJlcG9faWQ9MCJ9.gfqS2BXq4fBB8ltnBqNolX44Ga9enECd6NeyG6o5nno\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">This caused at least two 500 errors on rubygems.org, a minor annoyance but enough to potentially page someone on-call.</p>\n<p dir=\"auto\">I tracked the actual issue down to kaminari for which I opened <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2224269016\" data-permission-text=\"Title is private\" data-url=\"https://github.com/kaminari/kaminari/issues/1123\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/kaminari/kaminari/pull/1123/hovercard\" href=\"https://github.com/kaminari/kaminari/pull/1123\">kaminari/kaminari#1123</a>.</p>\n<p dir=\"auto\">While I think that this should be fixed in kaminari, I also think rails should fix this because it is somewhat difficult to write a test to ensure that this key is handled well. (see bug report template linked at top)</p>\n<p dir=\"auto\">This PR also saves one hash allocation and one merge for every URL generate that doesn't have a <code class=\"notranslate\">path_params:</code> key (most of them?), but the <code class=\"notranslate\">option = option.dup</code> might negate most of the benefit (it could be reconfigured to save that dup, most likely).</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">ActionDispatch::Journey::Formatter#generate</code> to only extract and merge path_params when it is a hash.</p>\n<p dir=\"auto\">This PR does not address in any way filtering <code class=\"notranslate\">path_params</code>. I believe kaminari should do this. However, this addresses the crash when path_params is not a Hash and makes most url generations slightly more efficient.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This is very similar to another fix by my colleague <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/simi/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/simi\">@simi</a> submitted to rails, <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"638213076\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/39616\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/39616/hovercard\" href=\"https://github.com/rails/rails/pull/39616\">#39616</a>, which I think also deserves attention for the same reason, if it is still applicable to current rails code.</p>\n<p dir=\"auto\">I'm also patching this on rubygems.org in the meantime so we don't get needless 500s.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51496",
            "title": "Handle path_params gracefully when a user sends `?path_params=string`",
            "date_modified": "2024-04-05T16:48:09.000Z",
            "date_published": "2024-04-05T04:01:48.000Z",
            "author": {
                "name": "martinemde",
                "url": "https://github.com/martinemde"
            }
        }
    ]
}