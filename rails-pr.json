{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4289625?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because the tests for exclusion validation is missing in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1239433073\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/45123\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/45123/hovercard\" href=\"https://github.com/rails/rails/pull/45123\">#45123</a> and I had to check the exclusivity of the beginless/endless validations as the change for 7.1.0beta1.</p>\n<blockquote>\n<p dir=\"auto\">The PR is a second try of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1899213976\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49298\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49298/hovercard\" href=\"https://github.com/rails/rails/pull/49298\">#49298</a> to reduce irrelevant rebase-commits.</p>\n</blockquote>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds tests for exclusion validation with beginless/endless range, based on the ones for inclusion validation.<br>\nAnd updates 7_1_release_notes.md and CHANGELOG.md for Active Model for conveniences.</p>\n<p dir=\"auto\">The behavior has not been changed.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49322",
            "title": "[skip ci][Docs][Tests] Add tests for validates_exclusion_of to 7.1.0b…",
            "date_modified": "2023-09-19T21:37:49.000Z",
            "date_published": "2023-09-19T21:37:45.000Z",
            "author": {
                "name": "hachi8833",
                "url": "https://github.com/hachi8833"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">To <a href=\"https://github.com/seanpdoyle/rails/pull/1#issuecomment-799656813\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/seanpdoyle/rails/pull/1/hovercard\">quote @-flavorjones</a></p>\n<blockquote>\n<p dir=\"auto\">asserting against string constants is error-prone and brittle, and it<br>\nwould be better to have a testing framework that asserted on semantic<br>\nequivalence</p>\n</blockquote>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">When appropriate, use <a href=\"https://github.com/rails/rails-dom-testing#dom-assertions\">assert_dom_equal</a> instead of <code class=\"notranslate\">assert_equal</code> for String comparisons of Action View Helper-constructed values.</p>\n<p dir=\"auto\">Some exceptions to that guideline are tests that assert equivalence of:</p>\n<ul dir=\"auto\">\n<li>instances of Objects</li>\n<li>URLs</li>\n<li>view partial paths</li>\n<li>String values not intended for HTML documents</li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49319",
            "title": "Use `assert_dom_equal` more in Action View Tests",
            "date_modified": "2023-09-19T19:59:21.000Z",
            "date_published": "2023-09-19T13:45:33.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/73684?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This pull request adds CHANGELOG entry to add bigdecimal as Active Support dependency<br>\nFollow up <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1882080663\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49152\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49152/hovercard\" href=\"https://github.com/rails/rails/pull/49152\">#49152</a> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1867524417\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49039\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49039/hovercard\" href=\"https://github.com/rails/rails/pull/49039\">#49039</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">bigdecimal_to_d.rb</code></li>\n</ul>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"require 'bigdecimal/util'\np &quot;Ruby version: #{RUBY_VERSION}&quot;\np &quot;BigDecimal version: #{BigDecimal::VERSION}&quot;\np &quot;123.455.to_d(5): #{123.455.to_d(5)}&quot;\"><pre class=\"notranslate\"><span class=\"pl-en\">require</span> <span class=\"pl-s\">'bigdecimal/util'</span>\n<span class=\"pl-en\">p</span> <span class=\"pl-s\">\"Ruby version: <span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-c1\">RUBY_VERSION</span><span class=\"pl-kos\">}</span></span>\"</span>\n<span class=\"pl-en\">p</span> <span class=\"pl-s\">\"BigDecimal version: <span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-v\">BigDecimal</span>::<span class=\"pl-c1\">VERSION</span><span class=\"pl-kos\">}</span></span>\"</span>\n<span class=\"pl-en\">p</span> <span class=\"pl-s\">\"123.455.to_d(5): <span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-c1\">123.455</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_d</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">5</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">}</span></span>\"</span></pre></div>\n<ul dir=\"auto\">\n<li>Ruby 2.7 and 3.0 rounds down</li>\n</ul>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ ruby bigdecimal_to_d.rb\n&quot;Ruby version: 2.7.8&quot;\n&quot;BigDecimal version: 2.0.0&quot;\n&quot;123.455.to_d(5): 0.12345e3&quot;\"><pre class=\"notranslate\">$ <span class=\"pl-en\">ruby</span> <span class=\"pl-en\">bigdecimal_to_d</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>\n<span class=\"pl-s\">\"Ruby version: 2.7.8\"</span>\n<span class=\"pl-s\">\"BigDecimal version: 2.0.0\"</span>\n<span class=\"pl-s\">\"123.455.to_d(5): 0.12345e3\"</span></pre></div>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ ruby bigdecimal_to_d.rb\n&quot;Ruby version: 3.0.6&quot;\n&quot;BigDecimal version: 3.0.0&quot;\n&quot;123.455.to_d(5): 0.12345e3&quot;\"><pre class=\"notranslate\">$ <span class=\"pl-en\">ruby</span> <span class=\"pl-en\">bigdecimal_to_d</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>\n<span class=\"pl-s\">\"Ruby version: 3.0.6\"</span>\n<span class=\"pl-s\">\"BigDecimal version: 3.0.0\"</span>\n<span class=\"pl-s\">\"123.455.to_d(5): 0.12345e3\"</span></pre></div>\n<ul dir=\"auto\">\n<li>Ruby 3.1 and 3.2 rounds up</li>\n</ul>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ ruby bigdecimal_to_d.rb\n&quot;Ruby version: 3.1.4&quot;\n&quot;BigDecimal version: 3.1.1&quot;\n&quot;123.455.to_d(5): 0.12346e3&quot;\"><pre class=\"notranslate\">$ <span class=\"pl-en\">ruby</span> <span class=\"pl-en\">bigdecimal_to_d</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>\n<span class=\"pl-s\">\"Ruby version: 3.1.4\"</span>\n<span class=\"pl-s\">\"BigDecimal version: 3.1.1\"</span>\n<span class=\"pl-s\">\"123.455.to_d(5): 0.12346e3\"</span></pre></div>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ ruby bigdecimal_to_d.rb\n&quot;Ruby version: 3.2.2&quot;\n&quot;BigDecimal version: 3.1.3&quot;\n&quot;123.455.to_d(5): 0.12346e3&quot;\"><pre class=\"notranslate\">$ <span class=\"pl-en\">ruby</span> <span class=\"pl-en\">bigdecimal_to_d</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>\n<span class=\"pl-s\">\"Ruby version: 3.2.2\"</span>\n<span class=\"pl-s\">\"BigDecimal version: 3.1.3\"</span>\n<span class=\"pl-s\">\"123.455.to_d(5): 0.12346e3\"</span></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"784717707\" data-permission-text=\"Title is private\" data-url=\"https://github.com/ruby/bigdecimal/issues/180\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/ruby/bigdecimal/pull/180/hovercard\" href=\"https://github.com/ruby/bigdecimal/pull/180\">ruby/bigdecimal#180</a><br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"217890019\" data-permission-text=\"Title is private\" data-url=\"https://github.com/ruby/bigdecimal/issues/70\" data-hovercard-type=\"issue\" data-hovercard-url=\"/ruby/bigdecimal/issues/70/hovercard\" href=\"https://github.com/ruby/bigdecimal/issues/70\">ruby/bigdecimal#70</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49318",
            "title": "Add CHANGELOG entry to add bigdecimal as Active Support dependency",
            "date_modified": "2023-09-19T16:06:20.000Z",
            "date_published": "2023-09-19T11:57:35.000Z",
            "author": {
                "name": "yahonda",
                "url": "https://github.com/yahonda"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1068531?u=86f00938be9f39ec677b8dd5f3518aab3d2d8585&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">MariaDB have supported <a href=\"https://mariadb.com/kb/en/insertreturning/\" rel=\"nofollow\">INSERT RETURNING</a> starting with 10.5.0.</p>\n<p dir=\"auto\">This is very convenient to use in methods such as <code class=\"notranslate\">ActiveRecord::Persistence.insert_all</code> to return default or setted by trigger attributes.</p>\n<p dir=\"auto\">Now you can use returning option with MariaDB the same way as with PostgreSQL in ActiveRecord::Persistence <a href=\"https://api.rubyonrails.org/classes/ActiveRecord/Persistence/ClassMethods.html#method-i-insert_all\" rel=\"nofollow\">insert</a> methods.</p>\n<p dir=\"auto\">There are tests </p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/ebcd7233ea1307448f2d97eaf56a8d303200e5f7/activerecord/test/cases/insert_all_test.rb#L87-L120\">rails/activerecord/test/cases/insert_all_test.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 87 to 120\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/rails/rails/commit/ebcd7233ea1307448f2d97eaf56a8d303200e5f7\">ebcd723</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L87\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"87\"></td>\n          <td id=\"LC87\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_insert_all_returns_primary_key_if_returning_is_supported</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L88\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"88\"></td>\n          <td id=\"LC88\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">skip</span> <span class=\"pl-k\">unless</span> <span class=\"pl-en\">supports_insert_returning?</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L89\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"89\"></td>\n          <td id=\"LC89\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L90\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"90\"></td>\n          <td id=\"LC90\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Book</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">insert_all!</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">{</span> <span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"Rework\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">author_id</span>: <span class=\"pl-c1\">1</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">]</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L91\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"91\"></td>\n          <td id=\"LC91\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">assert_equal</span> <span class=\"pl-kos\">%w[</span> <span class=\"pl-s\">id</span> <span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">columns</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L92\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"92\"></td>\n          <td id=\"LC92\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L93\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"93\"></td>\n          <td id=\"LC93\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L94\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"94\"></td>\n          <td id=\"LC94\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_insert_all_returns_nothing_if_returning_is_empty</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L95\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"95\"></td>\n          <td id=\"LC95\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">skip</span> <span class=\"pl-k\">unless</span> <span class=\"pl-en\">supports_insert_returning?</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L96\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"96\"></td>\n          <td id=\"LC96\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L97\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"97\"></td>\n          <td id=\"LC97\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Book</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">insert_all!</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">{</span> <span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"Rework\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">author_id</span>: <span class=\"pl-c1\">1</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">returning</span>: <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L98\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"98\"></td>\n          <td id=\"LC98\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">assert_equal</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">columns</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L99\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"99\"></td>\n          <td id=\"LC99\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L100\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"100\"></td>\n          <td id=\"LC100\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L101\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"101\"></td>\n          <td id=\"LC101\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_insert_all_returns_nothing_if_returning_is_false</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L102\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"102\"></td>\n          <td id=\"LC102\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">skip</span> <span class=\"pl-k\">unless</span> <span class=\"pl-en\">supports_insert_returning?</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L103\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"103\"></td>\n          <td id=\"LC103\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L104\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"104\"></td>\n          <td id=\"LC104\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Book</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">insert_all!</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">{</span> <span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"Rework\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">author_id</span>: <span class=\"pl-c1\">1</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">returning</span>: <span class=\"pl-c1\">false</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L105\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"105\"></td>\n          <td id=\"LC105\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">assert_equal</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">columns</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L106\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"106\"></td>\n          <td id=\"LC106\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L107\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"107\"></td>\n          <td id=\"LC107\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L108\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"108\"></td>\n          <td id=\"LC108\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_insert_all_returns_requested_fields</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L109\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"109\"></td>\n          <td id=\"LC109\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">skip</span> <span class=\"pl-k\">unless</span> <span class=\"pl-en\">supports_insert_returning?</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L110\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"110\"></td>\n          <td id=\"LC110\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L111\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"111\"></td>\n          <td id=\"LC111\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Book</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">insert_all!</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">{</span> <span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"Rework\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">author_id</span>: <span class=\"pl-c1\">1</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">returning</span>: <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:id</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:name</span><span class=\"pl-kos\">]</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L112\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"112\"></td>\n          <td id=\"LC112\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">assert_equal</span> <span class=\"pl-kos\">%w[</span> <span class=\"pl-s\">Rework</span> <span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">pluck</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"name\"</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L113\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"113\"></td>\n          <td id=\"LC113\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L114\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"114\"></td>\n          <td id=\"LC114\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L115\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"115\"></td>\n          <td id=\"LC115\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_insert_all_returns_requested_sql_fields</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L116\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"116\"></td>\n          <td id=\"LC116\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">skip</span> <span class=\"pl-k\">unless</span> <span class=\"pl-en\">supports_insert_returning?</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L117\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"117\"></td>\n          <td id=\"LC117\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L118\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"118\"></td>\n          <td id=\"LC118\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Book</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">insert_all!</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">{</span> <span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"Rework\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">author_id</span>: <span class=\"pl-c1\">1</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">returning</span>: <span class=\"pl-v\">Arel</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">sql</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"UPPER(name) as name\"</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L119\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"119\"></td>\n          <td id=\"LC119\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">assert_equal</span> <span class=\"pl-kos\">%w[</span> <span class=\"pl-s\">REWORK</span> <span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">pluck</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"name\"</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L120\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"120\"></td>\n          <td id=\"LC120\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n  that will automatically run in the required version of MariaDB.<p></p>\n<p dir=\"auto\">We've been using this patch in production for several months.</p>",
            "url": "https://github.com/rails/rails/pull/49315",
            "title": "Support returning option in insert_all for MariaDB",
            "date_modified": "2023-09-19T09:47:03.000Z",
            "date_published": "2023-09-19T09:46:58.000Z",
            "author": {
                "name": "nkondratyev",
                "url": "https://github.com/nkondratyev"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4910785?u=bb262553df264faad2f515f6ea75067266e0d129&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Many apps use the <a href=\"https://github.com/rmm5t/strip_attributes\">https://github.com/rmm5t/strip_attributes</a> gem to strip most string attributes.<br>\nThe new <code class=\"notranslate\">normalizes</code> API is a perfect fit for this. One \"downside\" in contrast to the strip_attributes gem, is that you have to explicitly list all attributes you want to normalize. It would be nice to have a simple way to e.g. \"strip all string attributes in most models\".</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49314",
            "title": "Add normalizes_type to apply common normalizations",
            "date_modified": "2023-09-19T08:35:09.000Z",
            "date_published": "2023-09-18T22:00:16.000Z",
            "author": {
                "name": "codergeek121",
                "url": "https://github.com/codergeek121"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/96156234?u=9ced8d6ac6128a8dea78e7f0d9233669ff0ffecf&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This enhancement automatically updates the Dockerfile to the desired db when using db:system:change.</p>\n<p dir=\"auto\">It is currently implemented to update and change the following:</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">sqlite3</code></li>\n<li><code class=\"notranslate\">mysql</code></li>\n<li><code class=\"notranslate\">postgresql</code></li>\n<li><code class=\"notranslate\">trilogy</code></li>\n</ul>\n<p dir=\"auto\">Please Advise:</p>\n<p dir=\"auto\">I could only find <code class=\"notranslate\">oracle</code> install information using <code class=\"notranslate\">yum</code>.</p>\n<p dir=\"auto\">I could not find reliable Dockerfile information on the following:</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">sqlserver</code></li>\n<li><code class=\"notranslate\">jdbc</code></li>\n<li><code class=\"notranslate\">jdbcmysql</code></li>\n<li><code class=\"notranslate\">jdbcpostgresql</code></li>\n<li><code class=\"notranslate\">jdbdsqlite3</code></li>\n</ul>\n<p dir=\"auto\">If one of the maintainers can tell me the desired config for the DB's that are not currently implemented I will add them.  However if they are not seen as necessary at this point I will push up a commit removing the commented out lines containing them.</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #49304.\">Fixes</span> <a href=\"https://github.com/rails/rails/issues/49304\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49304/hovercard\">49304</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49311",
            "title": "This enhancement automatically updates the Dockerfile to the desired db.",
            "date_modified": "2023-09-19T19:34:00.000Z",
            "date_published": "2023-09-18T00:07:46.000Z",
            "author": {
                "name": "paulreece",
                "url": "https://github.com/paulreece"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/107635?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I've been stuck on a failing test about a job that was supposed to be rescued from exceptions, and after an embarrassing amount of time I came to realise that using <code class=\"notranslate\">perform</code> shortcuts all of the ActiveJob niceties.</p>\n<p dir=\"auto\">This Pull Request has been created because I don't want other people to confuse the <code class=\"notranslate\">perform</code>, <code class=\"notranslate\">perform_now</code> or <code class=\"notranslate\">perform_later</code> altogether and waste valuable time trying to understand why the first one doesn't behave like the two others.</p>\n<p dir=\"auto\">Feel free to challenge the wording as you please ✌️</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the ActiveJob guide.</p>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49301",
            "title": "[ci skip] clarify the benefits of using ActiveJob's execution wrappers",
            "date_modified": "2023-09-18T19:57:16.000Z",
            "date_published": "2023-09-16T10:36:45.000Z",
            "author": {
                "name": "freesteph",
                "url": "https://github.com/freesteph"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/76922290?u=43264c7b0c15885c082eb8f7570643015f7a49fd&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">It was great to see <code class=\"notranslate\">ActionController::Live#send_stream</code> introduced in Rails 7.0. We'd like to collect information on <code class=\"notranslate\">send_stream</code> events by adding instrumentation for it.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Adds instrumentation for <code class=\"notranslate\">ActionController::Live#send_stream</code>. The event payload contains the filename, disposition, and type.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49297",
            "title": "Add instrumentation for ActionController::Live#send_stream",
            "date_modified": "2023-09-19T21:28:30.000Z",
            "date_published": "2023-09-15T22:29:31.000Z",
            "author": {
                "name": "hannahramadan",
                "url": "https://github.com/hannahramadan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5077225?u=e9f968c9eb790ee7734442f6b7998155400ad1d8&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Implementing the full <code class=\"notranslate\">supports_insert_returning?</code> contract means the SQLite3 adapter supports auto-populated columns (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1712735611\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48241\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48241/hovercard\" href=\"https://github.com/rails/rails/pull/48241\">#48241</a>) as well as custom primary keys.</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Building on the background of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1898707689\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49287\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49287/hovercard\" href=\"https://github.com/rails/rails/pull/49287\">#49287</a>, this is my first major PR to begin making the <code class=\"notranslate\">SQLite3Adapter</code> feature-comparable with the <code class=\"notranslate\">MySQLAdapter</code> and <code class=\"notranslate\">PostgreSQLAdapter</code>s.</p>\n<p dir=\"auto\">SQLite is a feature-rich database engine, and production usage is only growing. We need Rails' support to offer developers the range and scope of its features.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">PR <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1712735611\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48241\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48241/hovercard\" href=\"https://github.com/rails/rails/pull/48241\">#48241</a> introduced the wonderful feature to have ActiveRecord models auto-populate their attributes with database defaults. Initially, this feature was only implemented for the <code class=\"notranslate\">PostgreSQLAdapter</code>. The essential SQL feature foundation for this behavior is use of the <code class=\"notranslate\">RETURNING</code> keyword, which SQLite has supported since version 3.35.0 (2021-03-12) (see <a href=\"https://www.sqlite.org/lang_returning.html\" rel=\"nofollow\">https://www.sqlite.org/lang_returning.html</a>).</p>\n<p dir=\"auto\">In this PR, I am adding full support for the <code class=\"notranslate\">SQLite3Adapter</code> by implementing:</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3::DatabaseStatements#sql_for_insert</code></li>\n<li><code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3::DatabaseStatements#returning_column_values</code></li>\n<li><code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3Adapter#supports_insert_returning?</code></li>\n<li><code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3Adapter#return_value_after_insert?</code></li>\n<li><code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3Adapter#use_insert_returning?</code></li>\n</ul>\n<p dir=\"auto\">along with a couple of tweaks to a few methods.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This builds on the work started in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1898707689\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49287\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49287/hovercard\" href=\"https://github.com/rails/rails/pull/49287\">#49287</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49290",
            "title": "Add SQLite3 support for `supports_insert_returning?`",
            "date_modified": "2023-09-19T19:20:46.000Z",
            "date_published": "2023-09-15T17:56:23.000Z",
            "author": {
                "name": "fractaledmind",
                "url": "https://github.com/fractaledmind"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5077225?u=e9f968c9eb790ee7734442f6b7998155400ad1d8&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Previously, this default function would produce the static string <code class=\"notranslate\">\"'Ruby ' || 'on ' || 'Rails'\"</code>. Now, the adapter will appropriately receive and use <code class=\"notranslate\">\"Ruby on Rails\"</code>.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"change_column_default &quot;test_models&quot;, &quot;ruby_on_rails&quot;, -&gt; { &quot;('Ruby ' || 'on ' || 'Rails')&quot; }\"><pre class=\"notranslate\"><span class=\"pl-en\">change_column_default</span> <span class=\"pl-s\">\"test_models\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"ruby_on_rails\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">-&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-s\">\"('Ruby ' || 'on ' || 'Rails')\"</span> <span class=\"pl-kos\">}</span></pre></div>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The wave of using SQLite in production is growing, but the ActiveRecord <code class=\"notranslate\">SQLite3Adapter</code> doesn't take full advantage of the power and functionality of the SQLite engine. In order to begin making the <code class=\"notranslate\">SQLite3Adapter</code> feature-comparable with the <code class=\"notranslate\">MySQLAdapter</code> and <code class=\"notranslate\">PostgreSQLAdapter</code>, I am undertaking a multi-step task to level up the <code class=\"notranslate\">SQLite3Adapter</code>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">I am beginning with the simplest improvement I initially found, in order to \"get my feet wet\" with the process of upstreaming feature to Rails and ActiveRecord. Instead of using the <code class=\"notranslate\">CONCAT()</code> function, SQLite provides the <code class=\"notranslate\">||</code> concatenation operator. The adapter does not recognize usage of this operator as a dynamic <code class=\"notranslate\">default_function</code>, however.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49287",
            "title": "Ensure the SQLite3 adapter handles default functions with the `||` concatenation operator",
            "date_modified": "2023-09-19T18:23:10.000Z",
            "date_published": "2023-09-15T15:59:10.000Z",
            "author": {
                "name": "fractaledmind",
                "url": "https://github.com/fractaledmind"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/52599949?u=1760b036d3c7541f6947088385784714acfc770e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The as_json method in <code class=\"notranslate\">ActiveModel</code> accepts the only option to restrict the keys that are included in the JSON output. However, when including <code class=\"notranslate\">ActionText::Attachable</code>, this behavior is overridden, and an additional <code class=\"notranslate\">attachable_sgid</code> key is unconditionally added to the JSON output.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"class User &lt; ActiveRecord\n   include ActionText::Attachable\nend\n\nuser = User.new(name: &quot;Dave&quot;)\nuser.as_json(only: :name)\n#=&gt; { &quot;name&quot; =&gt; &quot;Dave&quot;, &quot;attachable_sgid&quot; =&gt; &quot;...&quot; }\"><pre class=\"notranslate\"><code class=\"notranslate\">class User &lt; ActiveRecord\n   include ActionText::Attachable\nend\n\nuser = User.new(name: \"Dave\")\nuser.as_json(only: :name)\n#=&gt; { \"name\" =&gt; \"Dave\", \"attachable_sgid\" =&gt; \"...\" }\n</code></pre></div>\n<p dir=\"auto\">I am not sure if applying the only option in ActionText::Attachable's as_json method was the correct approach, but I made that modification.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49272",
            "title": "Fix as_json behavior in ActionText::Attachable",
            "date_modified": "2023-09-15T14:37:48.000Z",
            "date_published": "2023-09-14T14:22:18.000Z",
            "author": {
                "name": "a5-stable",
                "url": "https://github.com/a5-stable"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1518299?u=d3dda61ebb16317ded64f166b59e35e1e160b9b1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><code class=\"notranslate\">save_and_open_page</code> is a capybara helper that lets developers inspect the status of the page at any given point in their tests. This is helpful when trying to keep a short feedback loop while working on a test.</p>\n<p dir=\"auto\">This change adds a similar helper with a matching signature to integration tests.</p>\n<details open=\"\" class=\"details-reset border rounded-2\">\n  <summary class=\"px-3 py-2\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-device-camera-video\">\n    <path d=\"M16 3.75v8.5a.75.75 0 0 1-1.136.643L11 10.575v.675A1.75 1.75 0 0 1 9.25 13h-7.5A1.75 1.75 0 0 1 0 11.25v-6.5C0 3.784.784 3 1.75 3h7.5c.966 0 1.75.784 1.75 1.75v.675l3.864-2.318A.75.75 0 0 1 16 3.75Zm-6.5 1a.25.25 0 0 0-.25-.25h-7.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-6.5ZM11 8.825l3.5 2.1v-5.85l-3.5 2.1Z\"></path>\n</svg>\n    <span aria-label=\"Video description 20230913155205_0fccdf93e5.mp4\" class=\"m-1\">20230913155205_0fccdf93e5.mp4</span>\n    <span class=\"dropdown-caret\"></span>\n  </summary>\n\n  <video src=\"https://user-images.githubusercontent.com/1518299/267807273-8137fa68-619b-4673-bd95-495f56eb0984.mp4\" data-canonical-src=\"https://user-images.githubusercontent.com/1518299/267807273-8137fa68-619b-4673-bd95-495f56eb0984.mp4\" controls=\"controls\" muted=\"muted\" class=\"d-block rounded-bottom-2 border-top width-fit\" style=\"max-height:640px; min-height: 200px\">\n\n  </video>\n</details>\n\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I have seen similar helpers defined in a number of projects in their <code class=\"notranslate\">test_helper.rb</code>.<br>\nI figured this would be a good candidate to upstream as we already have the same helper for system tests.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Launchy is required to automatically open the dump in a browser, but the helper still works without. Without launchy it prints a warning along with the path to the dump for manual review.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<ul dir=\"auto\">\n<li>I wasn't sure where to put the changelog notice. I've put it above the Rails 7.1 release header as I assume this won't make the cut for the release</li>\n<li>I did not add launchy to the <a href=\"https://github.com/rails/rails/blob/bb2fedbf013d2a087087c6456f3c54bc74d3e609/railties/lib/rails/generators/rails/app/templates/Gemfile.tt\">Gemfile template</a>. Maybe I should?</li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49267",
            "title": "Add `save_and_open_page` helper to IntegrationTest",
            "date_modified": "2023-09-13T23:10:41.000Z",
            "date_published": "2023-09-13T23:07:56.000Z",
            "author": {
                "name": "JoeDupuis",
                "url": "https://github.com/JoeDupuis"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This commit is intended to address a few separate but related problems.</p>\n<p dir=\"auto\">The first issue is that this log message is currently impossible to customize without monkey patching <code class=\"notranslate\">Rails::Rack::Logger</code>. Gems like lograge and rails_semantic_logger currently monkey patch the class in order to remove or modify the message logged. Whether or not one of these specific gems is used, apps that want to use structured logging in production will almost certainly want to change or remove this message since it does not have a uniform structure.</p>\n<p dir=\"auto\">Another issue is that this log message makes <code class=\"notranslate\">Rails::Rack::Logger</code> dependent on <code class=\"notranslate\">ActionDispatch::RemoteIp</code> if an application wants to be protected from IP spoofing (<code class=\"notranslate\">RemoteIp</code> must appear before it in the middleware stack). There is currently an issue open because <code class=\"notranslate\">RemoteIp</code> will raise an uncaught error when IP spoofing is detected, when really it should return a 4xx response. That type of issue is normally solved by <code class=\"notranslate\">ActionDispatch::ShowExceptions</code>, however, <code class=\"notranslate\">Rails::Rack::Logger</code> additionally depends on <code class=\"notranslate\">ShowExceptions</code> being below it in the middleware stack so that the proper response status is logged. By moving the <code class=\"notranslate\">started_request_message</code> out of <code class=\"notranslate\">Rails::Rack::Logger</code>, the second dependency is removed and both <code class=\"notranslate\">Rails::Rack::Logger</code> and <code class=\"notranslate\">ShowExceptions</code> could be moved up to the top of the middleware stack in the future.</p>\n<p dir=\"auto\">In addition to fixing the 5xx response for Ip spoofing requests, there is another large benefit to moving request instrumentation higher in the middleware stack. Currently, <code class=\"notranslate\">process_action.action_controller</code> is the default instrumentation enabled in Rails applications. However, it is limited to returning information about the response returned from the controller action. This has lead to another issue opened where a user reported seeing 2xx responses logged (from <code class=\"notranslate\">process_action</code>) even though the <code class=\"notranslate\">ConditionalGet</code> middleware was intercepting the response and actually returning a 3xx response. So by enabling <code class=\"notranslate\">Rails::Rack::Logger</code> to be moved higher up in the middleware stack, we are also creating an opportunity to have more realistic instrumentation and logs.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Issues references:</p>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1369554829\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46003\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/46003/hovercard\" href=\"https://github.com/rails/rails/issues/46003\">#46003</a></li>\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1516609172\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46869\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/46869/hovercard\" href=\"https://github.com/rails/rails/issues/46869\">#46869</a></li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49245",
            "title": "Move started_request_message into LogSubscriber",
            "date_modified": "2023-09-13T00:22:08.000Z",
            "date_published": "2023-09-12T22:18:50.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/14993828?u=8ed3978d4be4f3a0ed1eb48dc0e5e039b5f885e7&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Looking for early feedback on notes</p>\n<p dir=\"auto\">Inspired by the <code class=\"notranslate\">rails/info/routes</code> route I am suggesting a <code class=\"notranslate\">rails/info/notes</code> internal route.</p>\n<p dir=\"auto\">This will be same as doing</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ bin/rails notes\n\napp/controllers/posts_controller.rb:\n  * [ 9] [TODO] Move this logic to a concern\n  * [18] [FIXME] Refactor this method\n\napp/models/post.rb:\n  * [ 2] [TODO] Refactor this validation\"><pre class=\"notranslate\">$ bin/rails notes\n\napp/controllers/posts_controller.rb:\n  <span class=\"pl-k\">*</span> [ 9] [TODO] Move this logic to a concern\n  <span class=\"pl-k\">*</span> [18] [FIXME] Refactor this method\n\napp/models/post.rb:\n  <span class=\"pl-k\">*</span> [ 2] [TODO] Refactor this validation</pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Adding an internal route for the <code class=\"notranslate\">bin/rails notes</code> so we can check the notes on UI.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\"><strong>Option 1:</strong></p>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/14993828/267357459-7bde94f3-629b-42b0-b85f-54826af9b553.png\"><img width=\"890\" alt=\"Screenshot 2023-09-12 at 19 40 07\" src=\"https://user-images.githubusercontent.com/14993828/267357459-7bde94f3-629b-42b0-b85f-54826af9b553.png\" style=\"max-width: 100%;\"></a>\n<p dir=\"auto\"><strong>Option 2:</strong></p>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/14993828/267356301-104e15cb-460b-403d-93d8-5dcfae02d991.png\"><img width=\"890\" alt=\"Screenshot 2023-09-12 at 19 36 03\" src=\"https://user-images.githubusercontent.com/14993828/267356301-104e15cb-460b-403d-93d8-5dcfae02d991.png\" style=\"max-width: 100%;\"></a>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49240",
            "title": "Add an internal route for bin/rails notes",
            "date_modified": "2023-09-18T13:00:02.000Z",
            "date_published": "2023-09-12T14:11:15.000Z",
            "author": {
                "name": "deepakmahakale",
                "url": "https://github.com/deepakmahakale"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Ref <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1581201152\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47370\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/47370/hovercard\" href=\"https://github.com/rails/rails/pull/47370\">#47370</a></p>",
            "url": "https://github.com/rails/rails/pull/49231",
            "title": "Backport #47370 to 7-0-stable",
            "date_modified": "2023-09-11T23:48:27.000Z",
            "date_published": "2023-09-11T23:48:23.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1297651?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Originally Rails::Paths::Root supported multiple directories simply by appenending them to it (path &lt;&lt; 'lib/something'), or a specific directory like:<br>\n<code class=\"notranslate\">path.add 'app/helpers', with: 'app/helpers', eager_load: true</code><br>\nwhich is the default for 'app/helpers'.</p>\n<p dir=\"auto\">As a complex app may has a complex directory layout, sometimes it's better to let add an array of directories, as the underlying Path object already supports it, and also Rails code, like: abstract_controller/helper.rb, def all_helpers_from_path</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">Rails::Paths::Root.add</code>.</p>\n<p dir=\"auto\">While the change is backward-compatible, it enables the full potential of the Path class:<br>\n<code class=\"notranslate\">path.add 'app/helpers', with: ['app/helpers', 'lib/helpers'], eager_load: true</code></p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49223",
            "title": "Rails::Paths::Root can contains multiple directories",
            "date_modified": "2023-09-12T06:48:04.000Z",
            "date_published": "2023-09-11T17:50:25.000Z",
            "author": {
                "name": "LA-Toth",
                "url": "https://github.com/LA-Toth"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">It returns true if the content type is \"application/pdf\".<br>\nSimilar to the existing <code class=\"notranslate\">audio?</code>, <code class=\"notranslate\">image?</code>, <code class=\"notranslate\">video?</code> and <code class=\"notranslate\">text?</code><br>\nmethods.</p>\n<p dir=\"auto\">We probably don't want to add methods for every content type,<br>\nbut pdf is pretty common and it's also used internally by Rails for<br>\nthe Previewers.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49217",
            "title": "Add `ActiveStorage::Blob#pdf?`",
            "date_modified": "2023-09-11T17:26:40.000Z",
            "date_published": "2023-09-11T12:08:55.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/7942714?u=ed2384a07edc1a042b5a01ccb1cfd2cb9f63442a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because when I called <code class=\"notranslate\">render_to_string(partial: 'foo')</code> in an API controller, I got back <code class=\"notranslate\">\" \"</code> whether or not the partial existed.</p>\n<p dir=\"auto\">It turns out that in API controllers, the <code class=\"notranslate\">partial</code> option on <code class=\"notranslate\">render</code> does nothing, so it's equivalent to calling <code class=\"notranslate\">render</code> with no arguments. I learned that in API controllers, calling <code class=\"notranslate\">render</code> with no arguments has the surprising response of 200 OK with a body of <code class=\"notranslate\">\" \"</code>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This change deprecates that surprising behavior and proposes that in the future, calling <code class=\"notranslate\">render</code> with no arguments in API controllers will raise an error.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">I'm open to other approaches here! Just trying to help other developers avoid this head-scratching behavior. 😅</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49212",
            "title": "Deprecate calling `render` with no arguments in API controllers",
            "date_modified": "2023-09-10T15:42:40.000Z",
            "date_published": "2023-09-10T01:05:59.000Z",
            "author": {
                "name": "nholden",
                "url": "https://github.com/nholden"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/28561?u=095779352a57f75e734987829f3f67a10e5780ed&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">ActiveStorage::Blob has methods for checking if it's an image, video, etc. In some case we might want to override the matchers or define our own matchers, for example to check if it's a PDF.</p>\n<p dir=\"auto\">Instead of adding new methods for every possible content type, we should make this configurable with<br>\n<code class=\"notranslate\">Rails.application.config.content_type_matchers</code>.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Rails.application.config.content_type_matchers[:pdf] = -&gt; (c) { c == &quot;application/pdf&quot; }\nblob = ActiveStorage::Blob.last\nblob.pdf? # =&gt; true\"><pre class=\"notranslate\"><span class=\"pl-v\">Rails</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">application</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">content_type_matchers</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:pdf</span><span class=\"pl-kos\">]</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">-&gt;</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">c</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span> <span class=\"pl-s1\">c</span> == <span class=\"pl-s\">\"application/pdf\"</span> <span class=\"pl-kos\">}</span>\n<span class=\"pl-s1\">blob</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">ActiveStorage</span>::<span class=\"pl-v\">Blob</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">last</span>\n<span class=\"pl-s1\">blob</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">pdf?</span> <span class=\"pl-c\"># =&gt; true</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49198",
            "title": "Support custom content type matchers on ActiveStorage::Blob",
            "date_modified": "2023-09-08T09:54:42.000Z",
            "date_published": "2023-09-08T09:23:59.000Z",
            "author": {
                "name": "p8",
                "url": "https://github.com/p8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Register a callable to decode rendered content for a given MIME type</p>\n<p dir=\"auto\">Each registered decoder will also define a <code class=\"notranslate\">#rendered_$MIME</code> helper method, where <code class=\"notranslate\">$MIME</code> corresponds to the value of the <code class=\"notranslate\">mime</code> argument.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\"><strong>Arguments</strong></p>\n<p dir=\"auto\"><code class=\"notranslate\">mime</code> - Symbol the MIME Type name for the rendered content <code class=\"notranslate\">callable</code> - Callable to decode the String. Accepts the String<br>\nvalue as its only argument<br>\n<code class=\"notranslate\">block</code> - Block serves as the decoder when the<br>\n<code class=\"notranslate\">callable</code> is omitted</p>\n<p dir=\"auto\">By default, ActionView::TestCase defines a decoder for:</p>\n<ul dir=\"auto\">\n<li>:html - returns an instance of Nokogiri::XML::Node</li>\n<li>:json - returns an instance of ActiveSupport::HashWithIndifferentAccess</li>\n</ul>\n<p dir=\"auto\">Each pre-registered decoder also defines a corresponding helper:</p>\n<ul dir=\"auto\">\n<li>:html - defines <code class=\"notranslate\">rendered_html</code></li>\n<li>:json - defines <code class=\"notranslate\">rendered_json</code></li>\n</ul>\n<p dir=\"auto\"><strong>Examples</strong></p>\n<p dir=\"auto\">To parse the rendered content into RSS, register a call to <code class=\"notranslate\">RSS::Parser.parse</code>:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"register_decoder :rss, -&gt; rendered { RSS::Parser.parse(rendered) }\n\ntest &quot;renders RSS&quot; do\n  article = Article.create!(title: &quot;Hello, world&quot;)\n\n  render formats: :rss, partial: article\n\n  assert_equal &quot;Hello, world&quot;, rendered_rss.items.last.title\nend\"><pre class=\"notranslate\"><span class=\"pl-en\">register_decoder</span> <span class=\"pl-pds\">:rss</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">-&gt;</span> <span class=\"pl-s1\">rendered</span> <span class=\"pl-kos\">{</span> <span class=\"pl-c1\">RSS</span>::<span class=\"pl-v\">Parser</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">parse</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">rendered</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">}</span>\n\n<span class=\"pl-en\">test</span> <span class=\"pl-s\">\"renders RSS\"</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-s1\">article</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">create!</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">title</span>: <span class=\"pl-s\">\"Hello, world\"</span><span class=\"pl-kos\">)</span>\n\n  <span class=\"pl-en\">render</span> <span class=\"pl-pds\">formats</span>: <span class=\"pl-pds\">:rss</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">partial</span>: <span class=\"pl-s1\">article</span>\n\n  <span class=\"pl-en\">assert_equal</span> <span class=\"pl-s\">\"Hello, world\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">rendered_rss</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">items</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">last</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">title</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">To parse the rendered content into a Capybara::Simple::Node, re-register an <code class=\"notranslate\">:html</code> decoder with a call to<br>\n<code class=\"notranslate\">Capybara.string</code>:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"register_decoder :html, -&gt; rendered { Capybara.string(rendered) }\n\ntest &quot;renders HTML&quot; do\n  article = Article.create!(title: &quot;Hello, world&quot;)\n\n  render partial: article\n\n  rendered_html.assert_css &quot;h1&quot;, text: &quot;Hello, world&quot;\nend\"><pre class=\"notranslate\"><span class=\"pl-en\">register_decoder</span> <span class=\"pl-pds\">:html</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">-&gt;</span> <span class=\"pl-s1\">rendered</span> <span class=\"pl-kos\">{</span> <span class=\"pl-v\">Capybara</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">string</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">rendered</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">}</span>\n\n<span class=\"pl-en\">test</span> <span class=\"pl-s\">\"renders HTML\"</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-s1\">article</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">create!</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">title</span>: <span class=\"pl-s\">\"Hello, world\"</span><span class=\"pl-kos\">)</span>\n\n  <span class=\"pl-en\">render</span> <span class=\"pl-pds\">partial</span>: <span class=\"pl-s1\">article</span>\n\n  <span class=\"pl-en\">rendered_html</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">assert_css</span> <span class=\"pl-s\">\"h1\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">text</span>: <span class=\"pl-s\">\"Hello, world\"</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">For the sake of backwards compatibility, re-define existing support for <code class=\"notranslate\">document_root_element</code> in terms of <code class=\"notranslate\">rendered_html</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This proposal draws inspiration from <a href=\"https://github.com/rails/rails/blob/44bd6e7acaa91dd59c260beea6863a49b84f6039/actionpack/lib/action_dispatch/testing/request_encoder.rb\">ActionDispatch::Testing::RequestEncoder</a>, and the <code class=\"notranslate\">response.parsed_body</code> test method that it enables.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49194",
            "title": "Introduce `ActionView::TestCase.register_decoder`",
            "date_modified": "2023-09-18T18:35:49.000Z",
            "date_published": "2023-09-08T02:09:57.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        }
    ]
}