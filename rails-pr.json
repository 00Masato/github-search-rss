{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<p dir=\"auto\"><del>Pending open issue. Please bear with me, I needed to get this up semi-urgently as we ran into this issue when running against latest <code class=\"notranslate\">main</code> and it wasn't caught by our test suite.</del></p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request fixes an issue where <code class=\"notranslate\">ActiveRecord::Encryption::Errors::Encoding</code> raises when the value is not encrypted (e.g. when using <code class=\"notranslate\">ActiveRecord::Encryption::NullEncryptor</code>) and is binary encoded.</p>\n<p dir=\"auto\">The raise was introduced in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2138552216\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51102\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51102/hovercard\" href=\"https://github.com/rails/rails/pull/51102\">#51102</a> seemingly for the case where the encrypted value is binary encoded and will be inserted into a text column after encryption (I think this is only possible if the encryption is not deterministic, else encoding is forced), but didn't take into account cases where encryption is bypassed to support unencrypted data.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">ActiveRecord::Encryption::EncryptedAttributeType#encrypt_as_text</code> (which is used by <code class=\"notranslate\">#encrypt</code>) to not raise on binary encoded values unless the value was actually encrypted.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51412",
            "title": "Fix `ActiveRecord::Encryption::Errors::Encoding` incorrectly raises for not-encrypted binary encoded values",
            "date_modified": "2024-03-25T09:46:25.000Z",
            "date_published": "2024-03-25T02:55:25.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Related to <a href=\"https://github.com/rails/rails/issues/50568\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50568/hovercard\">#50568</a><br>\nImplements <a href=\"https://gist.github.com/rafaelfranca/d54e7a1e8beb40ae1ac79bbb779970fa\">https://gist.github.com/rafaelfranca/d54e7a1e8beb40ae1ac79bbb779970fa</a><br>\nOpened as an alternatives to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1129062924\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/44380\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/44380/hovercard\" href=\"https://github.com/rails/rails/pull/44380\">#44380</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1123212164\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/44324\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/44324/hovercard\" href=\"https://github.com/rails/rails/pull/44324\">#44324</a>.</p>\n<p dir=\"auto\">I'm not sure why the originals were closed. In its current state, this PR isn't as ambitious as the originals. In the event that they're re-opened, I'm happy to close this in favor of them.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Introduce the <code class=\"notranslate\">ActiveModel::Type::Model</code> to handle casting and<br>\ndeserializing instances of objects through the <code class=\"notranslate\">ActiveModel::Attributes</code><br>\nmodule. For example:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Article\n  include ActiveModel::Attributes\n\n  attribute :author, :model, class: Person\n  attribute :comments, :model, class: Comment, array: true\nend\n\nclass Person\n  include ActiveModel::API\n  include ActiveModel::Attributes\n\n  attribute :name, :string\nend\n\nclass Comment\n  include ActiveModel::API\n  include ActiveModel::Attributes\n\n  attribute :body, :string\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Article</span>\n  <span class=\"pl-en\">include</span> <span class=\"pl-v\">ActiveModel</span>::<span class=\"pl-v\">Attributes</span>\n\n  <span class=\"pl-en\">attribute</span> <span class=\"pl-pds\">:author</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:model</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">class</span>: <span class=\"pl-v\">Person</span>\n  <span class=\"pl-en\">attribute</span> <span class=\"pl-pds\">:comments</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:model</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">class</span>: <span class=\"pl-v\">Comment</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">array</span>: <span class=\"pl-c1\">true</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Person</span>\n  <span class=\"pl-en\">include</span> <span class=\"pl-v\">ActiveModel</span>::<span class=\"pl-c1\">API</span>\n  <span class=\"pl-en\">include</span> <span class=\"pl-v\">ActiveModel</span>::<span class=\"pl-v\">Attributes</span>\n\n  <span class=\"pl-en\">attribute</span> <span class=\"pl-pds\">:name</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:string</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Comment</span>\n  <span class=\"pl-en\">include</span> <span class=\"pl-v\">ActiveModel</span>::<span class=\"pl-c1\">API</span>\n  <span class=\"pl-en\">include</span> <span class=\"pl-v\">ActiveModel</span>::<span class=\"pl-v\">Attributes</span>\n\n  <span class=\"pl-en\">attribute</span> <span class=\"pl-pds\">:body</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:string</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">Values are cast first using their <code class=\"notranslate\">attributes</code> method, if they've<br>\ndefined one, then falling back to their <code class=\"notranslate\">to_h</code>. <code class=\"notranslate\">nil</code> values are cast to<br>\n<code class=\"notranslate\">nil</code>. If an instance of the class defined by the <code class=\"notranslate\">:class</code> option is<br>\npassed, the attribute will not be cast and will reference the instance<br>\ndirectly. If an <code class=\"notranslate\">attributes</code> method is not defined or raises an error,<br>\nthe value will be cast to <code class=\"notranslate\">nil</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51411",
            "title": "Support Model instances in Active Model attributes",
            "date_modified": "2024-03-25T03:10:31.000Z",
            "date_published": "2024-03-25T02:30:46.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Currently, <code class=\"notranslate\">DestroyAssociationAsyncJob</code> does not work when we have an owner with a composite primary key.<br>\nThis PR fixes that.</p>",
            "url": "https://github.com/rails/rails/pull/51409",
            "title": "Fix `destroy_async` job for owners with composite primary keys",
            "date_modified": "2024-03-24T23:56:54.000Z",
            "date_published": "2024-03-24T23:55:18.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/39729785?u=bca7557c833422e5d3656072d74e99510b0764d2&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because is case of typo on <code class=\"notranslate\">through</code> association option it's not listed in raised error's message.</p>\n<p dir=\"auto\">For example, if we make a simple typo like this (t(h)rough)</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class User &lt; ApplicationRecord\n  has_many :courses\n  has_many :assignments, trough: :courses\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">User</span> &lt; <span class=\"pl-v\">ApplicationRecord</span>\n  <span class=\"pl-en\">has_many</span> <span class=\"pl-pds\">:courses</span>\n  <span class=\"pl-en\">has_many</span> <span class=\"pl-pds\">:assignments</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">trough</span>: <span class=\"pl-pds\">:courses</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">the error message on rails boot is kind of misleading:</p>\n<blockquote>\n<p dir=\"auto\">Unknown key: :trough. Valid keys are: :class_name, :anonymous_class, :primary_key, :foreign_key, :dependent, :validate, :inverse_of, :strict_loading, :query_constraints, :autosave, :before_add, :after_add, :before_remove, :after_remove, :extend, :counter_cache, :join_table, :index_errors (ArgumentError)</p>\n</blockquote>\n<p dir=\"auto\">There is not <code class=\"notranslate\">through</code> which I expect to be noted.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The reason of this is that <code class=\"notranslate\">ActiveRecord::Associations::Builder::HasMany.valid_options</code> adds <code class=\"notranslate\">through</code> only if it is present in provided options:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"def self.valid_options(options)\n  ...\n  valid += [:through, :source, :source_type] if options[:through]\n  ...\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">def</span> <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">valid_options</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">options</span><span class=\"pl-kos\">)</span>\n  ...\n  <span class=\"pl-s1\">valid</span> += <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:through</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:source</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:source_type</span><span class=\"pl-kos\">]</span> <span class=\"pl-k\">if</span> <span class=\"pl-s1\">options</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:through</span><span class=\"pl-kos\">]</span>\n  ...\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">That logic seems to be appropriate only for <code class=\"notranslate\">source</code> and <code class=\"notranslate\">source_type</code>, but I do not see why <code class=\"notranslate\">through</code> can't be added in the list unconditionally. The same stands for <code class=\"notranslate\">ActiveRecord::Associations::Builder::HasOne.valid_options</code>.</p>\n<p dir=\"auto\">Applying patch fixes the problem:</p>\n<blockquote>\n<p dir=\"auto\">Unknown key: :trough. Valid keys are: :class_name, :anonymous_class, :primary_key, :foreign_key, :dependent, :validate, :inverse_of, :strict_loading, :query_constraints, :autosave, :before_add, :after_add, :before_remove, :after_remove, :extend, :counter_cache, :join_table, :index_errors, :through (ArgumentError)</p>\n</blockquote>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">If I didn't miss anything and there's an actual problem, there might be some other occurrences of it.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51408",
            "title": "Ensure `through` is added to association options list unconditionally",
            "date_modified": "2024-03-24T20:36:04.000Z",
            "date_published": "2024-03-24T18:31:08.000Z",
            "author": {
                "name": "viralpraxis",
                "url": "https://github.com/viralpraxis"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/19192189?u=dd60737844a9db7f1475bab21fc3e5258a405e15&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #51388.\">Fix</span>: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2202177190\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51388\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51388/hovercard\" href=\"https://github.com/rails/rails/issues/51388\">#51388</a></p>\n<p dir=\"auto\">This commit isn't in a mergeable state, it's just to better understand the issue at hand. There is likely similar issues in other methods and it would need some tests.</p>",
            "url": "https://github.com/rails/rails/pull/51397",
            "title": "Ignore destroyed records in CollectionAssociation#empty?",
            "date_modified": "2024-03-23T08:08:09.000Z",
            "date_published": "2024-03-23T08:08:02.000Z",
            "author": {
                "name": "casperisfine",
                "url": "https://github.com/casperisfine"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4535650?u=07dd3ece185213a2252e6b14e4af7861ff7297d2&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because the current <code class=\"notranslate\">backtrace_cleaner.rb</code> does not work as intended in the Rails console. The silencer is too aggressive and removes the entire backtrace. Users expect to be able to see what lines of their application code an exception was raised from. See the video below for a demo of the bug.</p>\n<p dir=\"auto\">The reason this is an issue in the Rails console and not elsewhere is because of irb's <code class=\"notranslate\">handle_exception</code> <a href=\"https://github.com/ruby/irb/blob/89bca01bbac51325a605e31d55e451f251bc5255/lib/irb.rb#L1218\">method</a>, which generates the backtrace from <code class=\"notranslate\">Exception#full_message</code> rather than <code class=\"notranslate\">Exception#backtrace</code> - <code class=\"notranslate\">Rails::BacktraceCleaner</code> expects the latter. The difference in formatting between the two results in the silencer removing all lines.</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #49259.\">Closes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1895141197\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49259\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49259/hovercard\" href=\"https://github.com/rails/rails/issues/49259\">#49259</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request creates a new <code class=\"notranslate\">Rails::FullMessageCleaner</code> class which inherits from <code class=\"notranslate\">ActiveSupport::BacktraceCleaner</code>. I'm proposing this as a solution rather than altering <code class=\"notranslate\">Rails::BacktraceCleaner</code> because</p>\n<ol dir=\"auto\">\n<li>The existing class works as expected in other contexts - changing it to work in both the console and the other contexts would be difficult, because</li>\n<li>They are serving a similar but different enough purpose: one cleans <code class=\"notranslate\">Exception#backtrace</code>, and one cleans an array of backtrace lines that irb gets from <code class=\"notranslate\">Exception#full_message</code>. These inputs are different enough I think a new class is warranted.</li>\n</ol>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">I added tests that use a real exception from whatever ruby version the test environment is running, as well as a hard coded ruby 2 test. I wasn't able to tophat this on a rails app using a ruby 2 version - it was difficult to get a test rails app using my development version of rails running on ruby 2.</p>\n<details open=\"\" class=\"details-reset border rounded-2\">\n  <summary class=\"px-3 py-2\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-device-camera-video\">\n    <path d=\"M16 3.75v8.5a.75.75 0 0 1-1.136.643L11 10.575v.675A1.75 1.75 0 0 1 9.25 13h-7.5A1.75 1.75 0 0 1 0 11.25v-6.5C0 3.784.784 3 1.75 3h7.5c.966 0 1.75.784 1.75 1.75v.675l3.864-2.318A.75.75 0 0 1 16 3.75Zm-6.5 1a.25.25 0 0 0-.25-.25h-7.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-6.5ZM11 8.825l3.5 2.1v-5.85l-3.5 2.1Z\"></path>\n</svg>\n    <span aria-label=\"Video description full_message_cleaner_demo_fixed_1080.mov\" class=\"m-1\">full_message_cleaner_demo_fixed_1080.mov</span>\n    <span class=\"dropdown-caret\"></span>\n  </summary>\n\n  <video src=\"https://private-user-images.githubusercontent.com/4535650/316185175-81d2b486-5c26-4a08-8705-e25630bd3602.mov?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTEzNzkyMDQsIm5iZiI6MTcxMTM3ODkwNCwicGF0aCI6Ii80NTM1NjUwLzMxNjE4NTE3NS04MWQyYjQ4Ni01YzI2LTRhMDgtODcwNS1lMjU2MzBiZDM2MDIubW92P1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDMyNSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDAzMjVUMTUwMTQ0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MjQ0MWY2NzI0MGU0MWE2YmIyOGRkMzNiZGM4MjA5YzU2ZDhjNTQwZTkzYzEzYjE3YmVkNmUwMTVjOGRiZjYwYyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.-h2q4yvxCUD7R6NdC35u81M-lntp50uLxUyU0pJLNJQ\" data-canonical-src=\"https://private-user-images.githubusercontent.com/4535650/316185175-81d2b486-5c26-4a08-8705-e25630bd3602.mov?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTEzNzkyMDQsIm5iZiI6MTcxMTM3ODkwNCwicGF0aCI6Ii80NTM1NjUwLzMxNjE4NTE3NS04MWQyYjQ4Ni01YzI2LTRhMDgtODcwNS1lMjU2MzBiZDM2MDIubW92P1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDMyNSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDAzMjVUMTUwMTQ0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MjQ0MWY2NzI0MGU0MWE2YmIyOGRkMzNiZGM4MjA5YzU2ZDhjNTQwZTkzYzEzYjE3YmVkNmUwMTVjOGRiZjYwYyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.-h2q4yvxCUD7R6NdC35u81M-lntp50uLxUyU0pJLNJQ\" controls=\"controls\" muted=\"muted\" class=\"d-block rounded-bottom-2 border-top width-fit\" style=\"max-height:640px; min-height: 200px\">\n\n  </video>\n</details>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51396",
            "title": "[Fix #49259] backtrace_cleaner in the console",
            "date_modified": "2024-03-22T22:50:05.000Z",
            "date_published": "2024-03-22T22:46:20.000Z",
            "author": {
                "name": "joshbroughton",
                "url": "https://github.com/joshbroughton"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4628?u=0e2fd4281d8728b7760bd9e956dce12b6a5484ca&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This makes it possible to reflect on associations. For example, Blog.first.posts.association.owner would show that the blog is the owner of the association.</p>\n<h2 dir=\"auto\">Why?</h2>\n<p dir=\"auto\">I have a link helper in my Rails app that reflects on associations, like this: <code class=\"notranslate\">show(@blog.posts)</code>. Currently I can't reflect on that association unless I access a private instance variable:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"@blog.posts.instance_variable_get(&quot;@association&quot;).target\"><pre class=\"notranslate\"><span class=\"pl-c1\">@blog</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">posts</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">instance_variable_get</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"@association\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">target</span></pre></div>\n<p dir=\"auto\">This commit exposes the <code class=\"notranslate\">@association</code> object in a public API so I can reflect on associations.</p>",
            "url": "https://github.com/rails/rails/pull/51395",
            "title": "Expose @association as a reader in ActiveRecord_Associations_CollectionProxy",
            "date_modified": "2024-03-22T20:25:48.000Z",
            "date_published": "2024-03-22T20:22:30.000Z",
            "author": {
                "name": "bradgessler",
                "url": "https://github.com/bradgessler"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5122678?u=204301f9f9fe8930fd26fe3bfe65b6ffaffd8b59&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">In <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/e8638c9a942e94f097dc8f37a3b58ac067a5ca16/hovercard\" href=\"https://github.com/rails/rails/commit/e8638c9a942e94f097dc8f37a3b58ac067a5ca16\"><tt>e8638c9</tt></a> we introduced a constant to<br>\nstore the version of Node to be used when generating <code class=\"notranslate\">.node-version</code>.</p>\n<p dir=\"auto\">Since then, the <a href=\"https://nodejs.github.io/nodejs.dev/en/about/releases/\" rel=\"nofollow\">current LTS</a> version of Node is now <code class=\"notranslate\">20.11.1</code> as<br>\nof <a href=\"https://nodejs.org/en/blog/release/v20.11.1\" rel=\"nofollow\">2024-02-14</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51393",
            "title": "Bump `NODE_LTS_VERSION` to 20.11.1",
            "date_modified": "2024-03-25T09:27:56.000Z",
            "date_published": "2024-03-22T17:34:00.000Z",
            "author": {
                "name": "stevepolitodesign",
                "url": "https://github.com/stevepolitodesign"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/39735028?u=91330295c614cf3cec0b64bf242a14fc2ceb358f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This Pull Request has been created because the Rails org now has a <a href=\"https://github.com/rails/devcontainer/tree/main/images/ruby/.devcontainer\">ruby docker image</a> based on the <a href=\"https://github.com/rails/devcontainer/blob/main/features/ruby/README.md\">devcontainer feature</a> that we built a couple weeks ago. The goal of this PR is to use that ruby image in the Rails dev container.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes both the Rails devcontainer and the devcontainer generated for Rails apps. A few changes were needed:</p>\n<p dir=\"auto\">First of all, our image allows minor version to be specified. So I have updated that in both devcontainers.</p>\n<p dir=\"auto\">For rails app devcontainer, we need to install libpq or mysql headers (if we are using those dbs) because the image does not have them. This is just a temporary fix, as our plan is to create devcontainer features that will install everything needed for those dbs, which I plan to work on next week. I did not update the db system change generator to add these packages to the dockerfile as it's a bit tricky to get right since we don't want to mess up the user's dockerfile (which may be customized). I will wait for the feature to be ready and then db system change can simply add a new feature to <code class=\"notranslate\">devcontainer.json</code> when appropriate.</p>\n<p dir=\"auto\">For the rails devcontainer there were a few more changes. I had to add a couple libraries that don't exist on our image. Also I noticed we are doing extra ceremony to build imagemagick instead of apt get. This is because of issue with some activestorage tests going <a href=\"https://github.com/rails/rails/pull/43061#issuecomment-903658579\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/43061/hovercard\">back to the original PR creating the devcontainer</a>. But we just <a href=\"https://github.com/rails/buildkite-config/blob/main/Dockerfile#L46\">use apt get in CI</a> and there is no issue. I realized the difference is that we use libvips in the devcontainer but libvips-dev on CI. Making that change to the devcontainer got the tests passing. I think its a win because building imagemagick was one of the slowest parts of building this container.</p>\n<p dir=\"auto\">Additionally, we are no longer doing yarn install in the dockerfile. Our image does not include nvm or node. After discussion with <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/rafaelfranca/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rafaelfranca\">@rafaelfranca</a> we decided just to move yarn install out of the dockerfile and let it be done in the post setup script.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">While testing I noticed I failed to add requires to the DB System Change generator when I modified it to work with devcontainers in <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/c90a870/hovercard\" href=\"https://github.com/rails/rails/commit/c90a870\"><tt>c90a870</tt></a>. Not sure how I missed that but I figured I'd just add the fix to this branch.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51390",
            "title": "Devcontainer using ruby image",
            "date_modified": "2024-03-22T15:11:23.000Z",
            "date_published": "2024-03-22T13:05:53.000Z",
            "author": {
                "name": "andrewn617",
                "url": "https://github.com/andrewn617"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/27179786?u=835183e7dbda589294d25d54fb007fd4210744a1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because; I couldn't find the <code class=\"notranslate\">:variants</code> option in the API documentation. I noticed it was covered in the guidelines, but it didn't go over that render can intake a singular version of <code class=\"notranslate\">:variant</code> and partial rendering should only intake a plural version of the option.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">:variants</code> documentation to <code class=\"notranslate\">ActionView::PartialRenderer</code></li>\n<li><code class=\"notranslate\">:variants</code> and <code class=\"notranslate\">:variant</code> to <code class=\"notranslate\">ActionController::Rendering</code></li>\n</ul>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">It's not clear to me what areas should also include the as an available option, any insights would be helpful! 🙂</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51382",
            "title": "Add :variants option to render-related documentation [ci skip]",
            "date_modified": "2024-03-22T13:39:20.000Z",
            "date_published": "2024-03-21T18:30:04.000Z",
            "author": {
                "name": "dylhack",
                "url": "https://github.com/dylhack"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1710795?u=ba3804cd0d8bb86f4422a1a20efc6947aa06a7f6&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because it will make the form_with documentation clearer.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Documentation previously uses post which is confusing as the methods/verb is also post.</p>\n<p dir=\"auto\">Before<br>\n<code class=\"notranslate\">&lt;form action=\"/posts\" method=\"post\"&gt;</code></p>\n<p dir=\"auto\">After<br>\n<code class=\"notranslate\">&lt;form action=\"/articles\" method=\"post\"&gt;</code></p>\n<h3 dir=\"auto\">Method</h3>\n<p dir=\"auto\">Worked through a new Rails app with scaffold of article and checking the output of the HTML. Other HTML changes make it more authentic:</p>\n<ul dir=\"auto\">\n<li>/&gt; =&gt; at the end of the input</li>\n<li>value attribute before name attribute</li>\n</ul>\n<p dir=\"auto\">\"is then equivalent to something like\" =&gt; \"is then equivalent to\"</p>\n<ul dir=\"auto\">\n<li>I checked they were the same output - \"equivalent\" gives some leeway so I made it more concise.</li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51376",
            "title": "form_helper documentation using article instead of post [ci skip]",
            "date_modified": "2024-03-21T17:31:28.000Z",
            "date_published": "2024-03-21T17:31:25.000Z",
            "author": {
                "name": "notapatch",
                "url": "https://github.com/notapatch"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/713453?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Currently when casting a hex string argument for a PostgreSQL <code class=\"notranslate\">bit</code> or <code class=\"notranslate\">bit_varying</code> column, leading zeroes are discarded. This is unexpected, and differs from the behavior of binary strings.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request ensures leading zeroes are preserved, e.g. assigning a bit string column \"0x5F\" results in the bit string \"01011111\" instead of \"1011111\" being sent to Postgres.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51375",
            "title": "fix hex bit strings with leading zeroes in postgresql",
            "date_modified": "2024-03-22T15:01:36.000Z",
            "date_published": "2024-03-21T17:14:40.000Z",
            "author": {
                "name": "jstanley0",
                "url": "https://github.com/jstanley0"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1706819?u=66fec600fb876e40137d8e38145bb4b54cce5786&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Many different factors can impact the database query execution time from an application's point of view, such as network latency, query execution plan, table data shape, and others.</p>\n<p dir=\"auto\">Currently, the application can provide a \"hardcoded\" <code class=\"notranslate\">read_timeout</code> value in the database.yml, which helps to cap the maximum time it will take to execute one query.</p>\n<p dir=\"auto\">However, it is not uncommon for a web request to have multiple query executions, and multiple slow queries can impact its response time. To mitigate the long response times, our application has a maximum allowed request time budget, which can be exhausted by multiple types of these issues. We would like to control the application wait time dynamically and gradually reduce that as the web request progresses. It will allow us to prevent a query from exhausting the request time budget.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">I added the ability to customize the database <code class=\"notranslate\">read_timeout</code> property dynamically. It will receive the <code class=\"notranslate\">read_timeout</code> as a value or a callable object, and a block. Any connection execution within that block will have the read_timeout replaced by the provided value. For example:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"ActiveRecord::Base.with_custom_conn_properties(read_timeout: 1) do\n  ...\n  Model.where(...).to_a # The read_timeout will be set to 1s\n  ...\nend\"><pre class=\"notranslate\"><span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">with_custom_conn_properties</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">read_timeout</span>: <span class=\"pl-c1\">1</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n  ...\n  <span class=\"pl-v\">Model</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">where</span><span class=\"pl-kos\">(</span>...<span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_a</span> <span class=\"pl-c\"># The read_timeout will be set to 1s</span>\n  ...\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51373",
            "title": "Add ability to modify read timeout in runtime",
            "date_modified": "2024-03-21T20:39:12.000Z",
            "date_published": "2024-03-21T13:41:05.000Z",
            "author": {
                "name": "gabriel-amaral",
                "url": "https://github.com/gabriel-amaral"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/874365?u=9831249994b8c9924e72be90f134cd0ed9f82a7d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Indicates whether a relation was marked readonly.</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">There's currently no documented API to check if a relation is readonly. Workarounds include loading the records and checking those for <code class=\"notranslate\">readonly?</code> or using accessing the undocumented <code class=\"notranslate\">readonly_value</code>.</p>\n<p dir=\"auto\">A Relation could be marked readonly and used as an indication to what should be rendered. This change makes that use case simpler.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Adds <code class=\"notranslate\">ActiveRecord::Relation#readonly?</code> which behaves the same as <code class=\"notranslate\">ActiveRecord::Base#readonly?</code> for the contained records.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51371",
            "title": "Add `ActiveRecord::Relation#readonly?`",
            "date_modified": "2024-03-24T09:48:55.000Z",
            "date_published": "2024-03-21T11:30:28.000Z",
            "author": {
                "name": "theodorton",
                "url": "https://github.com/theodorton"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2103414?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created to enable running the activerecord test suite with the oracle-enhanced adapter post activerecord 7.1.0</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\"><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1679125985\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48015\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48015/hovercard\" href=\"https://github.com/rails/rails/pull/48015\">#48015</a> (specifically <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/7572a13af6444abf51720051c6a93d72a7aead0e/hovercard\" href=\"https://github.com/rails/rails/commit/7572a13af6444abf51720051c6a93d72a7aead0e\"><tt>7572a13</tt></a>) adds a check to ensure the connection name matches the adapter name for the test run. For oracle databases, the testing files call the connection <code class=\"notranslate\">oracle</code>, but the adapter we use is <code class=\"notranslate\">oracle_enhanced</code>, resulting in an error when the tests are run:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"bundle exec rake test:oracle TEST=test/cases/base_test.rb\n/usr/local/bin/ruby -w -I&quot;lib:test&quot; /usr/local/lib/ruby/gems/3.2.0/gems/rake-13.0.6/lib/rake/rake_test_loader.rb &quot;test/cases/base_test.rb&quot;\nUsing oracle\n/app/activerecord/test/support/connection.rb:38:in `connect': The connection name did not match the adapter name. Connection name is 'oracle' and the adapter name is 'oracle_enhanced'. (ArgumentError)\n\n      raise ArgumentError, &quot;The connection name did not match the adapter name. Connection name is '#{connection_name}' and the adapter name is '#{arunit_adapter}'.&quot;\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\tfrom /app/activerecord/test/cases/test_case.rb:248:in `&lt;class:TestCase&gt;'\n\tfrom /app/activerecord/test/cases/test_case.rb:20:in `&lt;module:ActiveRecord&gt;'\n\tfrom /app/activerecord/test/cases/test_case.rb:16:in `&lt;top (required)&gt;'\n\tfrom /app/activerecord/test/cases/helper.rb:8:in `require'\n\tfrom /app/activerecord/test/cases/helper.rb:8:in `&lt;top (required)&gt;'\n\tfrom /app/activerecord/test/cases/base_test.rb:3:in `require'\n\tfrom /app/activerecord/test/cases/base_test.rb:3:in `&lt;top (required)&gt;'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/rake-13.0.6/lib/rake/rake_test_loader.rb:21:in `require'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/rake-13.0.6/lib/rake/rake_test_loader.rb:21:in `block in &lt;main&gt;'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/rake-13.0.6/lib/rake/rake_test_loader.rb:6:in `select'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/rake-13.0.6/lib/rake/rake_test_loader.rb:6:in `&lt;main&gt;'\nrake aborted!\"><pre class=\"notranslate\"><code class=\"notranslate\">bundle exec rake test:oracle TEST=test/cases/base_test.rb\n/usr/local/bin/ruby -w -I\"lib:test\" /usr/local/lib/ruby/gems/3.2.0/gems/rake-13.0.6/lib/rake/rake_test_loader.rb \"test/cases/base_test.rb\"\nUsing oracle\n/app/activerecord/test/support/connection.rb:38:in `connect': The connection name did not match the adapter name. Connection name is 'oracle' and the adapter name is 'oracle_enhanced'. (ArgumentError)\n\n      raise ArgumentError, \"The connection name did not match the adapter name. Connection name is '#{connection_name}' and the adapter name is '#{arunit_adapter}'.\"\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\tfrom /app/activerecord/test/cases/test_case.rb:248:in `&lt;class:TestCase&gt;'\n\tfrom /app/activerecord/test/cases/test_case.rb:20:in `&lt;module:ActiveRecord&gt;'\n\tfrom /app/activerecord/test/cases/test_case.rb:16:in `&lt;top (required)&gt;'\n\tfrom /app/activerecord/test/cases/helper.rb:8:in `require'\n\tfrom /app/activerecord/test/cases/helper.rb:8:in `&lt;top (required)&gt;'\n\tfrom /app/activerecord/test/cases/base_test.rb:3:in `require'\n\tfrom /app/activerecord/test/cases/base_test.rb:3:in `&lt;top (required)&gt;'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/rake-13.0.6/lib/rake/rake_test_loader.rb:21:in `require'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/rake-13.0.6/lib/rake/rake_test_loader.rb:21:in `block in &lt;main&gt;'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/rake-13.0.6/lib/rake/rake_test_loader.rb:6:in `select'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/rake-13.0.6/lib/rake/rake_test_loader.rb:6:in `&lt;main&gt;'\nrake aborted!\n</code></pre></div>\n<p dir=\"auto\">This change updates the connection name to be <code class=\"notranslate\">oracle_enhanced</code> so it matches the adapter. With these changes I can run</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"bundle exec rake test:oracle_enhanced TEST=test/cases/base_test.rb\"><pre class=\"notranslate\"><code class=\"notranslate\">bundle exec rake test:oracle_enhanced TEST=test/cases/base_test.rb\n</code></pre></div>\n<p dir=\"auto\">without getting the connection name error.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">I did not rename <code class=\"notranslate\">activerecord/test/schema/oracle_specific_schema.rb</code> because the config.example.yml has emulate_oracle_adapter set to true so <code class=\"notranslate\">oracle_specific_schema</code> is still the name the LoadSchemaHelper looks for.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51362",
            "title": "Update oracle connection name to match adapter in tests",
            "date_modified": "2024-03-21T21:45:41.000Z",
            "date_published": "2024-03-20T21:25:33.000Z",
            "author": {
                "name": "davinlagerroos",
                "url": "https://github.com/davinlagerroos"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1972157?u=552d322e6fffc15db910ecded22fdc47034181a6&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Adjusts the logic in inverse_polymorphic_association_changed? to determine if a has_one association's polymorphic association should autosave the associated record for a type change.</p>\n<p dir=\"auto\">Previously this would see the type as changed every time if the has_one is defined on a child class, since the polymorphic relationship saves the parent class as the *_type value. The new check resolves the correct class name to avoid these extra saves.</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #51280.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2174963549\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51280\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51280/hovercard\" href=\"https://github.com/rails/rails/issues/51280\">#51280</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Also confirmed that the new test fails without the code change:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Failure:\nTestAutosaveAssociationOnAHasOneAssociation#test_should_not_saved_for_unchanged_sti_type_on_polymorphic_association [test/cases/autosave_association_test.rb:1652]:\nExpected: 2\n  Actual: 3\n\n\nbin/rails test test/cases/autosave_association_test.rb:1620\"><pre class=\"notranslate\"><code class=\"notranslate\">Failure:\nTestAutosaveAssociationOnAHasOneAssociation#test_should_not_saved_for_unchanged_sti_type_on_polymorphic_association [test/cases/autosave_association_test.rb:1652]:\nExpected: 2\n  Actual: 3\n\n\nbin/rails test test/cases/autosave_association_test.rb:1620\n</code></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51359",
            "title": "Prevent autosave association with has_one defined on child class",
            "date_modified": "2024-03-20T17:33:03.000Z",
            "date_published": "2024-03-20T17:31:55.000Z",
            "author": {
                "name": "dfritsch",
                "url": "https://github.com/dfritsch"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/73684?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This pull request addresses the following Rails Nightly CI error since <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2188107776\" data-permission-text=\"Title is private\" data-url=\"https://github.com/ruby/ruby/issues/10262\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/ruby/ruby/pull/10262/hovercard\" href=\"https://github.com/ruby/ruby/pull/10262\">ruby/ruby#10262</a> has been merged to Ruby master branch. <a href=\"https://buildkite.com/rails/rails-nightly/builds/310#018e5929-ff70-4397-b978-9a0a03cd4706/1255-1265\" rel=\"nofollow\">https://buildkite.com/rails/rails-nightly/builds/310#018e5929-ff70-4397-b978-9a0a03cd4706/1255-1265</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<ul dir=\"auto\">\n<li>Without this commit:</li>\n</ul>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ ruby -v\nruby 3.4.0dev (2024-03-19T08:26:49Z master 12be40ae6b) [x86_64-linux]\n$ cd actionpack\n$ RAILS_STRICT_WARNINGS=true bin/test test/controller/renderer_test.rb:37\nRunning 25 tests in a single process (parallelization threshold is 50)\nRun options: --seed 14013\n\n/home/yahonda/src/github.com/rails/rails/actionpack/test/fixtures/ruby_template.ruby:2: warning: literal string will be frozen in the future\nE\n\nError:\nRendererTest#test_rendering_with_a_class_renderer:\nRuntimeError: Neutered Exception ActionView::Template::Error: /home/yahonda/src/github.com/rails/rails/actionpack/test/fixtures/ruby_template.ruby:2: warning: literal string will be frozen in the future\n\n    /home/yahonda/src/github.com/rails/rails/activesupport/lib/active_support/testing/strict_warnings.rb:33:in 'ActiveSupport::RaiseWarnings#warn'\n    test/fixtures/ruby_template.ruby:2:in '_home_yahonda_src_github_com_rails_rails_actionpack_test_fixtures_ruby_template_ruby__3648742137162546161_6360'\n    /home/yahonda/src/github.com/rails/rails/actionview/lib/action_view/base.rb:282:in 'Kernel#public_send'\n    /home/yahonda/src/github.com/rails/rails/actionview/lib/action_view/base.rb:282:in 'ActionView::Base#_run'\n    /home/yahonda/src/github.com/rails/rails/actionview/lib/action_view/template.rb:275:in 'block in ActionView::Template#render'\n    /home/yahonda/src/github.com/rails/rails/activesupport/lib/active_support/notifications.rb:212:in 'ActiveSupport::Notifications.instrument'\n    /home/yahonda/src/github.com/rails/rails/actionview/lib/action_view/template.rb:567:in 'ActionView::Template#instrument_render_template'\n    /home/yahonda/src/github.com/rails/rails/actionview/lib/action_view/template.rb:263:in 'ActionView::Template#render'\n    /home/yahonda/src/github.com/rails/rails/actionview/lib/action_view/renderer/template_renderer.rb:66:in 'block (2 levels) in ActionView::TemplateRenderer#render_template'\n    /home/yahonda/src/github.com/rails/rails/activesupport/lib/active_support/notifications.rb:212:in 'ActiveSupport::Notifications.instrument'\n    /home/yahonda/src/github.com/rails/rails/actionview/lib/action_view/renderer/template_renderer.rb:60:in 'block in ActionView::TemplateRenderer#render_template'\n    /home/yahonda/src/github.com/rails/rails/actionview/lib/action_view/renderer/template_renderer.rb:80:in 'ActionView::TemplateRenderer#render_with_layout'\n    /home/yahonda/src/github.com/rails/rails/actionview/lib/action_view/renderer/template_renderer.rb:59:in 'ActionView::TemplateRenderer#render_template'\n    /home/yahonda/src/github.com/rails/rails/actionview/lib/action_view/renderer/template_renderer.rb:11:in 'ActionView::TemplateRenderer#render'\n    /home/yahonda/src/github.com/rails/rails/actionview/lib/action_view/renderer/renderer.rb:58:in 'ActionView::Renderer#render_template_to_object'\n    /home/yahonda/src/github.com/rails/rails/actionview/lib/action_view/renderer/renderer.rb:31:in 'ActionView::Renderer#render_to_object'\n    /home/yahonda/src/github.com/rails/rails/actionview/lib/action_view/rendering.rb:135:in 'block in ActionView::Rendering#_render_template'\n    /home/yahonda/src/github.com/rails/rails/actionview/lib/action_view/base.rb:309:in 'ActionView::Base#in_rendering_context'\n    /home/yahonda/src/github.com/rails/rails/actionview/lib/action_view/rendering.rb:134:in 'ActionView::Rendering#_render_template'\n    lib/action_controller/metal/streaming.rb:258:in 'ActionController::Streaming#_render_template'\n    /home/yahonda/src/github.com/rails/rails/actionview/lib/action_view/rendering.rb:121:in 'ActionView::Rendering#render_to_body'\n    lib/action_controller/metal/rendering.rb:186:in 'ActionController::Rendering#render_to_body'\n    lib/action_controller/metal/renderers.rb:142:in 'ActionController::Renderers#render_to_body'\n    lib/abstract_controller/rendering.rb:47:in 'AbstractController::Rendering#render_to_string'\n    lib/action_controller/metal/rendering.rb:175:in 'ActionController::Rendering#render_to_string'\n    lib/action_controller/renderer.rb:136:in 'ActionController::Renderer#render'\n    test/controller/renderer_test.rb:37:in 'block in &lt;class:RendererTest&gt;'\n\nbin/test test/controller/renderer_test.rb:35\n\nFinished in 0.294798s, 3.3921 runs/s, 0.0000 assertions/s.\n1 runs, 0 assertions, 0 failures, 1 errors, 0 skips\n$\"><pre class=\"notranslate\">$ <span class=\"pl-en\">ruby</span> -<span class=\"pl-en\">v</span>\n<span class=\"pl-en\">ruby</span> <span class=\"pl-c1\">3.4</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">0</span><span class=\"pl-en\">dev</span> <span class=\"pl-kos\">(</span><span class=\"pl-c1\">2024</span>-<span class=\"pl-c1\">03</span>-<span class=\"pl-c1\">19</span><span class=\"pl-pds\">T08</span><span class=\"pl-pds\">:26</span>:<span class=\"pl-c1\">49</span><span class=\"pl-c1\">Z</span> <span class=\"pl-en\">master</span> <span class=\"pl-c1\">12</span><span class=\"pl-en\">be40ae6b</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">[</span><span class=\"pl-en\">x86_64</span>-<span class=\"pl-en\">linux</span><span class=\"pl-kos\">]</span>\n$ <span class=\"pl-en\">cd</span> <span class=\"pl-en\">actionpack</span>\n$ <span class=\"pl-c1\">RAILS_STRICT_WARNINGS</span><span class=\"pl-c1\">=</span><span class=\"pl-c1\">true</span> <span class=\"pl-en\">bin</span>/<span class=\"pl-en\">test</span> <span class=\"pl-en\">test</span>/<span class=\"pl-en\">controller</span>/<span class=\"pl-en\">renderer_test</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">37</span>\n<span class=\"pl-en\">Running</span> <span class=\"pl-c1\">25</span> <span class=\"pl-en\">tests</span> <span class=\"pl-en\">in</span> <span class=\"pl-en\">a</span> <span class=\"pl-en\">single</span> <span class=\"pl-en\">process</span> <span class=\"pl-kos\">(</span><span class=\"pl-en\">parallelization</span> <span class=\"pl-en\">threshold</span> <span class=\"pl-en\">is</span> <span class=\"pl-c1\">50</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-en\">Run</span> <span class=\"pl-pds\">options</span>: --<span class=\"pl-en\">seed</span> <span class=\"pl-c1\">14013</span>\n\n<span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionpack</span>/<span class=\"pl-en\">test</span>/<span class=\"pl-en\">fixtures</span>/<span class=\"pl-en\">ruby_template</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">ruby</span>:<span class=\"pl-c1\">2</span>: <span class=\"pl-pds\">warning</span>: <span class=\"pl-en\">literal</span> <span class=\"pl-en\">string</span> <span class=\"pl-en\">will</span> <span class=\"pl-en\">be</span> <span class=\"pl-en\">frozen</span> <span class=\"pl-k\">in</span> <span class=\"pl-en\">the</span> <span class=\"pl-en\">future</span>\n<span class=\"pl-c1\">E</span>\n\n<span class=\"pl-v\">Error</span>:\n<span class=\"pl-v\">RendererTest</span><span class=\"pl-c\">#test_rendering_with_a_class_renderer:</span>\n<span class=\"pl-en\">RuntimeError</span>: <span class=\"pl-en\">Neutered</span> <span class=\"pl-en\">Exception</span> <span class=\"pl-v\">ActionView</span>::<span class=\"pl-v\">Template</span>::<span class=\"pl-en\">Error</span>: <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionpack</span>/<span class=\"pl-en\">test</span>/<span class=\"pl-en\">fixtures</span>/<span class=\"pl-en\">ruby_template</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">ruby</span>:<span class=\"pl-c1\">2</span>: <span class=\"pl-pds\">warning</span>: <span class=\"pl-en\">literal</span> <span class=\"pl-en\">string</span> <span class=\"pl-en\">will</span> <span class=\"pl-en\">be</span> <span class=\"pl-en\">frozen</span> <span class=\"pl-k\">in</span> <span class=\"pl-en\">the</span> <span class=\"pl-en\">future</span>\n\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">activesupport</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">active_support</span>/<span class=\"pl-en\">testing</span>/<span class=\"pl-en\">strict_warnings</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">33</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActiveSupport::RaiseWarnings#warn'</span>\n    <span class=\"pl-en\">test</span>/<span class=\"pl-en\">fixtures</span>/<span class=\"pl-en\">ruby_template</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">ruby</span>:<span class=\"pl-c1\">2</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'_home_yahonda_src_github_com_rails_rails_actionpack_test_fixtures_ruby_template_ruby__3648742137162546161_6360'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionview</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_view</span>/<span class=\"pl-en\">base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">282</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'Kernel#public_send'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionview</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_view</span>/<span class=\"pl-en\">base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">282</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActionView::Base#_run'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionview</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_view</span>/<span class=\"pl-en\">template</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">275</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'block in ActionView::Template#render'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">activesupport</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">active_support</span>/<span class=\"pl-en\">notifications</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">212</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActiveSupport::Notifications.instrument'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionview</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_view</span>/<span class=\"pl-en\">template</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">567</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActionView::Template#instrument_render_template'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionview</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_view</span>/<span class=\"pl-en\">template</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">263</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActionView::Template#render'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionview</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_view</span>/<span class=\"pl-en\">renderer</span>/<span class=\"pl-en\">template_renderer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">66</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'block (2 levels) in ActionView::TemplateRenderer#render_template'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">activesupport</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">active_support</span>/<span class=\"pl-en\">notifications</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">212</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActiveSupport::Notifications.instrument'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionview</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_view</span>/<span class=\"pl-en\">renderer</span>/<span class=\"pl-en\">template_renderer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">60</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'block in ActionView::TemplateRenderer#render_template'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionview</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_view</span>/<span class=\"pl-en\">renderer</span>/<span class=\"pl-en\">template_renderer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">80</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActionView::TemplateRenderer#render_with_layout'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionview</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_view</span>/<span class=\"pl-en\">renderer</span>/<span class=\"pl-en\">template_renderer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">59</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActionView::TemplateRenderer#render_template'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionview</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_view</span>/<span class=\"pl-en\">renderer</span>/<span class=\"pl-en\">template_renderer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">11</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActionView::TemplateRenderer#render'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionview</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_view</span>/<span class=\"pl-en\">renderer</span>/<span class=\"pl-en\">renderer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">58</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActionView::Renderer#render_template_to_object'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionview</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_view</span>/<span class=\"pl-en\">renderer</span>/<span class=\"pl-en\">renderer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">31</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActionView::Renderer#render_to_object'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionview</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_view</span>/<span class=\"pl-en\">rendering</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">135</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'block in ActionView::Rendering#_render_template'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionview</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_view</span>/<span class=\"pl-en\">base</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">309</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActionView::Base#in_rendering_context'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionview</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_view</span>/<span class=\"pl-en\">rendering</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">134</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActionView::Rendering#_render_template'</span>\n    <span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_controller</span>/<span class=\"pl-en\">metal</span>/<span class=\"pl-en\">streaming</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">258</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActionController::Streaming#_render_template'</span>\n    <span class=\"pl-sr\">/home/yahonda</span>/<span class=\"pl-en\">src</span>/<span class=\"pl-en\">github</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">com</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">rails</span>/<span class=\"pl-en\">actionview</span>/<span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_view</span>/<span class=\"pl-en\">rendering</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">121</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActionView::Rendering#render_to_body'</span>\n    <span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_controller</span>/<span class=\"pl-en\">metal</span>/<span class=\"pl-en\">rendering</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">186</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActionController::Rendering#render_to_body'</span>\n    <span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_controller</span>/<span class=\"pl-en\">metal</span>/<span class=\"pl-en\">renderers</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">142</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActionController::Renderers#render_to_body'</span>\n    <span class=\"pl-en\">lib</span>/<span class=\"pl-en\">abstract_controller</span>/<span class=\"pl-en\">rendering</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">47</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'AbstractController::Rendering#render_to_string'</span>\n    <span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_controller</span>/<span class=\"pl-en\">metal</span>/<span class=\"pl-en\">rendering</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">175</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActionController::Rendering#render_to_string'</span>\n    <span class=\"pl-en\">lib</span>/<span class=\"pl-en\">action_controller</span>/<span class=\"pl-en\">renderer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">136</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'ActionController::Renderer#render'</span>\n    <span class=\"pl-en\">test</span>/<span class=\"pl-en\">controller</span>/<span class=\"pl-en\">renderer_test</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">37</span><span class=\"pl-pds\">:in</span> <span class=\"pl-s\">'block in &lt;class:RendererTest&gt;'</span>\n\n<span class=\"pl-en\">bin</span>/<span class=\"pl-en\">test</span> <span class=\"pl-en\">test</span>/<span class=\"pl-en\">controller</span>/<span class=\"pl-en\">renderer_test</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">rb</span>:<span class=\"pl-c1\">35</span>\n\n<span class=\"pl-en\">Finished</span> <span class=\"pl-en\">in</span> <span class=\"pl-c1\">0.294798</span><span class=\"pl-en\">s</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">3.3921</span> <span class=\"pl-en\">runs</span>/<span class=\"pl-en\">s</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">0.0000</span> <span class=\"pl-en\">assertions</span>/<span class=\"pl-en\">s</span><span class=\"pl-kos\">.</span>\n<span class=\"pl-c1\">1</span> <span class=\"pl-en\">runs</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">0</span> <span class=\"pl-en\">assertions</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">0</span> <span class=\"pl-en\">failures</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">1</span> <span class=\"pl-en\">errors</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">0</span> <span class=\"pl-en\">skips</span>\n$</pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Refer to these Ruby issue and pull request for this change: <a href=\"https://bugs.ruby-lang.org/issues/20205\" rel=\"nofollow\">https://bugs.ruby-lang.org/issues/20205</a><br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2188107776\" data-permission-text=\"Title is private\" data-url=\"https://github.com/ruby/ruby/issues/10262\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/ruby/ruby/pull/10262/hovercard\" href=\"https://github.com/ruby/ruby/pull/10262\">ruby/ruby#10262</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51357",
            "title": "Address `RendererTest#test_rendering_with_a_class_renderer` failure against Ruby 3.4.0dev",
            "date_modified": "2024-03-20T22:09:06.000Z",
            "date_published": "2024-03-20T14:15:56.000Z",
            "author": {
                "name": "yahonda",
                "url": "https://github.com/yahonda"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/44280450?u=5d0b7f0d7535c39131a9d2d513cbf4691236b6e4&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><code class=\"notranslate\">ActiveSupport::Subscriber</code> provides a nice way to handle <code class=\"notranslate\">ActiveSupport::Notifications::Event</code>. However, there is a lack of guide.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Document how to subscribe event of given namespace using <code class=\"notranslate\">ActiveSupport::Subscriber</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51356",
            "title": "[ci skip] Document `ActiveSupport::Subscriber` in guides",
            "date_modified": "2024-03-20T06:05:10.000Z",
            "date_published": "2024-03-20T06:04:17.000Z",
            "author": {
                "name": "heka1024",
                "url": "https://github.com/heka1024"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/3028205?u=92f742f521757dfbcf7229ef27dd4c9a27f81644&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because the documentation is improved by consistently using the same model names throughout.<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2161922628\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51226\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51226/hovercard?comment_id=1527578109&amp;comment_type=review_comment\" href=\"https://github.com/rails/rails/pull/51226#discussion_r1527578109\">#51226 (comment)</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the Active Record Basics Guide \"Creating Namespaced Models\" section to use Book instead of Order in the examples, consistent with the rest of the document.</p>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51355",
            "title": "Replace Order with Book in \"Creating Namespaced Models\" section of docs for consistency",
            "date_modified": "2024-03-21T18:34:36.000Z",
            "date_published": "2024-03-20T03:00:04.000Z",
            "author": {
                "name": "asavageiv",
                "url": "https://github.com/asavageiv"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/133328?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">From discussion: <a href=\"https://discuss.rubyonrails.org/t/proposal-prevent-activerecord-access/85322\" rel=\"nofollow\">https://discuss.rubyonrails.org/t/proposal-prevent-activerecord-access/85322</a></p>\n<blockquote>\n<p dir=\"auto\">I have some methods that I know are being called in loops and these methods will become N+1 DB query situations if a database query is generated in any way. What I’m hoping for is some sort of runtime policy that says “no ActiveRecord access is allowed in here, you must load everything you need first”</p>\n<p dir=\"auto\">Here’s another way to put it. If I have some business logic that combines data loading with some kind of pure calculation, it would be nice to have the power, when it is useful, to strongly separate these concerns and be sure the separation remains.</p>\n<p dir=\"auto\">This power could be useful for any situation where a hot code path must remain free of queries. Perhaps it could be used to implement a policy to prevent database access during the render phase of an HTTP request.</p>\n</blockquote>\n<p dir=\"auto\">N+1 queries can be a real performance concern. It isn't always immediately obvious what the impacts could be of adding a new query. I wish engineers would be constantly watching the query log as they work. But things can get out of hand quickly, and even if you are watching the wall of queries being logged, N+1s can sometimes disappear into the noise.</p>\n<p dir=\"auto\">Also, there are times when I want a pure in-memory algorithm. An API like this would allow me to both express and enforce the intention to not be hitting the database in a branch of code.</p>\n<p dir=\"auto\">Just today, I was working with some code that broke a test that asserts for a given controller action, exactly 118 queries are dispatched. This is a terrible test to have, but we have it because we have had real problems with query explosions emerging unexpectedly. I believe strict loading could help, but it would not have prevented all of the problems that led to write and maintain this test.</p>\n<p dir=\"auto\">This is indeed a heavy hammer to use. But I don't see an alternative that can achieve the same level of assurance, and the implementation was pretty easy thanks to the prior art of <code class=\"notranslate\">while_preventing_writes</code>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds <code class=\"notranslate\">while_preventing_access</code> to the public API of ActiveRecord::Base much like was done for <code class=\"notranslate\">while_preventing_writes</code> in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"383302161\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/34505\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/34505/hovercard\" href=\"https://github.com/rails/rails/pull/34505\">#34505</a></p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51354",
            "title": "Add ability to prevent access to a database",
            "date_modified": "2024-03-23T06:25:57.000Z",
            "date_published": "2024-03-19T21:46:17.000Z",
            "author": {
                "name": "stevecrozz",
                "url": "https://github.com/stevecrozz"
            }
        }
    ]
}