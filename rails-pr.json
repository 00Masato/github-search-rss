{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">These lines are not useful, given the more informative examples on the lines immediately following them.</p>",
            "url": "https://github.com/rails/rails/pull/51328",
            "title": "Remove useless example lines from the `configuring.md` doc",
            "date_modified": "2024-03-14T17:27:37.000Z",
            "date_published": "2024-03-14T17:27:32.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1518299?u=d3dda61ebb16317ded64f166b59e35e1e160b9b1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword\">Fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2179543988\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51298\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51298/hovercard\" href=\"https://github.com/rails/rails/issues/51298\">#51298</a></p>\n<p dir=\"auto\">forking inside an Execution Wrapper crashes when running the completion callbacks.</p>\n<p dir=\"auto\">Rails 7.0 was not Execution wrapping the <code class=\"notranslate\">runner</code> command.<br>\nRails 7.2 changed the definition of <code class=\"notranslate\">active_connection?</code>, the new definition doesn't contain the bug.</p>\n<p dir=\"auto\">Therefore forking inside a script intended to be run with the <code class=\"notranslate\">runner</code> command on 7.1 crashes. (see <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2179543988\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51298\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51298/hovercard\" href=\"https://github.com/rails/rails/issues/51298\">#51298</a>)</p>\n<p dir=\"auto\">This PR is targeting <code class=\"notranslate\">7-1-stable</code></p>\n<p dir=\"auto\">Edit: The regression test (with the fork) blew up the tests. I removed it, I'll revisit.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51318",
            "title": "Fix a crash when an  Executor wrapped fork exit.",
            "date_modified": "2024-03-13T05:52:25.000Z",
            "date_published": "2024-03-13T02:22:58.000Z",
            "author": {
                "name": "JoeDupuis",
                "url": "https://github.com/JoeDupuis"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5122678?u=204301f9f9fe8930fd26fe3bfe65b6ffaffd8b59&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/5613b1240a363bf6ee3945f30341e52f5500a498/hovercard\" href=\"https://github.com/rails/rails/commit/5613b1240a363bf6ee3945f30341e52f5500a498\"><tt>5613b12</tt></a> introduced the ability to detect unused routes. I felt this was a good candidate for a CI job.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Adds job to scan application for unused routes in <code class=\"notranslate\">ci.yml</code> by running:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"bin/rails routes --unused\"><pre class=\"notranslate\"><code class=\"notranslate\">bin/rails routes --unused\n</code></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">By default, this will pass on any new Rails application.<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/5122678/312272877-0b34e0d9-8c6f-44df-91ae-25915d4b3ffe.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTA0NDY3OTMsIm5iZiI6MTcxMDQ0NjQ5MywicGF0aCI6Ii81MTIyNjc4LzMxMjI3Mjg3Ny0wYjM0ZTBkOS04YzZmLTQ0ZGYtOTFhZS0yNTkxNWQ0YjNmZmUucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDMxNCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDAzMTRUMjAwMTMzWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MmNlZTIwN2Y3ZGRiZjE0OThmODVhMzI5YjQ0N2Q2YTNjMjE2NWY1Y2E0NWY1YzI2NjI0MTBhZDQ3M2ViZTk2YyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.zMyTpR85m2eVfoXDynOI9BoER6d26-IzA2-ZKNTLCmM\"><img src=\"https://private-user-images.githubusercontent.com/5122678/312272877-0b34e0d9-8c6f-44df-91ae-25915d4b3ffe.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTA0NDY3OTMsIm5iZiI6MTcxMDQ0NjQ5MywicGF0aCI6Ii81MTIyNjc4LzMxMjI3Mjg3Ny0wYjM0ZTBkOS04YzZmLTQ0ZGYtOTFhZS0yNTkxNWQ0YjNmZmUucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDMxNCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDAzMTRUMjAwMTMzWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MmNlZTIwN2Y3ZGRiZjE0OThmODVhMzI5YjQ0N2Q2YTNjMjE2NWY1Y2E0NWY1YzI2NjI0MTBhZDQ3M2ViZTk2YyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.zMyTpR85m2eVfoXDynOI9BoER6d26-IzA2-ZKNTLCmM\" alt=\"CleanShot 2024-03-12 at 20 40 38@2x\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">If any unused routes are detected, a non-zero exit code is returned, resulting in a failure:</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/5122678/312272086-d9957608-f001-46d6-9b3b-e84acc080251.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTA0NDY3OTMsIm5iZiI6MTcxMDQ0NjQ5MywicGF0aCI6Ii81MTIyNjc4LzMxMjI3MjA4Ni1kOTk1NzYwOC1mMDAxLTQ2ZDYtOWIzYi1lODRhY2MwODAyNTEucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDMxNCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDAzMTRUMjAwMTMzWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9Y2ZmNTRkMzRiYjEwZTU1ZDA5NDY5MTc1OTQzZWUwNDFlY2VlNDI5YTI5ZjZiMWMzYmMwNzJhMzA0MjhiZjE3NSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.eHGUGVIyx7K8JzpNeD46Rz7IZjaLBngtEXvWfrfO2Ko\"><img src=\"https://private-user-images.githubusercontent.com/5122678/312272086-d9957608-f001-46d6-9b3b-e84acc080251.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTA0NDY3OTMsIm5iZiI6MTcxMDQ0NjQ5MywicGF0aCI6Ii81MTIyNjc4LzMxMjI3MjA4Ni1kOTk1NzYwOC1mMDAxLTQ2ZDYtOWIzYi1lODRhY2MwODAyNTEucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDMxNCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDAzMTRUMjAwMTMzWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9Y2ZmNTRkMzRiYjEwZTU1ZDA5NDY5MTc1OTQzZWUwNDFlY2VlNDI5YTI5ZjZiMWMzYmMwNzJhMzA0MjhiZjE3NSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.eHGUGVIyx7K8JzpNeD46Rz7IZjaLBngtEXvWfrfO2Ko\" alt=\"CleanShot 2024-03-12 at 20 33 48@2x\" style=\"max-width: 100%;\"></a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51316",
            "title": "Scan application for unused routes in `ci.yml`",
            "date_modified": "2024-03-13T13:38:46.000Z",
            "date_published": "2024-03-13T00:38:26.000Z",
            "author": {
                "name": "stevepolitodesign",
                "url": "https://github.com/stevepolitodesign"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6282795?u=93a13f12db751e898394b002fe7c02d6809ab6cd&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50807.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2090245533\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50807\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50807/hovercard\" href=\"https://github.com/rails/rails/issues/50807\">#50807</a></p>\n<p dir=\"auto\">As described in Issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2090245533\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50807\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50807/hovercard\" href=\"https://github.com/rails/rails/issues/50807\">#50807</a>,  validations are enabled by default when the autosave option is set to true. Currently, that behavior is not documented for the <code class=\"notranslate\">has_one</code> or <code class=\"notranslate\">belongs_to</code> associations.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">To resolve this issue, the  API documentation has been updated to document the validation behavior when the <code class=\"notranslate\">autosave: true</code> option is set in <code class=\"notranslate\">Activerecord::Associations</code> for the <code class=\"notranslate\">has_one</code> or <code class=\"notranslate\">belongs_to</code> associations.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51315",
            "title": "[ci skip] Undocumented - validations enabled by autosave",
            "date_modified": "2024-03-12T21:09:24.000Z",
            "date_published": "2024-03-12T21:09:19.000Z",
            "author": {
                "name": "sherrimitchell",
                "url": "https://github.com/sherrimitchell"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/26704491?u=db54a0798fb800751ceea6bd73cf3d2794ebb1ac&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR changes the active storage dependency version for action text.</p>",
            "url": "https://github.com/rails/rails/pull/51311",
            "title": "Do not use the alpha version if the major version is released",
            "date_modified": "2024-03-12T17:04:19.000Z",
            "date_published": "2024-03-12T17:04:15.000Z",
            "author": {
                "name": "adityapandit17",
                "url": "https://github.com/adityapandit17"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/26704491?u=db54a0798fb800751ceea6bd73cf3d2794ebb1ac&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Updated the Pull request template.</p>",
            "url": "https://github.com/rails/rails/pull/51309",
            "title": "Updated the pull request template, grammatical and general wordings [skip ci]",
            "date_modified": "2024-03-12T16:48:13.000Z",
            "date_published": "2024-03-12T16:48:13.000Z",
            "author": {
                "name": "adityapandit17",
                "url": "https://github.com/adityapandit17"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5512772?u=bbae6d87b3499e6b3662664cf4be0e84cc40f6d2&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Partially reworks <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1578920672\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47347\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/47347/hovercard\" href=\"https://github.com/rails/rails/pull/47347\">#47347</a></p>\n<p dir=\"auto\">Currently initialization of every Rails::Engine leads to the creation of a new View watcher when the engine prepends its paths.<br>\n</p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/1555d9a5579b19acf7b9e14563b460b91ab83ddc/railties/lib/rails/engine.rb#L614\">rails/railties/lib/rails/engine.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 614\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/1555d9a5579b19acf7b9e14563b460b91ab83ddc\">1555d9a</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L614\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"614\"></td>\n          <td id=\"LC614\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-v\">ActiveSupport</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">on_load</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:action_controller</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">prepend_view_path</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">views</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">if</span> <span class=\"pl-en\">respond_to?</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:prepend_view_path</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">}</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<br>\nThis contributes to the time it takes to perform the first cold request on a lazy loaded application.<p></p>\n<p dir=\"auto\"><code class=\"notranslate\">prepend_view_path</code> -&gt; <code class=\"notranslate\">_build_view_paths</code> -&gt; <code class=\"notranslate\">cast_file_system_resolvers</code> -&gt; <code class=\"notranslate\">file_system_resolver_hooks.each(&amp;:call)</code> -&gt; <code class=\"notranslate\">rebuild_watcher</code></p>\n<p dir=\"auto\">This change delays the initialization of the View watcher until the first <code class=\"notranslate\">updated?</code> check is performed which leads to only one initialization of the watcher.</p>\n<h3 dir=\"auto\">Benchmark</h3>\n<p dir=\"auto\">It's not perfect but I believe it reliably shows the behavior and impact of unnecessary watcher rebuilds:</p>\n<details>\n  <summary>Benchmark</summary>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"require &quot;bundler/inline&quot;\n\ngemfile(true) do\n  source &quot;https://rubygems.org&quot;\n\n  gem &quot;rails&quot;, path: &quot;.&quot;\n  gem &quot;listen&quot;\nend\n\nrequire &quot;action_controller/railtie&quot;\n\nclass TestApp &lt; Rails::Application\n  config.root = __dir__\n  config.hosts &lt;&lt; &quot;example.org&quot;\n  config.secret_key_base = &quot;secret_key_base&quot;\n  config.file_watcher = ActiveSupport::EventedFileUpdateChecker\n\n  config.logger = Logger.new($stdout)\n  Rails.logger  = config.logger\n\n  routes.draw do\n    get &quot;/&quot; =&gt; &quot;test#index&quot;\n  end\nend\n\nTestApp.initialize!\n\nclass TestController &lt; ActionController::Base\n  include Rails.application.routes.url_helpers\n\n  def index\n    render plain: &quot;Home&quot;\n  end\nend\n\nrequire &quot;minitest/autorun&quot;\nrequire &quot;rack/test&quot;\n\nclass BugTest &lt; Minitest::Test\n  include Rack::Test::Methods\n\n  def test_returns_success\n    view_reloader = TestApp.reloaders.find { |reloader| reloader.is_a?(ActionView::CacheExpiry::ViewReloader) }\n    result = Benchmark.ms do |x|\n      20.times do |i|\n        TestController.prepend_view_path &quot;test#{i}&quot;\n      end\n      view_reloader.updated?\n    end\n    puts &quot;Time: #{result.round(2)} ms&quot;\n  end\n\n  private\n    def app\n      Rails.application\n    end\nend\"><pre class=\"notranslate\"><span class=\"pl-en\">require</span> <span class=\"pl-s\">\"bundler/inline\"</span>\n\n<span class=\"pl-en\">gemfile</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">true</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">do</span>\n  <span class=\"pl-en\">source</span> <span class=\"pl-s\">\"https://rubygems.org\"</span>\n\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">\"rails\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">path</span>: <span class=\"pl-s\">\".\"</span>\n  <span class=\"pl-en\">gem</span> <span class=\"pl-s\">\"listen\"</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"action_controller/railtie\"</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">TestApp</span> &lt; <span class=\"pl-v\">Rails</span>::<span class=\"pl-v\">Application</span>\n  <span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">root</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">__dir__</span>\n  <span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">hosts</span> &lt;&lt; <span class=\"pl-s\">\"example.org\"</span>\n  <span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">secret_key_base</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">\"secret_key_base\"</span>\n  <span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">file_watcher</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">ActiveSupport</span>::<span class=\"pl-v\">EventedFileUpdateChecker</span>\n\n  <span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">logger</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Logger</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span>$stdout<span class=\"pl-kos\">)</span>\n  <span class=\"pl-v\">Rails</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">logger</span>  <span class=\"pl-c1\">=</span> <span class=\"pl-en\">config</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">logger</span>\n\n  <span class=\"pl-en\">routes</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">draw</span> <span class=\"pl-k\">do</span>\n    <span class=\"pl-en\">get</span> <span class=\"pl-s\">\"/\"</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-s\">\"test#index\"</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-v\">TestApp</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">initialize!</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">TestController</span> &lt; <span class=\"pl-v\">ActionController</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">include</span> <span class=\"pl-v\">Rails</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">application</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">routes</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">url_helpers</span>\n\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">index</span>\n    <span class=\"pl-en\">render</span> <span class=\"pl-pds\">plain</span>: <span class=\"pl-s\">\"Home\"</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"minitest/autorun\"</span>\n<span class=\"pl-en\">require</span> <span class=\"pl-s\">\"rack/test\"</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">BugTest</span> &lt; <span class=\"pl-v\">Minitest</span>::<span class=\"pl-v\">Test</span>\n  <span class=\"pl-en\">include</span> <span class=\"pl-v\">Rack</span>::<span class=\"pl-v\">Test</span>::<span class=\"pl-v\">Methods</span>\n\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_returns_success</span>\n    <span class=\"pl-s1\">view_reloader</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">TestApp</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">reloaders</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find</span> <span class=\"pl-kos\">{</span> |<span class=\"pl-s1\">reloader</span>| <span class=\"pl-s1\">reloader</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">is_a?</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">ActionView</span>::<span class=\"pl-v\">CacheExpiry</span>::<span class=\"pl-v\">ViewReloader</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">}</span>\n    <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Benchmark</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">ms</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">x</span>|\n      <span class=\"pl-c1\">20</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">times</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">i</span>|\n        <span class=\"pl-v\">TestController</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">prepend_view_path</span> <span class=\"pl-s\">\"test<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">i</span><span class=\"pl-kos\">}</span></span>\"</span>\n      <span class=\"pl-k\">end</span>\n      <span class=\"pl-s1\">view_reloader</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">updated?</span>\n    <span class=\"pl-k\">end</span>\n    <span class=\"pl-en\">puts</span> <span class=\"pl-s\">\"Time: <span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">round</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">2</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">}</span></span> ms\"</span>\n  <span class=\"pl-k\">end</span>\n\n  <span class=\"pl-k\">private</span>\n    <span class=\"pl-k\">def</span> <span class=\"pl-en\">app</span>\n      <span class=\"pl-v\">Rails</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">application</span>\n    <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n</details>\n<p dir=\"auto\">Results:</p>\n<p dir=\"auto\"><code class=\"notranslate\">main</code>:  <code class=\"notranslate\">Time: 17.98 ms</code><br>\nthis branch: <code class=\"notranslate\">Time: 2.93 ms</code></p>\n<p dir=\"auto\">In our modular monolith we have about ~100 engines that prepend view paths causing the watcher to be rebuilt with a growing directories list and this change results in us cutting ~8s from the ~16s cold request</p>\n<h3 dir=\"auto\">Tests</h3>\n<p dir=\"auto\">Since we only change implementation detail I believe relying on existing<br>\n</p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/1555d9a5579b19acf7b9e14563b460b91ab83ddc/railties/test/application/view_reloading_test.rb#L7\">rails/railties/test/application/view_reloading_test.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 7\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/1555d9a5579b19acf7b9e14563b460b91ab83ddc\">1555d9a</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L7\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"7\"></td>\n          <td id=\"LC7\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">class</span> <span class=\"pl-v\">ViewReloadingTest</span> &lt; <span class=\"pl-v\">ActiveSupport</span>::<span class=\"pl-v\">TestCase</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<br>\ntest is sufficient<p></p>",
            "url": "https://github.com/rails/rails/pull/51308",
            "title": "Do not build View watcher until the first `updated?` check",
            "date_modified": "2024-03-12T16:30:44.000Z",
            "date_published": "2024-03-12T15:25:43.000Z",
            "author": {
                "name": "nvasilevski",
                "url": "https://github.com/nvasilevski"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/505427?u=d6f9feb614d4641e87a2df6e4da6ed4c44ece004&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Expanding the <code class=\"notranslate\">Model.insert_all</code> functionality to receive an array containing records and column names separately. This improvement eliminates the need for records to be in the hash format, providing a more streamlined approach, especially useful for handling large datasets when both the order of attributes and their alignment with the table structure are known in advance.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"column_names = [:name, :author_id]\nbook_batches.each do |book_batch|\n\tBook.insert_all(book_batch, column_names: column_names)\nend\"><pre class=\"notranslate\"><span class=\"pl-s1\">column_names</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:name</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:author_id</span><span class=\"pl-kos\">]</span>\n<span class=\"pl-en\">book_batches</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">each</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">book_batch</span>|\n\t<span class=\"pl-v\">Book</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">insert_all</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">book_batch</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">column_names</span>: <span class=\"pl-s1\">column_names</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">This update enables users to provide an array of arrays for the records, while also specifying the column names separately. This enhancement enhances code flexibility and readability, simplifying data insertion without requiring pre-formatting into hashes.</p>\n<h3 dir=\"auto\">Detail</h3>\n<ul dir=\"auto\">\n<li>Modified insert_all method to accept an array of arrays for records.</li>\n<li>Added support for specifying column names separately using the columns option.</li>\n</ul>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Book.insert_all([\n  [&quot;Rework&quot;, 1],\n  [&quot;Patterns of Enterprise Application Architecture&quot;, 1]\n], column_names: [:name, :author_id])\"><pre class=\"notranslate\"><span class=\"pl-v\">Book</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">insert_all</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span>\n  <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"Rework\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"Patterns of Enterprise Application Architecture\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span>\n<span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">column_names</span>: <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:name</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:author_id</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span></pre></div>\n<p dir=\"auto\">To showcase the API proposal, I opted for the simplest approach, which involved converting the array of records and column names into a Hash, as it aligns with the existing code.</p>",
            "url": "https://github.com/rails/rails/pull/51307",
            "title": "Model.insert_all can accept an array of records with separate column names",
            "date_modified": "2024-03-12T13:54:34.000Z",
            "date_published": "2024-03-12T13:54:28.000Z",
            "author": {
                "name": "robertomiranda",
                "url": "https://github.com/robertomiranda"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/111995?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">If a site follows an <code class=\"notranslate\">ActionText</code> editing form with a preview form prior to record creation, the natural way to set the editor content in the preview form is something like:</p>\n<p dir=\"auto\"><code class=\"notranslate\">&lt;%= hidden_field :message, :content %&gt;</code></p>\n<p dir=\"auto\">This however does a <code class=\"notranslate\">to_s</code>, which includes the content with the \"trix-content\" div layout wrapping. This wrapping gets saved, and the final rendering with layout has a double wrapping.</p>\n<p dir=\"auto\">A solution is to instead use</p>\n<p dir=\"auto\"><code class=\"notranslate\">&lt;%= hidden_field_tag 'message[content]', @message.content.to_trix_html %&gt;</code></p>\n<p dir=\"auto\">but a cleaner solution would be to provide a non-wrapped accessor like</p>\n<p dir=\"auto\"><code class=\"notranslate\">&lt;%= hidden_field :message, :content_without_layout %&gt;</code></p>\n<p dir=\"auto\">This PR does this. It also fixes the incorrect documentation of <code class=\"notranslate\">has_rich_text</code> that <a href=\"https://github.com/rails/rails/blob/main/actiontext/lib/action_text/attribute.rb#L20\">shows <code class=\"notranslate\">to_s</code> as producing HTML without layout</a>, documents the <code class=\"notranslate\">without_layout</code> variant, and adds a sentence suggesting when each should be used.</p>",
            "url": "https://github.com/rails/rails/pull/51306",
            "title": "Add and document ActionText without_layout reader and writer attributes",
            "date_modified": "2024-03-12T12:55:24.000Z",
            "date_published": "2024-03-12T12:55:18.000Z",
            "author": {
                "name": "mrj",
                "url": "https://github.com/mrj"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/44102752?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2134743166\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51090\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51090/hovercard\" href=\"https://github.com/rails/rails/issues/51090\">#51090</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">activesupport/lib/active_support/core_ext/erb/util.rb</code></p>\n<h3 dir=\"auto\">Additional information</h3>\n<ol dir=\"auto\">\n<li>In this tokenize method we are not handling the text present after <code class=\"notranslate\">%&gt;</code></li>\n<li>Updated that method to handle text present at end.</li>\n</ol>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51304",
            "title": "Fix exception raised from template should not show compiled code",
            "date_modified": "2024-03-12T07:52:29.000Z",
            "date_published": "2024-03-12T07:52:25.000Z",
            "author": {
                "name": "nikhilbhatt",
                "url": "https://github.com/nikhilbhatt"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1518299?u=d3dda61ebb16317ded64f166b59e35e1e160b9b1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #51295.\">Fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2179081656\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51295\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51295/hovercard\" href=\"https://github.com/rails/rails/issues/51295\">#51295</a></p>\n<p dir=\"auto\"><code class=\"notranslate\">.exists?</code> does not support composite primary key because it would <a href=\"https://github.com/rails/rails/blob/main/activerecord/lib/active_record/relation/finder_methods.rb#L351\">clash with the current expectation when passing an array.</a></p>\n<p dir=\"auto\">This PR would make it possible to pass a composite primary key by wrapping it in an array:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"CpkModel.exists?([[1,1]]) # as in `CpkModel.exists?([composite_primary_key])`\"><pre class=\"notranslate\"><span class=\"pl-v\">CpkModel</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">exists?</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\"># as in `CpkModel.exists?([composite_primary_key])`</span></pre></div>\n<p dir=\"auto\">Incidentally, it would also allow searching with multiple keys without having to use the hash form:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"CpkModel.exists?([[1,1], [1,2], [3,1]])  \nRegularModel.exists?([[1,2,3]]) # Even works for non regular models! Generates: `SELECT 1 AS one FROM &quot;regular_models&quot; WHERE &quot;users&quot;.&quot;id&quot; IN (1, 2, 3)`\"><pre class=\"notranslate\"><span class=\"pl-v\">CpkModel</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">exists?</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">2</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-c1\">3</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>  \n<span class=\"pl-v\">RegularModel</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">exists?</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">2</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">3</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\"># Even works for non regular models! Generates: `SELECT 1 AS one FROM \"regular_models\" WHERE \"users\".\"id\" IN (1, 2, 3)`</span></pre></div>\n<h2 dir=\"auto\">Considerations</h2>\n<p dir=\"auto\">This is a bit of hack and initially thought of answering <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2179081656\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51295\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51295/hovercard\" href=\"https://github.com/rails/rails/issues/51295\">#51295</a> by suggesting using the hash form instead, but after looking at what the hash form would look like for a primary key:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"CpkModel.exists?(CpkModel.primary_key =&gt; [[1,1]]) # You need to wrap the primary key in an array!\"><pre class=\"notranslate\"><span class=\"pl-v\">CpkModel</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">exists?</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">CpkModel</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">primary_key</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\"># You need to wrap the primary key in an array!</span></pre></div>\n<p dir=\"auto\">This is quite verbose. So perhaps there is value in this.<br>\nI did not edit the documentation and changelog yet. Only the code, plus a couple tests. If this diff is deemed valuable I'll add the required edits.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51301",
            "title": "Add composite key support to `Model.exists?`",
            "date_modified": "2024-03-12T01:06:49.000Z",
            "date_published": "2024-03-12T00:57:29.000Z",
            "author": {
                "name": "JoeDupuis",
                "url": "https://github.com/JoeDupuis"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1518299?u=d3dda61ebb16317ded64f166b59e35e1e160b9b1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #51269.\">Fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2172603548\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51269\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51269/hovercard\" href=\"https://github.com/rails/rails/issues/51269\">#51269</a></p>\n<p dir=\"auto\">Action Text supports saving a RichText model with empty content. Passing <em>almost</em> empty content (such as a space) flushes the embeds, but passing truly empty content does not. This defies expectations.</p>\n<p dir=\"auto\">This change ensures that the embeds are flushed when empty content is passed</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51291",
            "title": "Empty embeds when RichText is set to an empty content",
            "date_modified": "2024-03-12T04:41:07.000Z",
            "date_published": "2024-03-10T22:05:51.000Z",
            "author": {
                "name": "JoeDupuis",
                "url": "https://github.com/JoeDupuis"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5122678?u=204301f9f9fe8930fd26fe3bfe65b6ffaffd8b59&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">It's common to build new apps with <code class=\"notranslate\">--skip-test</code>. When this is done, CI will raise the following error:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Unrecognized command &quot;test&quot; (Rails::Command::UnrecognizedCommandError)\"><pre class=\"notranslate\"><span class=\"pl-en\">Unrecognized</span> <span class=\"pl-en\">command</span> <span class=\"pl-s\">\"test\"</span> <span class=\"pl-kos\">(</span><span class=\"pl-v\">Rails</span>::<span class=\"pl-v\">Command</span>::<span class=\"pl-v\">UnrecognizedCommandError</span><span class=\"pl-kos\">)</span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Skips the <code class=\"notranslate\">test</code> job when a new application is generated with the <code class=\"notranslate\">--skip-test</code> option.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Uses <a href=\"https://github.com/rails/rails/blob/029d31ca31ab72df7bb79372f4ff057231fd0196/railties/lib/rails/generators/rails/plugin/plugin_generator.rb#L270\">prior art</a> to determine if <code class=\"notranslate\">options[:skip_test]</code> was set.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51289",
            "title": "Conditionally skip test job in ci.yml",
            "date_modified": "2024-03-12T13:54:33.000Z",
            "date_published": "2024-03-10T11:04:05.000Z",
            "author": {
                "name": "stevepolitodesign",
                "url": "https://github.com/stevepolitodesign"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1518299?u=d3dda61ebb16317ded64f166b59e35e1e160b9b1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #51284.\">Fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2175983514\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51284\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51284/hovercard\" href=\"https://github.com/rails/rails/issues/51284\">#51284</a></p>\n<p dir=\"auto\">Both Proxy controllers in Active Storage set the caching headers early before streaming.</p>\n<p dir=\"auto\">In some instances (see <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2175983514\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51284\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51284/hovercard\" href=\"https://github.com/rails/rails/issues/51284\">#51284</a>), it is possible for the file download (from the service to server) to fail before we send the first byte to the client (response not yet committed).</p>\n<p dir=\"auto\">In those instances, this change would invalidate the cache and return a better response status before closing the stream.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51288",
            "title": "Expire caching when a download fail while proxying in ActiveStorage",
            "date_modified": "2024-03-10T06:55:14.000Z",
            "date_published": "2024-03-10T03:28:10.000Z",
            "author": {
                "name": "JoeDupuis",
                "url": "https://github.com/JoeDupuis"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/122306143?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Currently if the Gemfile does not contain a commented out line for image_processing, or the line uses single, not double quotes, image_processing will not be installed and Trix will not be able to correctly handle image attachments.</p>\n<p dir=\"auto\">This ensures image_processing <em>is</em> installed in those circumstances.</p>\n\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because it is possible for the <code class=\"notranslate\">bin/rails action_text:install</code> command to fail to add <code class=\"notranslate\">image_processing</code> to the Gemfile if the default comment has been removed, or if the double quotes have been changed to single ones (perhaps by a Rubocop auto-fix).</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the ActionText install script to more thoroughly ensure <code class=\"notranslate\">image_processing</code> is installed.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51285",
            "title": "Ensure image_processing is installed with Trix",
            "date_modified": "2024-03-08T13:29:29.000Z",
            "date_published": "2024-03-08T12:59:20.000Z",
            "author": {
                "name": "tsvallender",
                "url": "https://github.com/tsvallender"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">After looking at ways to refactor calls to <code class=\"notranslate\">lease_connection</code>, this tiny PR came up to reduce internal calls in <code class=\"notranslate\">quote_bound_value</code>.</p>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/byroot/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/byroot\">@byroot</a></p>",
            "url": "https://github.com/rails/rails/pull/51283",
            "title": "Reduce callsites to lease_connection in AR::Sanitization",
            "date_modified": "2024-03-08T12:49:51.000Z",
            "date_published": "2024-03-08T07:24:29.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<h2 dir=\"auto\">The problem</h2>\n<p dir=\"auto\">Loading JSON into an Active Model instance with<br>\n<code class=\"notranslate\">ActiveModel::Serializers:JSON#from_json</code> assumes that the property casings will match the class attribute casings. This works well with snake_casing, since idiomatic Ruby methods are snake_cased.</p>\n<p dir=\"auto\">When <code class=\"notranslate\">#from_json</code> loads JSON properties that are camelCased, it silently ignores them:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Person\n  include ActiveModel::Serializers::JSON\n\n  attr_accessor :name, :born_on\n\n  def attributes=(hash)\n    hash.each { |key, value| send(&quot;#{key}=&quot;, value) }\n  end\nend\n\npayload &lt;&lt;~JSON\n  { &quot;name&quot;: &quot;Alice&quot;, &quot;bornOn&quot;: &quot;2024-03-08&quot; }\nJSON\n\nperson = Person.new.from_json(payload)\nperson.name     # =&gt; &quot;Alice&quot;\nperson.born_on  # =&gt; nil\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Person</span>\n  <span class=\"pl-en\">include</span> <span class=\"pl-v\">ActiveModel</span>::<span class=\"pl-v\">Serializers</span>::<span class=\"pl-c1\">JSON</span>\n\n  <span class=\"pl-en\">attr_accessor</span> <span class=\"pl-pds\">:name</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:born_on</span>\n\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">attributes</span><span class=\"pl-c1\">=</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">hash</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-s1\">hash</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">each</span> <span class=\"pl-kos\">{</span> |<span class=\"pl-s1\">key</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">value</span>| <span class=\"pl-en\">send</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">key</span><span class=\"pl-kos\">}</span></span>=\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">value</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">}</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-en\">payload</span> <span class=\"pl-s\">&lt;&lt;~JSON</span><span class=\"pl-s\"></span>\n<span class=\"pl-s\">  { \"name\": \"Alice\", \"bornOn\": \"2024-03-08\" }</span>\n<span class=\"pl-s\">JSON</span>\n\n<span class=\"pl-s1\">person</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">from_json</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">payload</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">name</span>     <span class=\"pl-c\"># =&gt; \"Alice\"</span>\n<span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">born_on</span>  <span class=\"pl-c\"># =&gt; nil</span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<h2 dir=\"auto\">The proposal</h2>\n<p dir=\"auto\">This commit proposes extending <code class=\"notranslate\">#from_json</code> to accept a block. After the JSON string is decoded (and un-nested from its root, depending on the model's configuration), yield the <code class=\"notranslate\">Hash</code> to a block if one is passed as an argument:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"payload &lt;&lt;~JSON\n  { &quot;name&quot;: &quot;Alice&quot;, &quot;bornOn&quot;: &quot;2024-03-08&quot; }\nJSON\n\nperson = Person.new.from_json(payload) { _1.deep_transform_keys!(&amp;:underscore) }\nperson.name     # =&gt; &quot;Alice&quot;\nperson.born_on  # =&gt; &quot;2024-03-08&quot;\"><pre class=\"notranslate\"><span class=\"pl-en\">payload</span> <span class=\"pl-s\">&lt;&lt;~JSON</span><span class=\"pl-s\"></span>\n<span class=\"pl-s\">  { \"name\": \"Alice\", \"bornOn\": \"2024-03-08\" }</span>\n<span class=\"pl-s\">JSON</span>\n\n<span class=\"pl-s1\">person</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">from_json</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">payload</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">_1</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">deep_transform_keys!</span><span class=\"pl-kos\">(</span>&amp;<span class=\"pl-pds\">:underscore</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">}</span>\n<span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">name</span>     <span class=\"pl-c\"># =&gt; \"Alice\"</span>\n<span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">born_on</span>  <span class=\"pl-c\"># =&gt; \"2024-03-08\"</span></pre></div>\n<p dir=\"auto\">Supporting a block can be useful for context-specific overrides. If a class needs to provide a default transformation, it can override <code class=\"notranslate\">#from_json</code>:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class PersonFromCamelCaseAPI &lt; Person\n  def from_json(*, &amp;block)\n    default_transform = proc { _1.deep_transform_keys!(&amp;:underscore) }\n\n    super(*, &amp;(block || defaul_transform))\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">PersonFromCamelCaseAPI</span> &lt; <span class=\"pl-v\">Person</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">from_json</span><span class=\"pl-kos\">(</span>*<span class=\"pl-kos\">,</span> &amp;<span class=\"pl-s1\">block</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-s1\">default_transform</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">proc</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">_1</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">deep_transform_keys!</span><span class=\"pl-kos\">(</span>&amp;<span class=\"pl-pds\">:underscore</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">}</span>\n\n    <span class=\"pl-smi\">super</span><span class=\"pl-kos\">(</span>*<span class=\"pl-en\"></span><span class=\"pl-kos\">,</span> &amp;<span class=\"pl-kos\">(</span><span class=\"pl-s1\">block</span> || <span class=\"pl-en\">defaul_transform</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Without built-in support for transforming camelCased properties into snake_cased attributes, callers are responsible decoding the JSON themselves. In addition to the key transformations, they're also responsible for re-creating both the JSON decoding <em>and</em> the configurable root un-nesting provided by <code class=\"notranslate\">#from_json</code>:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"payload &lt;&lt;~JSON\n  { &quot;name&quot;: &quot;Alice&quot;, &quot;bornOn&quot;: &quot;2024-03-08&quot; }\nJSON\n\nattributes = ActiveSupport::JSON.decode(payload)\nattributes.deep_transform_keys!(&amp;:underscore)\nperson = Person.new(attributes)\nperson.name     # =&gt; &quot;Alice&quot;\nperson.born_on  # =&gt; &quot;2024-03-08&quot;\n\nnested_payload &lt;&lt;~JSON\n  { &quot;person&quot;: { &quot;name&quot;: &quot;Alice&quot;, &quot;bornOn&quot;: &quot;2024-03-08&quot; } }\nJSON\n\nattributes = ActiveSupport::JSON.decode(nested_payload)\nattributes.deep_transform_keys!(&amp;:underscore)\nperson = Person.new(attributes[&quot;person&quot;])\nperson.name     # =&gt; &quot;Alice&quot;\nperson.born_on  # =&gt; &quot;2024-03-08&quot;\"><pre class=\"notranslate\"><span class=\"pl-en\">payload</span> <span class=\"pl-s\">&lt;&lt;~JSON</span><span class=\"pl-s\"></span>\n<span class=\"pl-s\">  { \"name\": \"Alice\", \"bornOn\": \"2024-03-08\" }</span>\n<span class=\"pl-s\">JSON</span>\n\n<span class=\"pl-s1\">attributes</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">ActiveSupport</span>::<span class=\"pl-c1\">JSON</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">decode</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">payload</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">attributes</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">deep_transform_keys!</span><span class=\"pl-kos\">(</span>&amp;<span class=\"pl-pds\">:underscore</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">person</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">attributes</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">name</span>     <span class=\"pl-c\"># =&gt; \"Alice\"</span>\n<span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">born_on</span>  <span class=\"pl-c\"># =&gt; \"2024-03-08\"</span>\n\n<span class=\"pl-en\">nested_payload</span> <span class=\"pl-s\">&lt;&lt;~JSON</span><span class=\"pl-s\"></span>\n<span class=\"pl-s\">  { \"person\": { \"name\": \"Alice\", \"bornOn\": \"2024-03-08\" } }</span>\n<span class=\"pl-s\">JSON</span>\n\n<span class=\"pl-s1\">attributes</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">ActiveSupport</span>::<span class=\"pl-c1\">JSON</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">decode</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">nested_payload</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">attributes</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">deep_transform_keys!</span><span class=\"pl-kos\">(</span>&amp;<span class=\"pl-pds\">:underscore</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">person</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">attributes</span><span class=\"pl-kos\">[</span><span class=\"pl-s\">\"person\"</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">name</span>     <span class=\"pl-c\"># =&gt; \"Alice\"</span>\n<span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">born_on</span>  <span class=\"pl-c\"># =&gt; \"2024-03-08\"</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51282",
            "title": "Transform attributes during `ActiveModel::Serialization::JSON#from_json`",
            "date_modified": "2024-03-08T06:20:19.000Z",
            "date_published": "2024-03-08T06:18:38.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/26132902?u=016ee37305f6fa13412eaca5649f8ed41d4e1ee7&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The rails generate scaffold command triggers the resource_route hook twice, although routes are not created twice because Thor only invokes the same task once.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"% bin/rails generate scaffold Post name:string\n      invoke  active_record\n      create    db/migrate/20240303140443_create_posts.rb\n      create    app/models/post.rb\n      invoke    test_unit\n      create      test/models/post_test.rb\n      create      test/fixtures/posts.yml\n      invoke  resource_route\n       route    resources :posts\n      invoke  scaffold_controller\n      create    app/controllers/posts_controller.rb\n      invoke    erb\n      create      app/views/posts\n      create      app/views/posts/index.html.erb\n      create      app/views/posts/edit.html.erb\n      create      app/views/posts/show.html.erb\n      create      app/views/posts/new.html.erb\n      create      app/views/posts/_form.html.erb\n      create      app/views/posts/_post.html.erb\n      invoke    resource_route\n      invoke    test_unit\n      create      test/controllers/posts_controller_test.rb\n      create      test/system/posts_test.rb\n      invoke    helper\n      create      app/helpers/posts_helper.rb\n      invoke      test_unit\n      invoke    jbuilder\n      create      app/views/posts/index.json.jbuilder\n      create      app/views/posts/show.json.jbuilder\n      create      app/views/posts/_post.json.jbuilder\"><pre class=\"notranslate\"><code class=\"notranslate\">% bin/rails generate scaffold Post name:string\n      invoke  active_record\n      create    db/migrate/20240303140443_create_posts.rb\n      create    app/models/post.rb\n      invoke    test_unit\n      create      test/models/post_test.rb\n      create      test/fixtures/posts.yml\n      invoke  resource_route\n       route    resources :posts\n      invoke  scaffold_controller\n      create    app/controllers/posts_controller.rb\n      invoke    erb\n      create      app/views/posts\n      create      app/views/posts/index.html.erb\n      create      app/views/posts/edit.html.erb\n      create      app/views/posts/show.html.erb\n      create      app/views/posts/new.html.erb\n      create      app/views/posts/_form.html.erb\n      create      app/views/posts/_post.html.erb\n      invoke    resource_route\n      invoke    test_unit\n      create      test/controllers/posts_controller_test.rb\n      create      test/system/posts_test.rb\n      invoke    helper\n      create      app/helpers/posts_helper.rb\n      invoke      test_unit\n      invoke    jbuilder\n      create      app/views/posts/index.json.jbuilder\n      create      app/views/posts/show.json.jbuilder\n      create      app/views/posts/_post.json.jbuilder\n</code></pre></div>\n<p dir=\"auto\">Despite setting the --skip-routes option, which is a feature of the ScaffoldControllerGenerator designed to prevent route generation, the command still produces routes.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"% bin/rails g scaffold Post name:string --skip-routes\n      invoke  active_record\n      create    db/migrate/20240306035406_create_posts.rb\n      create    app/models/post.rb\n      invoke    test_unit\n      create      test/models/post_test.rb\n      create      test/fixtures/posts.yml\n      invoke  resource_route\n       route    resources :posts\n      invoke  scaffold_controller\n      create    app/controllers/posts_controller.rb\n      invoke    erb\n      create      app/views/posts\n      create      app/views/posts/index.html.erb\n      create      app/views/posts/edit.html.erb\n      create      app/views/posts/show.html.erb\n      create      app/views/posts/new.html.erb\n      create      app/views/posts/_form.html.erb\n      create      app/views/posts/_post.html.erb\n      invoke    resource_route\n      invoke    test_unit\n      create      test/controllers/posts_controller_test.rb\n      create      test/system/posts_test.rb\n      invoke    helper\n      create      app/helpers/posts_helper.rb\n      invoke      test_unit\n      invoke    jbuilder\n      create      app/views/posts/index.json.jbuilder\n      create      app/views/posts/show.json.jbuilder\n      create      app/views/posts/_post.json.jbuilder\"><pre class=\"notranslate\"><code class=\"notranslate\">% bin/rails g scaffold Post name:string --skip-routes\n      invoke  active_record\n      create    db/migrate/20240306035406_create_posts.rb\n      create    app/models/post.rb\n      invoke    test_unit\n      create      test/models/post_test.rb\n      create      test/fixtures/posts.yml\n      invoke  resource_route\n       route    resources :posts\n      invoke  scaffold_controller\n      create    app/controllers/posts_controller.rb\n      invoke    erb\n      create      app/views/posts\n      create      app/views/posts/index.html.erb\n      create      app/views/posts/edit.html.erb\n      create      app/views/posts/show.html.erb\n      create      app/views/posts/new.html.erb\n      create      app/views/posts/_form.html.erb\n      create      app/views/posts/_post.html.erb\n      invoke    resource_route\n      invoke    test_unit\n      create      test/controllers/posts_controller_test.rb\n      create      test/system/posts_test.rb\n      invoke    helper\n      create      app/helpers/posts_helper.rb\n      invoke      test_unit\n      invoke    jbuilder\n      create      app/views/posts/index.json.jbuilder\n      create      app/views/posts/show.json.jbuilder\n      create      app/views/posts/_post.json.jbuilder\n</code></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Following three parts of the code are related to multiple invocation of resource_route.</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">hook_for :resource_route</code> within the ResourceGenerator, from which the ScaffoldGenerator inherits</li>\n<li><code class=\"notranslate\">class_option :resource_route</code> in ScaffoldGenerator</li>\n<li><code class=\"notranslate\">hook_for :resource_route</code> in ScaffoldControllerGenerator which is invoked by <code class=\"notranslate\">hook_for :scaffold_controller</code> in ScaffoldGenerator</li>\n</ul>\n<p dir=\"auto\">The resource_route hook within ScaffoldGenerator has been removed with remove_hook_for to ensure that the hook is called exclusively within the scaffold_controller hook.<br>\nThe <code class=\"notranslate\">class_option :resource_route, type: :boolean</code> has also been removed. Despite the removal of the resource_route hook in ScaffoldGenerator, invoking <code class=\"notranslate\">class_option :resource_route</code> was still indirectly triggering resource_route.<br>\nThis occurred due to a combination of the following reasons:</p>\n<ul dir=\"auto\">\n<li>generator classes, which inherit from Thor::Group, execute all defined public instance methods upon command execution.</li>\n<li>the hook_for method utilizes invoke_from_option, a method defined in Thor::Group to dynamically defines an invoke_from_option_* method at runtime, which persists even if remove_hook_for is called.\n<ul dir=\"auto\">\n<li><a href=\"https://github.com/rails/thor/blob/a43d92fad7ebd77d359b7b96eb3db8a73ef9057c/lib/thor/group.rb#L124\">https://github.com/rails/thor/blob/a43d92fad7ebd77d359b7b96eb3db8a73ef9057c/lib/thor/group.rb#L124</a></li>\n</ul>\n</li>\n<li>the invoke_from_option_* method returns early when the option isn't available but <code class=\"notranslate\">class_option :resource_route</code> in ScaffoldGeneratore makes the option available and Rails sets the resource_route option as default.\n<ul dir=\"auto\">\n<li><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/f7353283fd771e99b9675bcb9394e398964195f8/railties/lib/rails/generators.rb#L56\">rails/railties/lib/rails/generators.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 56\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha Link--inTextBlock\" href=\"/rails/rails/commit/f7353283fd771e99b9675bcb9394e398964195f8\">f735328</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L56\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"56\"></td>\n          <td id=\"LC56\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-pds\">resource_route</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">,</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</li>\n</ul>\n</li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51275",
            "title": "Fix redundant resource_route Invocations in scaffold generator",
            "date_modified": "2024-03-07T11:13:44.000Z",
            "date_published": "2024-03-07T11:11:06.000Z",
            "author": {
                "name": "takmar",
                "url": "https://github.com/takmar"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/986290?u=4d733016cf0aff060b84f4084595e5ace35d3b42&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Following up on <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2171811692\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51266\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51266/hovercard\" href=\"https://github.com/rails/rails/pull/51266\">#51266</a>. Trying to make sure the suggested <code class=\"notranslate\">puma-dev</code> setup introduced in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2134700430\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51088\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51088/hovercard\" href=\"https://github.com/rails/rails/pull/51088\">#51088</a> works out of the box.</p>\n<p dir=\"auto\">Creating a fresh app with <code class=\"notranslate\">rails new --main AppName</code> (or any multi-word app name) will still give us the error message:</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/986290/310785511-7dd53909-8566-45ac-960c-84b58f3526a9.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTA0NDY3OTMsIm5iZiI6MTcxMDQ0NjQ5MywicGF0aCI6Ii85ODYyOTAvMzEwNzg1NTExLTdkZDUzOTA5LTg1NjYtNDVhYy05NjBjLTg0YjU4ZjM1MjZhOS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjQwMzE0JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MDMxNFQyMDAxMzNaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT0xMjkwZmNiYjUxYmM2NDJlZGUzYTM2OWQ1MGFkN2RjZTFiOTNmMjI3ZDUyZWE2YmY2MjZlOGUzZGM1OGMzMWRjJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCZhY3Rvcl9pZD0wJmtleV9pZD0wJnJlcG9faWQ9MCJ9.D9EiupA7IBNvJ_pw0ynreioRbqLlUdldM95eX9qcFaw\"><img src=\"https://private-user-images.githubusercontent.com/986290/310785511-7dd53909-8566-45ac-960c-84b58f3526a9.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTA0NDY3OTMsIm5iZiI6MTcxMDQ0NjQ5MywicGF0aCI6Ii85ODYyOTAvMzEwNzg1NTExLTdkZDUzOTA5LTg1NjYtNDVhYy05NjBjLTg0YjU4ZjM1MjZhOS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjQwMzE0JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MDMxNFQyMDAxMzNaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT0xMjkwZmNiYjUxYmM2NDJlZGUzYTM2OWQ1MGFkN2RjZTFiOTNmMjI3ZDUyZWE2YmY2MjZlOGUzZGM1OGMzMWRjJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCZhY3Rvcl9pZD0wJmtleV9pZD0wJnJlcG9faWQ9MCJ9.D9EiupA7IBNvJ_pw0ynreioRbqLlUdldM95eX9qcFaw\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">This PR simply kebabcases the <code class=\"notranslate\">puma-dev</code> symlink suggested in <code class=\"notranslate\">bin/setup</code>, making it work without additional configuration.</p>",
            "url": "https://github.com/rails/rails/pull/51273",
            "title": "Kebabcase puma-dev configuration suggestion in bin/seutp",
            "date_modified": "2024-03-07T07:40:11.000Z",
            "date_published": "2024-03-07T07:40:07.000Z",
            "author": {
                "name": "zachasme",
                "url": "https://github.com/zachasme"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2793160?u=93c796d8b2648d3614c150e3fe28e8697af56411&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because I sometimes want to override the global <code class=\"notranslate\">Encoding.escape_html_entities_in_json</code> option for specific call sites.</p>\n<p dir=\"auto\">Where I work, we tend to embed JSON in HTML, so the default html entity escaping is appreciated. But there are some cases where we'd like to turn it off.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes ActiveSupport's JSON encoding code to accept an optional flag for whether or not to escape HTML entities (<code class=\"notranslate\">escape_html_entities</code>). If not supplied, the existing global configuration flag will be used instead.</p>\n<p dir=\"auto\">The idea is to make the following possible:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class MyController &lt; ApplicationController\n  def index\n    render json: { some: '&lt;data&gt;' }, escape_html_entities: false\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">MyController</span> &lt; <span class=\"pl-v\">ApplicationController</span>\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">index</span>\n    <span class=\"pl-en\">render</span> <span class=\"pl-pds\">json</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">some</span>: <span class=\"pl-s\">'&lt;data&gt;'</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">escape_html_entities</span>: <span class=\"pl-c1\">false</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n\n<p dir=\"auto\">Sorry to show up with a code change out of the blue. I did a weird monkey patch like this in our codebase at work to solve a problem, and it seemed easy to upstream so I'm submitting this PR just in case. No hard feelings if it doesn't seem reasonable.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul dir=\"auto\">\n<li>[ x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li>[ x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li>[ x] Tests are added or updated if you fix a bug or add a feature.</li>\n<li>[x ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51272",
            "title": "Add escape_html_entities option to JSON encoder",
            "date_modified": "2024-03-07T03:49:40.000Z",
            "date_published": "2024-03-07T03:49:36.000Z",
            "author": {
                "name": "Resonious",
                "url": "https://github.com/Resonious"
            }
        }
    ]
}