{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/44280450?u=5d0b7f0d7535c39131a9d2d513cbf4691236b6e4&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><code class=\"notranslate\">ActiveSupport::Subscriber</code> provides a nice way to handle <code class=\"notranslate\">ActiveSupport::Notifications::Event</code>. However, there is a lack of guide.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Document how to subscribe event of given namespace using <code class=\"notranslate\">ActiveSupport::Subscriber</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51356",
            "title": "[ci skip] Document `ActiveSupport::Subscriber` in guides",
            "date_modified": "2024-03-20T06:05:10.000Z",
            "date_published": "2024-03-20T06:04:17.000Z",
            "author": {
                "name": "heka1024",
                "url": "https://github.com/heka1024"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/3028205?u=92f742f521757dfbcf7229ef27dd4c9a27f81644&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because the documentation is improved by consistently using the same model names throughout.<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2161922628\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51226\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51226/hovercard?comment_id=1527578109&amp;comment_type=review_comment\" href=\"https://github.com/rails/rails/pull/51226#discussion_r1527578109\">#51226 (comment)</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the Active Record Basics Guide \"Creating Namespaced Models\" section to use Book instead of Order in the examples, consistent with the rest of the document.</p>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51355",
            "title": "Replace Order with Book in \"Creating Namespaced Models\" section of docs for consistency",
            "date_modified": "2024-03-20T03:00:08.000Z",
            "date_published": "2024-03-20T03:00:04.000Z",
            "author": {
                "name": "asavageiv",
                "url": "https://github.com/asavageiv"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/133328?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">From discussion: <a href=\"https://discuss.rubyonrails.org/t/proposal-prevent-activerecord-access/85322\" rel=\"nofollow\">https://discuss.rubyonrails.org/t/proposal-prevent-activerecord-access/85322</a></p>\n<blockquote>\n<p dir=\"auto\">I have some methods that I know are being called in loops and these methods will become N+1 DB query situations if a database query is generated in any way. What I’m hoping for is some sort of runtime policy that says “no ActiveRecord access is allowed in here, you must load everything you need first”</p>\n<p dir=\"auto\">Here’s another way to put it. If I have some business logic that combines data loading with some kind of pure calculation, it would be nice to have the power, when it is useful, to strongly separate these concerns and be sure the separation remains.</p>\n<p dir=\"auto\">This power could be useful for any situation where a hot code path must remain free of queries. Perhaps it could be used to implement a policy to prevent database access during the render phase of an HTTP request.</p>\n</blockquote>\n<p dir=\"auto\">N+1 queries can be a real performance concern. It isn't always immediately obvious what the impacts could be of adding a new query. I wish engineers would be constantly watching the query log as they work. But things can get out of hand quickly, and even if you are watching the wall of queries being logged, N+1s can sometimes disappear into the noise.</p>\n<p dir=\"auto\">Also, there are times when I want a pure in-memory algorithm. An API like this would allow me to both express and enforce the intention to not be hitting the database in a branch of code.</p>\n<p dir=\"auto\">Just today, I was working with some code that broke a test that asserts for a given controller action, exactly 118 queries are dispatched. This is a terrible test to have, but we have it because we have had real problems with query explosions emerging unexpectedly. I believe strict loading could help, but it would not have prevented all of the problems that led to write and maintain this test.</p>\n<p dir=\"auto\">This is indeed a heavy hammer to use. But I don't see an alternative that can achieve the same level of assurance, and the implementation was pretty easy thanks to the prior art of <code class=\"notranslate\">while_preventing_writes</code>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds <code class=\"notranslate\">while_preventing_access</code> to the public API of ActiveRecord::Base much like was done for <code class=\"notranslate\">while_preventing_writes</code> in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"383302161\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/34505\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/34505/hovercard\" href=\"https://github.com/rails/rails/pull/34505\">#34505</a></p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51354",
            "title": "Add ability to prevent access to a database",
            "date_modified": "2024-03-19T22:56:38.000Z",
            "date_published": "2024-03-19T21:46:17.000Z",
            "author": {
                "name": "stevecrozz",
                "url": "https://github.com/stevecrozz"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/813033?u=9d30b2e7dad100c407ded917712e84a71bf7581f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This follows up on <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2127640411\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51030\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51030/hovercard\" href=\"https://github.com/rails/rails/pull/51030\">#51030</a>, which introduced a behaviour change for previewable attachments for previewable attachments that don't specify any variants at all or no variants that require pre-processing via <code class=\"notranslate\">TransformJob</code>. Before, when no variant required pre-processing, <code class=\"notranslate\">Attachment#transform_variants_later</code> didn't do anything (<code class=\"notranslate\">named_variants</code> would be empty below):</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"def transform_variants_later\n  named_variants.each do |_name, named_variant|\n    blob.preprocessed(named_variant.transformations) if named_variant.preprocessed?(record)\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">def</span> <span class=\"pl-en\">transform_variants_later</span>\n  <span class=\"pl-en\">named_variants</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">each</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">_name</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">named_variant</span>|\n    <span class=\"pl-en\">blob</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">preprocessed</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">named_variant</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">transformations</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">if</span> <span class=\"pl-s1\">named_variant</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">preprocessed?</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">record</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">After <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2127640411\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51030\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51030/hovercard\" href=\"https://github.com/rails/rails/pull/51030\">#51030</a> an <code class=\"notranslate\">ActiveStorage::PreviewImageJob</code> is enqueued with the attachment's blob and an empty array. <code class=\"notranslate\">preprocessed_variations</code> would be empty below on the call to <code class=\"notranslate\">blob.create_preview_image_later(preprocessed_variations)</code></p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"def transform_variants_later\n  preprocessed_variations = named_variants.filter_map { |_name, named_variant|\n    if named_variant.preprocessed?(record)\n      named_variant.transformations\n    end\n  }\n\n  if blob.preview_image_needed_before_processing_variants?\n    blob.create_preview_image_later(preprocessed_variations)\n  else\n    preprocessed_variations.each do |transformations|\n      blob.preprocessed(transformations)\n    end\n  end\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">def</span> <span class=\"pl-en\">transform_variants_later</span>\n  <span class=\"pl-s1\">preprocessed_variations</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">named_variants</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">filter_map</span> <span class=\"pl-kos\">{</span> |<span class=\"pl-s1\">_name</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">named_variant</span>|\n    <span class=\"pl-k\">if</span> <span class=\"pl-s1\">named_variant</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">preprocessed?</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">record</span><span class=\"pl-kos\">)</span>\n      <span class=\"pl-s1\">named_variant</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">transformations</span>\n    <span class=\"pl-k\">end</span>\n  <span class=\"pl-kos\">}</span>\n\n  <span class=\"pl-k\">if</span> <span class=\"pl-en\">blob</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">preview_image_needed_before_processing_variants?</span>\n    <span class=\"pl-en\">blob</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">create_preview_image_later</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">preprocessed_variations</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-k\">else</span>\n    <span class=\"pl-s1\">preprocessed_variations</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">each</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">transformations</span>|\n      <span class=\"pl-en\">blob</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">preprocessed</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">transformations</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-k\">end</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">For us, besides the unexpected influx of new jobs, this caused a bunch of job failures due to deadlocks for blobs and attachments that were created as part of inbound email processing, which was quite surprising. We purposely create previews inline when they're requested, not when these blobs are ingested, embedded in Action Text's rich text records. Ingesting the blob and creating a preview in parallel to the <code class=\"notranslate\">InboundEmail::RoutingJob</code> being processed triggered <code class=\"notranslate\">touch</code> up the hierarchy, happening in two jobs at once, which is very prone to deadlocks.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51351",
            "title": "Don't enqueue jobs to process a preview image if no variant requires it",
            "date_modified": "2024-03-20T06:38:09.000Z",
            "date_published": "2024-03-19T13:50:07.000Z",
            "author": {
                "name": "rosa",
                "url": "https://github.com/rosa"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/19192189?u=dd60737844a9db7f1475bab21fc3e5258a405e15&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Ref: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2088694143\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50793\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/50793/hovercard\" href=\"https://github.com/rails/rails/pull/50793\">#50793</a></p>\n<p dir=\"auto\">Controls whether <code class=\"notranslate\">ActiveRecord::Base.connection</code> raises an error, emits a deprecation warning, or neither.</p>\n<p dir=\"auto\"><code class=\"notranslate\">ActiveRecord::Base.connection</code> checkouts a database connection from the pool and keep it leased until the end of the request or job. This behavior can be undesirable in environments that use many more threads or fibers than there is available connections.</p>\n<p dir=\"auto\">This configuration can be used to track down and eliminate code that calls <code class=\"notranslate\">ActiveRecord::Base.connection</code> and migrate it to use <code class=\"notranslate\">ActiveRecord::Base.with_connection</code> instead.</p>\n<p dir=\"auto\">The default behavior remains unchanged, and there is currently no plans to change the default.</p>\n<p dir=\"auto\">One thing that I think may be missing is a way to wrap legacy code with something akin to <code class=\"notranslate\">.with_connection</code>, but that wouldn't cause <code class=\"notranslate\">.connection</code> to persist the checkout. Perhaps that should be a <code class=\"notranslate\">.with_connection</code> keyword argument?</p>\n<p dir=\"auto\"><a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewd/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewd\">@matthewd</a> any opinion on the above?</p>",
            "url": "https://github.com/rails/rails/pull/51349",
            "title": "Add `config.active_record.permanent_connection_checkout` setting",
            "date_modified": "2024-03-19T12:52:20.000Z",
            "date_published": "2024-03-19T10:52:18.000Z",
            "author": {
                "name": "casperisfine",
                "url": "https://github.com/casperisfine"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/7428736?u=fae5ce3cd4acfa7ba0c4825f1a6fcab13b0cab2d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">It's help to check if all it's ok on the service storage</p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because we (<a class=\"user-mention notranslate\" data-hovercard-type=\"organization\" data-hovercard-url=\"/orgs/Captive-Studio/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Captive-Studio\">@Captive-Studio</a>) handle a large number of files using ActiveStorage in our application where these files are central to the business.</p>\n<p dir=\"auto\">For some time now, we have noticed that certain variants are not being properly saved in the storage (specifically Google Cloud Storage). We want to rectify this situation by retrieving the variants for which the file does not exist in the storage.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes add new <code class=\"notranslate\">file_exist?</code> method for ActiveStorage::Blob, ActiveStorage::Variant, ActiveStorage::VariantWithRecord</p>\n<p dir=\"auto\">This method will help to check if a file exist on the storage service</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">/</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51343",
            "title": "add `file_exist?` method for ActiveStorage::Blob, ActiveStorage::Variant, ActiveStorage::VariantWithRecord",
            "date_modified": "2024-03-18T15:17:53.000Z",
            "date_published": "2024-03-18T15:17:49.000Z",
            "author": {
                "name": "cprodhomme",
                "url": "https://github.com/cprodhomme"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/20938712?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This can be used to trace troublesome SQL statements back to the application code that generated these statements. I feel like this is a good default value that helps with debugging and code discovery.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51342",
            "title": "Enable query log tags by default on development env",
            "date_modified": "2024-03-19T19:54:08.000Z",
            "date_published": "2024-03-18T14:43:38.000Z",
            "author": {
                "name": "MatheusRich",
                "url": "https://github.com/MatheusRich"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2223?u=01d20ee07241d135f5b4f55bec2930dc41399d07&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://private-user-images.githubusercontent.com/2223/313733064-9da5e009-134e-4069-b79e-01582da998e2.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTA5MjkyMDEsIm5iZiI6MTcxMDkyODkwMSwicGF0aCI6Ii8yMjIzLzMxMzczMzA2NC05ZGE1ZTAwOS0xMzRlLTQwNjktYjc5ZS0wMTU4MmRhOTk4ZTIucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDMyMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDAzMjBUMTAwMTQxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YTYyZDdiYmJiMmI4NzgwNTM4NGQ0ZTM4YmQxZWJlOGI3ZjM5MjcyYWFmOTg0NTIxMGY1YWU2ODM1ZTYxNjI1NSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.wjKbhptn2OJ286qPpoT-yBrOo-XCNeZktuiuhQ680uo\"><img width=\"957\" alt=\"Screenshot 2024-03-18 at 11 12 26 AM\" src=\"https://private-user-images.githubusercontent.com/2223/313733064-9da5e009-134e-4069-b79e-01582da998e2.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTA5MjkyMDEsIm5iZiI6MTcxMDkyODkwMSwicGF0aCI6Ii8yMjIzLzMxMzczMzA2NC05ZGE1ZTAwOS0xMzRlLTQwNjktYjc5ZS0wMTU4MmRhOTk4ZTIucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDMyMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDAzMjBUMTAwMTQxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YTYyZDdiYmJiMmI4NzgwNTM4NGQ0ZTM4YmQxZWJlOGI3ZjM5MjcyYWFmOTg0NTIxMGY1YWU2ODM1ZTYxNjI1NSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.wjKbhptn2OJ286qPpoT-yBrOo-XCNeZktuiuhQ680uo\" style=\"max-width: 100%;\"></a>\n<p dir=\"auto\"><a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/AmandaPerino/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/AmandaPerino\">@AmandaPerino</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/rafaelfranca/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/rafaelfranca\">@rafaelfranca</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/carlosantoniodasilva/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/carlosantoniodasilva\">@carlosantoniodasilva</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewd/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewd\">@matthewd</a></p>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because of a project with the Rails Foundation to improve the visual presentation of the Rails Guides, bringing them more inline with the new marketing rupbyonrails.org site.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The CSS has been recreated from SCSS files, generated into the final pieces. The stylesrc directory contains those commented source files.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This currently uses CodeKit offline to process the SCSS. Ideally this could be part of the <code class=\"notranslate\">rake guides:generate</code> task, or a new task.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51341",
            "title": "Guides visual redesign",
            "date_modified": "2024-03-19T23:53:58.000Z",
            "date_published": "2024-03-18T13:23:57.000Z",
            "author": {
                "name": "jathayde",
                "url": "https://github.com/jathayde"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/64050?u=e41ff60552c0dcda088e5c5c3ed1e3bf34f37dcc&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">I was reading through <a href=\"https://jordanhollinger.com/2023/11/11/rails-strict-loading/\" rel=\"nofollow\">this summary of Rails' strict loading</a> and came across this paragraph:</p>\n<blockquote>\n<p dir=\"auto\">If you’re very brave, you can opt your entire application into strict loading. (Oddly, there doesn’t seem to be an equivalent of :n_plus_one_only here. I can’t imagine using this.)</p>\n</blockquote>\n<p dir=\"auto\">In my app, we're setting <code class=\"notranslate\">strict_loading!(mode: :n_plus_one_only)</code> on individual records; this paragraph made me realize it didn't have to be this way.</p>\n<p dir=\"auto\">This Pull Request has been created because currently, <code class=\"notranslate\">strict_loading_mode</code> is always set to <code class=\"notranslate\">:all</code>. It may be preferable for users to have <code class=\"notranslate\">:n_plus_one_only</code> on an individual model, or even on the entire app.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds a new class_attribute <code class=\"notranslate\">:strict_loading_mode</code>, defaulted to <code class=\"notranslate\">:all</code>.  If it's set to <code class=\"notranslate\">:n_plus_one_only</code>, that mode is used by default when doing strict loading checks.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">n/a</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Unrelated changes should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51339",
            "title": "Allow one to set `strict_loading_mode` globally",
            "date_modified": "2024-03-19T17:44:42.000Z",
            "date_published": "2024-03-17T16:45:34.000Z",
            "author": {
                "name": "gjtorikian",
                "url": "https://github.com/gjtorikian"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22918438?u=bb0e029cc4992c777cb2926b3647ab8ac20b0bf5&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Take 2 of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2149321591\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51166\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/51166/hovercard\" href=\"https://github.com/rails/rails/pull/51166\">#51166</a>, but rather than assuming that any SQL coming from the <code class=\"notranslate\">#select</code> methods is safe to retry, we retry only queries we have constructed and thus know to be idempotent.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR makes two types of queries retry-able by opting into our <code class=\"notranslate\">allow_retry</code> flag:</p>\n<ol dir=\"auto\">\n<li>\n<p dir=\"auto\">SELECT queries we construct by walking the Arel tree via <code class=\"notranslate\">#to_sql_and_binds</code>. We use a new <code class=\"notranslate\">retryable</code> attribute on collector classes, which defaults to true for most node types, but will be set to false for non-idempotent node types (functions, SQL literals, update / delete / insert statements, etc). The <code class=\"notranslate\">retryable</code> value is returned from  <code class=\"notranslate\">#to_sql_and_binds</code> and used by <code class=\"notranslate\">#select_all</code> and passed down the call stack, eventually reaching the adapter's <code class=\"notranslate\">#internal_exec_query</code> method.</p>\n</li>\n<li>\n<p dir=\"auto\"><code class=\"notranslate\">#find</code> and <code class=\"notranslate\">#find_by</code> queries with known attributes. We set <code class=\"notranslate\">allow_retry: true</code> in <code class=\"notranslate\">#cached_find_by</code>, and pass this down to <code class=\"notranslate\">#find_by_sql</code> and <code class=\"notranslate\">#_query_by_sql</code>.</p>\n</li>\n</ol>\n<p dir=\"auto\">These changes ensure that queries we know are safe to retry can be retried automatically.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">To verify:</p>\n<ul dir=\"auto\">\n<li>Is test coverage sufficient? It's tricky to test every possible Active Record API that could lead to a given SQL query. I've tried to cover the most commonly used ones. I was hoping to test that inserts / updates / deletes are non-retryable, but since these are wrapped in transactions, we end up reconnecting on the <code class=\"notranslate\">BEGIN</code>.</li>\n<li>Are there Arel node types I've missed that might be non-idempotent? Note that we're considering all <code class=\"notranslate\">NamedFunction</code> and <code class=\"notranslate\">SqlLiteral</code> nodes to be non-idempotent, which likely excludes a lot of potential queries that <em>would</em> be retry-able, but this is the safest option for now.</li>\n<li>Is <code class=\"notranslate\">cached_find_by</code> always guaranteed to produce an idempotent query? This is the only way to ensure <code class=\"notranslate\">Post.find</code> / <code class=\"notranslate\">Post.find_by(title: \"foo\")</code> etc. are retryable, and I definitely think we should make these types of queries retryable. <code class=\"notranslate\">find_by</code> with a SQL fragment supplied as args will be flagged as non-retryable.</li>\n</ul>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewd/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewd\">@matthewd</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51336",
            "title": "Retry known idempotent SELECT queries on connection-related exceptions",
            "date_modified": "2024-03-20T07:56:50.000Z",
            "date_published": "2024-03-15T21:13:37.000Z",
            "author": {
                "name": "adrianna-chang-shopify",
                "url": "https://github.com/adrianna-chang-shopify"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1518299?u=d3dda61ebb16317ded64f166b59e35e1e160b9b1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword\">Fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2179543988\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51298\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51298/hovercard\" href=\"https://github.com/rails/rails/issues/51298\">#51298</a></p>\n<p dir=\"auto\">forking inside an Execution Wrapper crashes when running the completion callbacks.</p>\n<p dir=\"auto\">Rails 7.0 was not Execution wrapping the <code class=\"notranslate\">runner</code> command.<br>\nRails 7.2 changed the definition of <code class=\"notranslate\">active_connection?</code>, the new definition doesn't contain the bug.</p>\n<p dir=\"auto\">Therefore forking inside a script intended to be run with the <code class=\"notranslate\">runner</code> command on 7.1 crashes. (see <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2179543988\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51298\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51298/hovercard\" href=\"https://github.com/rails/rails/issues/51298\">#51298</a>)</p>\n<p dir=\"auto\">This PR is targeting <code class=\"notranslate\">7-1-stable</code></p>\n<p dir=\"auto\">Edit: The regression test (with the fork) blew up the tests. I removed it, I'll revisit.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51318",
            "title": "Fix a crash when an  Executor wrapped fork exit.",
            "date_modified": "2024-03-13T05:52:25.000Z",
            "date_published": "2024-03-13T02:22:58.000Z",
            "author": {
                "name": "JoeDupuis",
                "url": "https://github.com/JoeDupuis"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6282795?u=93a13f12db751e898394b002fe7c02d6809ab6cd&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #50807.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2090245533\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50807\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50807/hovercard\" href=\"https://github.com/rails/rails/issues/50807\">#50807</a></p>\n<p dir=\"auto\">As described in Issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2090245533\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/50807\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/50807/hovercard\" href=\"https://github.com/rails/rails/issues/50807\">#50807</a>,  validations are enabled by default when the autosave option is set to true. Currently, that behavior is not documented for the <code class=\"notranslate\">has_one</code> or <code class=\"notranslate\">belongs_to</code> associations.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">To resolve this issue, the  API documentation has been updated to document the validation behavior when the <code class=\"notranslate\">autosave: true</code> option is set in <code class=\"notranslate\">Activerecord::Associations</code> for the <code class=\"notranslate\">has_one</code> or <code class=\"notranslate\">belongs_to</code> associations.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51315",
            "title": "[ci skip] Undocumented - validations enabled by autosave",
            "date_modified": "2024-03-12T21:09:24.000Z",
            "date_published": "2024-03-12T21:09:19.000Z",
            "author": {
                "name": "sherrimitchell",
                "url": "https://github.com/sherrimitchell"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/26704491?u=db54a0798fb800751ceea6bd73cf3d2794ebb1ac&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR changes the active storage dependency version for action text.</p>",
            "url": "https://github.com/rails/rails/pull/51311",
            "title": "Do not use the alpha version if the major version is released",
            "date_modified": "2024-03-12T17:04:19.000Z",
            "date_published": "2024-03-12T17:04:15.000Z",
            "author": {
                "name": "adityapandit17",
                "url": "https://github.com/adityapandit17"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/505427?u=d6f9feb614d4641e87a2df6e4da6ed4c44ece004&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Expanding the <code class=\"notranslate\">Model.insert_all</code> functionality to receive an array containing records and column names separately. This improvement eliminates the need for records to be in the hash format, providing a more streamlined approach, especially useful for handling large datasets when both the order of attributes and their alignment with the table structure are known in advance.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"column_names = [:name, :author_id]\nbook_batches.each do |book_batch|\n\tBook.insert_all(book_batch, column_names: column_names)\nend\"><pre class=\"notranslate\"><span class=\"pl-s1\">column_names</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:name</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:author_id</span><span class=\"pl-kos\">]</span>\n<span class=\"pl-en\">book_batches</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">each</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">book_batch</span>|\n\t<span class=\"pl-v\">Book</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">insert_all</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">book_batch</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">column_names</span>: <span class=\"pl-s1\">column_names</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">This update enables users to provide an array of arrays for the records, while also specifying the column names separately. This enhancement enhances code flexibility and readability, simplifying data insertion without requiring pre-formatting into hashes.</p>\n<h3 dir=\"auto\">Detail</h3>\n<ul dir=\"auto\">\n<li>Modified insert_all method to accept an array of arrays for records.</li>\n<li>Added support for specifying column names separately using the columns option.</li>\n</ul>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Book.insert_all([\n  [&quot;Rework&quot;, 1],\n  [&quot;Patterns of Enterprise Application Architecture&quot;, 1]\n], column_names: [:name, :author_id])\"><pre class=\"notranslate\"><span class=\"pl-v\">Book</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">insert_all</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span>\n  <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"Rework\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-kos\">[</span><span class=\"pl-s\">\"Patterns of Enterprise Application Architecture\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span>\n<span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">column_names</span>: <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:name</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:author_id</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span></pre></div>\n<p dir=\"auto\">To showcase the API proposal, I opted for the simplest approach, which involved converting the array of records and column names into a Hash, as it aligns with the existing code.</p>",
            "url": "https://github.com/rails/rails/pull/51307",
            "title": "Model.insert_all can accept an array of records with separate column names",
            "date_modified": "2024-03-12T13:54:34.000Z",
            "date_published": "2024-03-12T13:54:28.000Z",
            "author": {
                "name": "robertomiranda",
                "url": "https://github.com/robertomiranda"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/111995?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">If a site follows an <code class=\"notranslate\">ActionText</code> editing form with a preview form prior to record creation, the natural way to set the editor content in the preview form is something like:</p>\n<p dir=\"auto\"><code class=\"notranslate\">&lt;%= hidden_field :message, :content %&gt;</code></p>\n<p dir=\"auto\">This however does a <code class=\"notranslate\">to_s</code>, which includes the content with the \"trix-content\" div layout wrapping. This wrapping gets saved, and the final rendering with layout has a double wrapping.</p>\n<p dir=\"auto\">A solution is to instead use</p>\n<p dir=\"auto\"><code class=\"notranslate\">&lt;%= hidden_field_tag 'message[content]', @message.content.to_trix_html %&gt;</code></p>\n<p dir=\"auto\">but a cleaner solution would be to provide a non-wrapped accessor like</p>\n<p dir=\"auto\"><code class=\"notranslate\">&lt;%= hidden_field :message, :content_without_layout %&gt;</code></p>\n<p dir=\"auto\">This PR does this. It also fixes the incorrect documentation of <code class=\"notranslate\">has_rich_text</code> that <a href=\"https://github.com/rails/rails/blob/main/actiontext/lib/action_text/attribute.rb#L20\">shows <code class=\"notranslate\">to_s</code> as producing HTML without layout</a>, documents the <code class=\"notranslate\">without_layout</code> variant, and adds a sentence suggesting when each should be used.</p>",
            "url": "https://github.com/rails/rails/pull/51306",
            "title": "Add and document ActionText without_layout reader and writer attributes",
            "date_modified": "2024-03-12T12:55:24.000Z",
            "date_published": "2024-03-12T12:55:18.000Z",
            "author": {
                "name": "mrj",
                "url": "https://github.com/mrj"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/44102752?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2134743166\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51090\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51090/hovercard\" href=\"https://github.com/rails/rails/issues/51090\">#51090</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">activesupport/lib/active_support/core_ext/erb/util.rb</code></p>\n<h3 dir=\"auto\">Additional information</h3>\n<ol dir=\"auto\">\n<li>In this tokenize method we are not handling the text present after <code class=\"notranslate\">%&gt;</code></li>\n<li>Updated that method to handle text present at end.</li>\n</ol>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51304",
            "title": "Fix exception raised from template should not show compiled code",
            "date_modified": "2024-03-19T18:09:37.000Z",
            "date_published": "2024-03-12T07:52:25.000Z",
            "author": {
                "name": "nikhilbhatt",
                "url": "https://github.com/nikhilbhatt"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1518299?u=d3dda61ebb16317ded64f166b59e35e1e160b9b1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #51295.\">Fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2179081656\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51295\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51295/hovercard\" href=\"https://github.com/rails/rails/issues/51295\">#51295</a></p>\n<p dir=\"auto\"><code class=\"notranslate\">.exists?</code> does not support composite primary key because it would <a href=\"https://github.com/rails/rails/blob/main/activerecord/lib/active_record/relation/finder_methods.rb#L351\">clash with the current expectation when passing an array.</a></p>\n<p dir=\"auto\">This PR would make it possible to pass a composite primary key by wrapping it in an array:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"CpkModel.exists?([[1,1]]) # as in `CpkModel.exists?([composite_primary_key])`\"><pre class=\"notranslate\"><span class=\"pl-v\">CpkModel</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">exists?</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\"># as in `CpkModel.exists?([composite_primary_key])`</span></pre></div>\n<p dir=\"auto\">Incidentally, it would also allow searching with multiple keys without having to use the hash form:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"CpkModel.exists?([[1,1], [1,2], [3,1]])  \nRegularModel.exists?([[1,2,3]]) # Even works for non regular models! Generates: `SELECT 1 AS one FROM &quot;regular_models&quot; WHERE &quot;users&quot;.&quot;id&quot; IN (1, 2, 3)`\"><pre class=\"notranslate\"><span class=\"pl-v\">CpkModel</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">exists?</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">2</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">[</span><span class=\"pl-c1\">3</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span>  \n<span class=\"pl-v\">RegularModel</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">exists?</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">2</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">3</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\"># Even works for non regular models! Generates: `SELECT 1 AS one FROM \"regular_models\" WHERE \"users\".\"id\" IN (1, 2, 3)`</span></pre></div>\n<h2 dir=\"auto\">Considerations</h2>\n<p dir=\"auto\">This is a bit of hack and initially thought of answering <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2179081656\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51295\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51295/hovercard\" href=\"https://github.com/rails/rails/issues/51295\">#51295</a> by suggesting using the hash form instead, but after looking at what the hash form would look like for a primary key:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"CpkModel.exists?(CpkModel.primary_key =&gt; [[1,1]]) # You need to wrap the primary key in an array!\"><pre class=\"notranslate\"><span class=\"pl-v\">CpkModel</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">exists?</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">CpkModel</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">primary_key</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\"># You need to wrap the primary key in an array!</span></pre></div>\n<p dir=\"auto\">This is quite verbose. So perhaps there is value in this.<br>\nI did not edit the documentation and changelog yet. Only the code, plus a couple tests. If this diff is deemed valuable I'll add the required edits.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51301",
            "title": "Add composite key support to `Model.exists?`",
            "date_modified": "2024-03-12T01:06:49.000Z",
            "date_published": "2024-03-12T00:57:29.000Z",
            "author": {
                "name": "JoeDupuis",
                "url": "https://github.com/JoeDupuis"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1518299?u=d3dda61ebb16317ded64f166b59e35e1e160b9b1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #51269.\">Fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2172603548\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51269\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51269/hovercard\" href=\"https://github.com/rails/rails/issues/51269\">#51269</a></p>\n<p dir=\"auto\">Action Text supports saving a RichText model with empty content. Passing <em>almost</em> empty content (such as a space) flushes the embeds, but passing truly empty content does not. This defies expectations.</p>\n<p dir=\"auto\">This change ensures that the embeds are flushed when empty content is passed</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51291",
            "title": "Empty embeds when RichText is set to an empty content",
            "date_modified": "2024-03-12T04:41:07.000Z",
            "date_published": "2024-03-10T22:05:51.000Z",
            "author": {
                "name": "JoeDupuis",
                "url": "https://github.com/JoeDupuis"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5122678?u=204301f9f9fe8930fd26fe3bfe65b6ffaffd8b59&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">It's common to build new apps with <code class=\"notranslate\">--skip-test</code>. When this is done, CI will raise the following error:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Unrecognized command &quot;test&quot; (Rails::Command::UnrecognizedCommandError)\"><pre class=\"notranslate\"><span class=\"pl-en\">Unrecognized</span> <span class=\"pl-en\">command</span> <span class=\"pl-s\">\"test\"</span> <span class=\"pl-kos\">(</span><span class=\"pl-v\">Rails</span>::<span class=\"pl-v\">Command</span>::<span class=\"pl-v\">UnrecognizedCommandError</span><span class=\"pl-kos\">)</span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Skips the <code class=\"notranslate\">test</code> job when a new application is generated with the <code class=\"notranslate\">--skip-test</code> option.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Uses <a href=\"https://github.com/rails/rails/blob/029d31ca31ab72df7bb79372f4ff057231fd0196/railties/lib/rails/generators/rails/plugin/plugin_generator.rb#L270\">prior art</a> to determine if <code class=\"notranslate\">options[:skip_test]</code> was set.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51289",
            "title": "Conditionally skip test job in ci.yml",
            "date_modified": "2024-03-12T13:54:33.000Z",
            "date_published": "2024-03-10T11:04:05.000Z",
            "author": {
                "name": "stevepolitodesign",
                "url": "https://github.com/stevepolitodesign"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1518299?u=d3dda61ebb16317ded64f166b59e35e1e160b9b1&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #51284.\">Fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2175983514\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51284\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51284/hovercard\" href=\"https://github.com/rails/rails/issues/51284\">#51284</a></p>\n<p dir=\"auto\">Both Proxy controllers in Active Storage set the caching headers early before streaming.</p>\n<p dir=\"auto\">In some instances (see <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"2175983514\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/51284\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/51284/hovercard\" href=\"https://github.com/rails/rails/issues/51284\">#51284</a>), it is possible for the file download (from the service to server) to fail before we send the first byte to the client (response not yet committed).</p>\n<p dir=\"auto\">In those instances, this change would invalidate the cache and return a better response status before closing the stream.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/51288",
            "title": "Expire caching when a download fail while proxying in ActiveStorage",
            "date_modified": "2024-03-10T06:55:14.000Z",
            "date_published": "2024-03-10T03:28:10.000Z",
            "author": {
                "name": "JoeDupuis",
                "url": "https://github.com/JoeDupuis"
            }
        }
    ]
}