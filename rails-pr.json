{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1753245?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Data encoded using a non-String purpose and <code class=\"notranslate\">use_message_serializer_for_metadata == false</code> was incorrectly decoded,<br>\ntriggering a \"mismatched purpose\" error during decode.<br>\nFix this by ensuring that we compare both sides as a String.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49669",
            "title": "Fix decoding data encoded using a non-String purpose",
            "date_modified": "2023-10-17T08:03:05.000Z",
            "date_published": "2023-10-17T08:01:17.000Z",
            "author": {
                "name": "intrip",
                "url": "https://github.com/intrip"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">An issue was recently raised that users were seeing an error when upgrading <code class=\"notranslate\">@rails/ujs</code> to 7.1.0+:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Uncaught Error: rails-ujs has already been loaded!\"><pre class=\"notranslate\"><code class=\"notranslate\">Uncaught Error: rails-ujs has already been loaded!\n</code></pre></div>\n<p dir=\"auto\">Generally this issue appears due to the difference in how rails-ujs is expected to behave in a pure sprockets environment (js appending) vs a bundled environment (webpack, esbuild, etc.). The sprockets environment is supposed to call start() automatically, while the bundled environment is supposed to require users to import and call start() themselves.</p>\n<p dir=\"auto\">As part of the transition from coffeescript to javascript, a condition was added that was intended to detect whether the current environment was a bundler so that it would only call start() when in sprockets. However, this condition is not working as expected, and I was able to reproduce the error appearing when using rails-ujs with importmaps and esbuild. Interestingly, the issue did not appear when using Webpack as a bundler.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">I believe the best fix here is to make the condition very explicit. Since sprockets users should not be using the esm version of rails-ujs, we can use the rollup replace plugin to explicitly opt the esm bundle out of <em>ever</em> calling start() automatically. This works because terser will run after the replace plugin and remove the whole condition as dead code (since it sees true == false).</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #49499.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1928198301\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49499\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49499/hovercard\" href=\"https://github.com/rails/rails/issues/49499\">#49499</a><br>\n<span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes pull request #49606.\">Closes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1940209893\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49606\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49606/hovercard\" href=\"https://github.com/rails/rails/pull/49606\">#49606</a></p>\n<p dir=\"auto\">I tested sprockets, importmaps, esbuild, and webpack using this app: <a href=\"https://github.com/skipkayhil/rails-ujs-app\">https://github.com/skipkayhil/rails-ujs-app</a></p>\n<p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/tricknotes/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/tricknotes\">@tricknotes</a> I added you as a co-author for your work on this issue as well<br>\ncc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/Earlopain/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Earlopain\">@Earlopain</a> I'd really appreciate if you'd be able to test this out</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49668",
            "title": "Fix rails-ujs auto start() in bundled environments",
            "date_modified": "2023-10-17T07:54:16.000Z",
            "date_published": "2023-10-17T06:32:15.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">When <code class=\"notranslate\">Capybara</code> is available to the environment, define <code class=\"notranslate\">aria:</code> and <code class=\"notranslate\">data:</code> expression filters to match Action View's <code class=\"notranslate\">aria: { ... }</code> and <code class=\"notranslate\">data: { ... }</code> nesting:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"tag.div id: &quot;one&quot;, aria: { labelledby: &quot;two&quot; }, data: { nested_key: &quot;value&quot; }\n  # =&gt; &lt;div id=&quot;one&quot; aria-labelledby=&quot;two&quot; data-nested-key=&quot;value&quot;&gt;&lt;/div&gt;\n\nassert_selector :element, aria: { labelledby: &quot;two&quot; }, data: { nested_key: &quot;value&quot; }\"><pre class=\"notranslate\"><span class=\"pl-en\">tag</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">div</span> <span class=\"pl-pds\">id</span>: <span class=\"pl-s\">\"one\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">aria</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">labelledby</span>: <span class=\"pl-s\">\"two\"</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">data</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">nested_key</span>: <span class=\"pl-s\">\"value\"</span> <span class=\"pl-kos\">}</span>\n  <span class=\"pl-c\"># =&gt; &lt;div id=\"one\" aria-labelledby=\"two\" data-nested-key=\"value\"&gt;&lt;/div&gt;</span>\n\n<span class=\"pl-en\">assert_selector</span> <span class=\"pl-pds\">:element</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">aria</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">labelledby</span>: <span class=\"pl-s\">\"two\"</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">data</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">nested_key</span>: <span class=\"pl-s\">\"value\"</span> <span class=\"pl-kos\">}</span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit implements them as part of loading <code class=\"notranslate\">railties</code>. The rationale for extending them from <code class=\"notranslate\">rails/test_help</code> is that test cases other than <code class=\"notranslate\">ActionDispatch::SystemTestCase</code> have the ability to leverage Capybara. For example:</p>\n<ul dir=\"auto\">\n<li>by <a href=\"https://edgeguides.rubyonrails.org/testing.html#testing-view-partials\" rel=\"nofollow\">extending ActionView::TestCase</a></li>\n<li>by <a href=\"https://github.com/rails/rails/pull/43361\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/43361/hovercard\">extending ActionDispatch::TestCase</a></li>\n<li>from third-party gems like <a href=\"https://viewcomponent.org/guide/testing.html\" rel=\"nofollow\">ViewComponent</a></li>\n</ul>\n<p dir=\"auto\">To that end, this commit includes test coverage for <code class=\"notranslate\">ActionView::TestCase</code> and <code class=\"notranslate\">ActionDispatch::IntegrationTest</code> to exercise those possibilities.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Originally, these filters were proposed upstream in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1909926407\" data-permission-text=\"Title is private\" data-url=\"https://github.com/teamcapybara/capybara/issues/2709\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/teamcapybara/capybara/pull/2709/hovercard\" href=\"https://github.com/teamcapybara/capybara/pull/2709\">teamcapybara/capybara#2709</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1909922730\" data-permission-text=\"Title is private\" data-url=\"https://github.com/teamcapybara/capybara/issues/2708\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/teamcapybara/capybara/pull/2708/hovercard\" href=\"https://github.com/teamcapybara/capybara/pull/2708\">teamcapybara/capybara#2708</a>.</p>\n<p dir=\"auto\">Ultimately, the Capybara team felt they'd be better suited for Rails, since the <code class=\"notranslate\">aria:</code> and <code class=\"notranslate\">data:</code> nesting are unique to Action View.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49665",
            "title": "Define `aria:` and `data:` Capybara expression filters",
            "date_modified": "2023-10-17T08:11:28.000Z",
            "date_published": "2023-10-17T00:12:57.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Extracted out of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1944071237\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49647\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49647/hovercard\" href=\"https://github.com/rails/rails/pull/49647\">#49647</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Imports <code class=\"notranslate\">ActiveModel::AttributeAssignment.create!</code> and <code class=\"notranslate\">.create</code> implementations from <code class=\"notranslate\">ActiveRecord::Persistence</code> to make individual and bulk construction of both <code class=\"notranslate\">ActiveModel</code> and <code class=\"notranslate\">ActiveRecord</code> objects share the same code.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Opened as a complementary pull request alongside <a href=\"https://github.com/rails/rails/pull/49662\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49662/hovercard\">#49662</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49664",
            "title": "Backport `ActiveRecord::Persistence.{create!,create}` to Active Model",
            "date_modified": "2023-10-17T07:28:02.000Z",
            "date_published": "2023-10-16T23:50:46.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Extracted out of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1944071237\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49647\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49647/hovercard\" href=\"https://github.com/rails/rails/pull/49647\">#49647</a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Imports <code class=\"notranslate\">ActiveModel::AttributeAssignment.build</code> implementation from <code class=\"notranslate\">ActiveRecord::Persistence.build</code> to make individual and bulk construction of both <code class=\"notranslate\">ActiveModel</code> and <code class=\"notranslate\">ActiveRecord</code> objects share the same code.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Opened as a complementary pull request alongside <a href=\"https://github.com/rails/rails/pull/49661\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49661/hovercard\">#49661</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49662",
            "title": "Backport `ActiveRecord::Persistence.build` to Active Model from Active Record",
            "date_modified": "2023-10-16T23:50:39.000Z",
            "date_published": "2023-10-16T22:53:38.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Extend the constructor defined by <code class=\"notranslate\">ActiveModel::API</code> so that its interface matches match <a href=\"https://guides.rubyonrails.org/active_record_basics.html#create\" rel=\"nofollow\">ActiveRecord::Base#new</a>'s -- namely the support for yielding the new instance its block argument.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"person = Person.new { |person| person.name = &quot;Ruby&quot; }\nperson.name # =&gt; &quot;Ruby&quot;\"><pre class=\"notranslate\"><span class=\"pl-s1\">person</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span> <span class=\"pl-kos\">{</span> |<span class=\"pl-s1\">person</span>| <span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">name</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">\"Ruby\"</span> <span class=\"pl-kos\">}</span>\n<span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">name</span> <span class=\"pl-c\"># =&gt; \"Ruby\"</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49661",
            "title": "Accept `&block` in `ActiveModel::API` constructor",
            "date_modified": "2023-10-16T22:31:32.000Z",
            "date_published": "2023-10-16T22:31:27.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5512772?u=bbae6d87b3499e6b3662664cf4be0e84cc40f6d2&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #49597.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1939478732\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49597\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49597/hovercard\" href=\"https://github.com/rails/rails/issues/49597\">#49597</a></p>\n<p dir=\"auto\">Currently Rails generates an invalid SQL when using <code class=\"notranslate\">update_all</code>/<code class=\"notranslate\">delete_all</code> on composite primary models relations with a join subquery due to composite primary key being treated as a single key:</p>\n<div class=\"highlight highlight-source-sql notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"UPDATE &quot;my_table&quot; SET &quot;my_column&quot; = ? WHERE &quot;my_table&quot;.&quot;[&quot;&quot;pk_col1&quot;&quot;, &quot;&quot;pk_col2&quot;&quot;]&quot; IN (SELECT &quot;my_table&quot;.&quot;[&quot;&quot;pk_col1&quot;&quot;, &quot;&quot;pk_col2&quot;&quot;]&quot;\"><pre class=\"notranslate\"><span class=\"pl-k\">UPDATE</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>my_table<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">SET</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>my_column<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">=</span> ? <span class=\"pl-k\">WHERE</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>my_table<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>[<span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span>pk_col1<span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span>, <span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span>pk_col2<span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span>]<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">IN</span> (<span class=\"pl-k\">SELECT</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>my_table<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>[<span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span>pk_col1<span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span>, <span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span>pk_col2<span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span>]<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\">This PR changes <code class=\"notranslate\">update_all</code> and <code class=\"notranslate\">delete_all</code> SQL to build a proper subquery which utilizes what sometimes referred as a row-constructor statement:</p>\n<div class=\"highlight highlight-source-sql notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"UPDATE &quot;my_table&quot; SET &quot;my_column&quot; = ? WHERE (&quot;my_table&quot;.&quot;pk_col1&quot;, &quot;my_table&quot;.&quot;pk_col2&quot;) IN (SELECT &quot;my_table&quot;.&quot;pk_col1&quot;, &quot;my_table&quot;.&quot;pk_col2&quot; ...\"><pre class=\"notranslate\"><span class=\"pl-k\">UPDATE</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>my_table<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">SET</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>my_column<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">=</span> ? <span class=\"pl-k\">WHERE</span> (<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>my_table<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pk_col1<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>my_table<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pk_col2<span class=\"pl-pds\">\"</span></span>) <span class=\"pl-k\">IN</span> (<span class=\"pl-k\">SELECT</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>my_table<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pk_col1<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>my_table<span class=\"pl-pds\">\"</span></span>.<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pk_col2<span class=\"pl-pds\">\"</span></span> ...</pre></div>\n<h3 dir=\"auto\">Biggest concern</h3>\n<p dir=\"auto\">The solution is not as clean as I wish it was due to Arel having no proper way of representing a composite identifier or a group of attributes that represent a composite identifier of a row. Which results in us having an instance of <code class=\"notranslate\">Arel::Attributes::Attribute</code> with <code class=\"notranslate\">name</code> being an array. Relying on <code class=\"notranslate\">name</code> being an Array doesn't feel solid but may be suitable for this bugfix to avoid unnecessary complexity. However, for the long-term I think we need to find a better solution which will allow us to properly represent a group of arel attributes.<br>\nIn my vision this solution will start from <code class=\"notranslate\">Arel::Table#[]</code> method being capable of returning a new abstraction<br>\n</p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/d9e62875ca096ef9cd44a9e97ebc252b04d2455b/activerecord/lib/arel/table.rb#L86-L90\">rails/activerecord/lib/arel/table.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 86 to 90\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/rails/rails/commit/d9e62875ca096ef9cd44a9e97ebc252b04d2455b\">d9e6287</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L86\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"86\"></td>\n          <td id=\"LC86\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> []<span class=\"pl-kos\">(</span><span class=\"pl-s1\">name</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">table</span> <span class=\"pl-c1\">=</span> <span class=\"pl-smi\">self</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L87\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"87\"></td>\n          <td id=\"LC87\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">name</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">name</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">to_s</span> <span class=\"pl-k\">if</span> <span class=\"pl-s1\">name</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">is_a?</span><span class=\"pl-kos\">(</span><span class=\"pl-v\">Symbol</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L88\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"88\"></td>\n          <td id=\"LC88\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">name</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">@klass</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">attribute_aliases</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">name</span><span class=\"pl-kos\">]</span> || <span class=\"pl-s1\">name</span> <span class=\"pl-k\">if</span> <span class=\"pl-c1\">@klass</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L89\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"89\"></td>\n          <td id=\"LC89\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-v\">Attribute</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">table</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">name</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L90\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"90\"></td>\n          <td id=\"LC90\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n that will allow to correctly represent multiple attributes. So as <code class=\"notranslate\">MyModel.arel_table[[\"col1\", \"col2\"]]</code> doesn't return just an <code class=\"notranslate\">Attribute</code> with a <code class=\"notranslate\">name</code> being an array but something different. This \"something different\" could be one of two things:<p></p>\n<ol dir=\"auto\">\n<li>A new <code class=\"notranslate\">Arel::Attributes::CompositeAttribute</code> type representing a combination of attributes</li>\n<li>A simpler option - an array of <code class=\"notranslate\">Attributes::Attribute</code>. This option might work better as it's simpler and also many existing APIs are capable of processing an array of arel attributes. However at first glance we may end up with a problem of not being able to <code class=\"notranslate\">quote</code> an array here:<br>\n<div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/d9e62875ca096ef9cd44a9e97ebc252b04d2455b/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb#L29\">rails/activerecord/lib/active_record/connection_adapters/abstract/quoting.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 29\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/rails/rails/commit/d9e62875ca096ef9cd44a9e97ebc252b04d2455b\">d9e6287</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L29\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"29\"></td>\n          <td id=\"LC29\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">else</span> <span class=\"pl-en\">raise</span> <span class=\"pl-v\">TypeError</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"can't quote <span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-s1\">value</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">class</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">name</span><span class=\"pl-kos\">}</span></span>\"</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<br>\nbut perhaps it's just me not being familiar enough with arel internals to fit the \"array of arel attributes\" solution into the existing logic.</li>\n</ol>",
            "url": "https://github.com/rails/rails/pull/49655",
            "title": "Fix `update_all/delete_all` on CPK model relation with join subquery",
            "date_modified": "2023-10-16T21:08:56.000Z",
            "date_published": "2023-10-16T19:16:03.000Z",
            "author": {
                "name": "nvasilevski",
                "url": "https://github.com/nvasilevski"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/674321?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Per PR <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1705439324\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48189\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48189/hovercard\" href=\"https://github.com/rails/rails/pull/48189\">#48189</a> , can we just merge this simple changes first? then I can customize my own validation with module prepending, otherwise I have to link gem to github repo.</p>",
            "url": "https://github.com/rails/rails/pull/49654",
            "title": "kill activestorage blob's anonymous validation",
            "date_modified": "2023-10-16T16:50:45.000Z",
            "date_published": "2023-10-16T16:50:41.000Z",
            "author": {
                "name": "xiaohui-zhangxh",
                "url": "https://github.com/xiaohui-zhangxh"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/14981592?u=11406fb0121b15a93b3305388377a57b4d9c96f9&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">The previous example doesn't work as expected in all cases:<br>\nIf <code class=\"notranslate\">Rails.root</code> is just <code class=\"notranslate\">/app</code> a backtrace of <code class=\"notranslate\">/app/app/controllers/application_controller.rb</code> will be filtered down to <code class=\"notranslate\">app/controllerslication_controller.rb</code>.<br>\nIf have copied the example from the default rails backtrace cleaner which already handles this correctly. The new example also produces relative paths, like Rails does by default. </p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/e4e242685efc74e4bacccd5c5878bc671fd63fb7/railties/lib/rails/backtrace_cleaner.rb#L13-L16\">rails/railties/lib/rails/backtrace_cleaner.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 13 to 16\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/rails/rails/commit/e4e242685efc74e4bacccd5c5878bc671fd63fb7\">e4e2426</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L13\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"13\"></td>\n          <td id=\"LC13\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c1\">@root</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">\"<span class=\"pl-s1\"><span class=\"pl-kos\">#{</span><span class=\"pl-v\">Rails</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">root</span><span class=\"pl-kos\">}</span></span>/\"</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L14\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"14\"></td>\n          <td id=\"LC14\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-en\">add_filter</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">line</span>| </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L15\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"15\"></td>\n          <td id=\"LC15\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">line</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">start_with?</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">@root</span><span class=\"pl-kos\">)</span> ? <span class=\"pl-s1\">line</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">from</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">@root</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">size</span><span class=\"pl-kos\">)</span> : <span class=\"pl-s1\">line</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L16\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"16\"></td>\n          <td id=\"LC16\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49653",
            "title": "Better example for backtrace filter add_filter",
            "date_modified": "2023-10-16T15:38:47.000Z",
            "date_published": "2023-10-16T15:23:12.000Z",
            "author": {
                "name": "Earlopain",
                "url": "https://github.com/Earlopain"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/617116?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The default scaffold in Rails displays all the form errors in a <code class=\"notranslate\">&lt;div&gt;</code> on top of the form.</p>\n<div class=\"highlight highlight-text-html-erb notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"  &lt;% if user.errors.any? %&gt;\n    &lt;div style=&quot;color: red&quot;&gt;\n      &lt;h2&gt;&lt;%= pluralize(user.errors.count, &quot;error&quot;) %&gt; prohibited this user from being saved:&lt;/h2&gt;\n\n      &lt;ul&gt;\n        &lt;% user.errors.each do |error| %&gt;\n          &lt;li&gt;&lt;%= error.full_message %&gt;&lt;/li&gt;\n        &lt;% end %&gt;\n      &lt;/ul&gt;\n    &lt;/div&gt;\n  &lt;% end %&gt;\"><pre class=\"notranslate\"><span class=\"pl-k\">  &lt;%</span> if user.errors.any? <span class=\"pl-k\">%&gt;</span>\n    <span class=\"pl-kos\"><span class=\"pl-k\"></span><span class=\"pl-en\"></span><span class=\"pl-kos\"></span><span class=\"pl-en\"></span><span class=\"pl-kos\"></span><span class=\"pl-en\"></span>&lt;</span><span class=\"pl-ent\">div</span> <span class=\"pl-c1\">style</span>=\"<span class=\"pl-s\">color: red</span>\"<span class=\"pl-kos\">&gt;</span>\n      <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">h2</span><span class=\"pl-kos\">&gt;</span><span class=\"pl-k\">&lt;%=</span> <span class=\"pl-en\">pluralize</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">user</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">errors</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">count</span><span class=\"pl-kos\">,</span> <span class=\"pl-s\">\"error\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-k\">%&gt;</span> prohibited this user from being saved:<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">h2</span><span class=\"pl-kos\">&gt;</span>\n\n      <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">ul</span><span class=\"pl-kos\">&gt;</span>\n        <span class=\"pl-k\">&lt;%</span> <span class=\"pl-en\">user</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">errors</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">each</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">error</span>| <span class=\"pl-k\">%&gt;</span>\n          <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">li</span><span class=\"pl-kos\">&gt;</span><span class=\"pl-k\">&lt;%=</span> <span class=\"pl-s1\">error</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">full_message</span> <span class=\"pl-k\">%&gt;</span><span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">li</span><span class=\"pl-kos\">&gt;</span>\n        <span class=\"pl-k\">&lt;%</span> <span class=\"pl-k\">end</span> <span class=\"pl-k\">%&gt;</span>\n      <span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">ul</span><span class=\"pl-kos\">&gt;</span>\n    <span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">div</span><span class=\"pl-kos\">&gt;</span>\n  <span class=\"pl-k\">&lt;%</span> <span class=\"pl-k\">end</span> <span class=\"pl-k\">%&gt;</span></pre></div>\n<p dir=\"auto\">Which is not a common UX pattern on most websites.</p>\n<p dir=\"auto\">It's way more usual to display the error messages right next to the field related to the error.<br>\nIMO, it would be much nicer/more intuitive to have something like this instead:</p>\n<div class=\"highlight highlight-text-html-erb notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"&lt;%= form_with(model: user) do |form| %&gt;\n  &lt;div&gt;\n    &lt;%= form.label :name, style: &quot;display: block&quot; %&gt;\n    &lt;%= form.text_field :name %&gt;\n    &lt;%= form.error :name, style: &quot;color: red&quot; %&gt;\n  &lt;/div&gt;\n\n  &lt;div&gt;\n    &lt;%= form.submit %&gt;\n  &lt;/div&gt;\n&lt;% end %&gt;\"><pre class=\"notranslate\"><span class=\"pl-k\">&lt;%=</span> form_with(model: user) do |form| <span class=\"pl-k\">%&gt;</span>\n  <span class=\"pl-kos\"><span class=\"pl-en\"></span><span class=\"pl-kos\"></span><span class=\"pl-pds\"></span><span class=\"pl-en\"></span><span class=\"pl-kos\"></span><span class=\"pl-k\"></span><span class=\"pl-s1\"></span>&lt;</span><span class=\"pl-ent\">div</span><span class=\"pl-kos\">&gt;</span>\n    <span class=\"pl-k\">&lt;%=</span> <span class=\"pl-s1\">form</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">label</span> <span class=\"pl-pds\">:name</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">style</span>: <span class=\"pl-s\">\"display: block\"</span> <span class=\"pl-k\">%&gt;</span><span class=\"pl-k\"></span>\n<span class=\"pl-k\">    &lt;%=</span> <span class=\"pl-s1\">form</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">text_field</span> <span class=\"pl-pds\">:name</span> <span class=\"pl-k\">%&gt;</span><span class=\"pl-k\"></span>\n<span class=\"pl-k\">    &lt;%=</span> <span class=\"pl-s1\">form</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">error</span> <span class=\"pl-pds\">:name</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">style</span>: <span class=\"pl-s\">\"color: red\"</span> <span class=\"pl-k\">%&gt;</span>\n  <span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">div</span><span class=\"pl-kos\">&gt;</span>\n\n  <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">div</span><span class=\"pl-kos\">&gt;</span>\n    <span class=\"pl-k\">&lt;%=</span> <span class=\"pl-s1\">form</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">submit</span> <span class=\"pl-k\">%&gt;</span>\n  <span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">div</span><span class=\"pl-kos\">&gt;</span>\n<span class=\"pl-k\">&lt;%</span> <span class=\"pl-k\">end</span> <span class=\"pl-k\">%&gt;</span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds the method <code class=\"notranslate\">error</code> to the form builder and updates the forms generated via scaffold.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49652",
            "title": "Show the error messages next to the related fields instead of on top of the form",
            "date_modified": "2023-10-16T14:12:46.000Z",
            "date_published": "2023-10-16T13:21:10.000Z",
            "author": {
                "name": "n-studio",
                "url": "https://github.com/n-studio"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Database-backed Active Record models are Rails's de-facto classes for business logic, which makes sense. Reading from and writing to the database can encompass the majority of most application's logic.</p>\n<p dir=\"auto\">However, there are circumstances where Active Record classes either aren't a good fit, have grown large enough to make their maintenance burdens outweigh the benefits of new code, or are tedious to special-case for context-specific integrations with other parts of Rails like Action Pack routing or Action View form building.</p>\n<p dir=\"auto\"><strong>This is not a new perspective</strong>. There are various philosophies on how to categorize and bucket business logic when Active Record isn't the best candidate.</p>\n<p dir=\"auto\">The de-facto alternative is plain-old Ruby classes, or Ruby classes that mix-in variations of what the <code class=\"notranslate\">ActiveModel</code> module has to offer (e.g. <code class=\"notranslate\">ActiveModel::API</code>, <code class=\"notranslate\">ActiveModel::Model</code>, <code class=\"notranslate\">ActiveModel::Attributes</code>, etc.).</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This pull request proposed a synthesis of all those modules into a class that draws inspiration from Active Record.</p>\n<p dir=\"auto\">Its use cases are likely familiar: integrate with Action View helpers (like <code class=\"notranslate\">form_with</code>, <code class=\"notranslate\">fields</code>, <code class=\"notranslate\">dom_id</code>, etc.), Action Pack helpers and classes (like <code class=\"notranslate\">ActionController::Base</code>, <code class=\"notranslate\">url_for</code>, <code class=\"notranslate\">link_to</code>, etc), and Active Model attributes and validations.</p>\n<p dir=\"auto\"><strong>What's novel about this approach is its use of <code class=\"notranslate\">#save!</code> as an operation</strong>. It can serve as a coordinating method to integrate multiple Active Record (of Active Model) classes with validations and side-effects. It potentially fits into an application architecture where teams might reach for a Service Object or Interactor, while remaining familiar and intuitive to anyone that knows how to use Active Record.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Session &lt; ActiveModel::Base\n  attr_accessor :email, :password, :request\n\n  validates :email, :password, presence: true\n\n  def save!\n    if (user = User.authenticate_by(email: email, password: password))\n      request.cookies[:signed_user_id] = user.signed_id\n    else\n      errors.add(:base, :invalid)\n\n      raise ActiveModel::ValidationError.new(self)\n    end\n  end\nend\n\nsession = Session.new(email: &quot;&quot;, password: &quot;secret&quot;, request: request)\nsession.persisted? # =&gt; false\nsession.save! # =&gt; raises ActiveModel::ValidationError\nsession.update! email: &quot;user@example.com&quot; # =&gt; true\nsession.persisted? # =&gt; true\nsession.email = &quot;user@example.com&quot;\nUser.find_signed(request.cookies[:signed_user_id]) == User.authenticate_by(email: &quot;user@example.com&quot;, password: &quot;secret&quot;) # =&gt; true\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Session</span> &lt; <span class=\"pl-v\">ActiveModel</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">attr_accessor</span> <span class=\"pl-pds\">:email</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:password</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:request</span>\n\n  <span class=\"pl-en\">validates</span> <span class=\"pl-pds\">:email</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:password</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">presence</span>: <span class=\"pl-c1\">true</span>\n\n  <span class=\"pl-k\">def</span> <span class=\"pl-en\">save!</span>\n    <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">user</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">authenticate_by</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">email</span>: <span class=\"pl-en\">email</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">password</span>: <span class=\"pl-en\">password</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span>\n      <span class=\"pl-en\">request</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">cookies</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:signed_user_id</span><span class=\"pl-kos\">]</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">user</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">signed_id</span>\n    <span class=\"pl-k\">else</span>\n      <span class=\"pl-en\">errors</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">add</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:base</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:invalid</span><span class=\"pl-kos\">)</span>\n\n      <span class=\"pl-en\">raise</span> <span class=\"pl-v\">ActiveModel</span>::<span class=\"pl-v\">ValidationError</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-smi\">self</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-k\">end</span>\n  <span class=\"pl-k\">end</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-s1\">session</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Session</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">email</span>: <span class=\"pl-s\">\"\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">password</span>: <span class=\"pl-s\">\"secret\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">request</span>: <span class=\"pl-en\">request</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">session</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">persisted?</span> <span class=\"pl-c\"># =&gt; false</span>\n<span class=\"pl-s1\">session</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">save!</span> <span class=\"pl-c\"># =&gt; raises ActiveModel::ValidationError</span>\n<span class=\"pl-s1\">session</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">update!</span> <span class=\"pl-pds\">email</span>: <span class=\"pl-s\">\"user@example.com\"</span> <span class=\"pl-c\"># =&gt; true</span>\n<span class=\"pl-s1\">session</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">persisted?</span> <span class=\"pl-c\"># =&gt; true</span>\n<span class=\"pl-s1\">session</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">email</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">\"user@example.com\"</span>\n<span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find_signed</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">request</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">cookies</span><span class=\"pl-kos\">[</span><span class=\"pl-pds\">:signed_user_id</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span> == <span class=\"pl-v\">User</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">authenticate_by</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">email</span>: <span class=\"pl-s\">\"user@example.com\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">password</span>: <span class=\"pl-s\">\"secret\"</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\"># =&gt; true</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49647",
            "title": "Introduce `ActiveModel::Base` class",
            "date_modified": "2023-10-17T12:41:50.000Z",
            "date_published": "2023-10-15T21:52:51.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/771968?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><code class=\"notranslate\">ActiveRecord::Base::normalizes_attributes_of_type</code> behaves like <code class=\"notranslate\">ActiveRecord::Base::normalizes</code>, but targets attributes having one of the specified types.  For example:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Snippet &lt; ActiveRecord::Base\n  normalizes_attributes_of_type :string, :text, except: [:code], with: -&gt; { _1.strip }\nend\n\nsnippet = Snippet.new(title: &quot;  Title&quot;, description: &quot;Description.\\n&quot;, code: &quot;  code\\n&quot;)\nsnippet.title        # =&gt; &quot;Title&quot;\nsnippet.description  # =&gt; &quot;Description.&quot;\nsnippet.code         # =&gt; &quot;  code\\n&quot;\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Snippet</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">normalizes_attributes_of_type</span> <span class=\"pl-pds\">:string</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:text</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">except</span>: <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:code</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">with</span>: <span class=\"pl-c1\">-&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-en\">_1</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">strip</span> <span class=\"pl-kos\">}</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-s1\">snippet</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Snippet</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">title</span>: <span class=\"pl-s\">\"  Title\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">description</span>: <span class=\"pl-s\">\"Description.<span class=\"pl-cce\">\\n</span>\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">code</span>: <span class=\"pl-s\">\"  code<span class=\"pl-cce\">\\n</span>\"</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">snippet</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">title</span>        <span class=\"pl-c\"># =&gt; \"Title\"</span>\n<span class=\"pl-s1\">snippet</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">description</span>  <span class=\"pl-c\"># =&gt; \"Description.\"</span>\n<span class=\"pl-s1\">snippet</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">code</span>         <span class=\"pl-c\"># =&gt; \"  code\\n\"</span></pre></div>\n<hr>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes pull request #49314.\">Closes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1901813639\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49314\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49314/hovercard\" href=\"https://github.com/rails/rails/pull/49314\">#49314</a>.</p>\n<p dir=\"auto\"><a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/codergeek121/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/codergeek121\">@codergeek121</a> I've added you as a co-author for your work on <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1901813639\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49314\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49314/hovercard\" href=\"https://github.com/rails/rails/pull/49314\">#49314</a>.</p>",
            "url": "https://github.com/rails/rails/pull/49646",
            "title": "Add `AR::Base::normalizes_attributes_of_type`",
            "date_modified": "2023-10-16T18:06:13.000Z",
            "date_published": "2023-10-15T21:39:16.000Z",
            "author": {
                "name": "jonathanhefner",
                "url": "https://github.com/jonathanhefner"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/3317191?u=ff590b976739abed13b66f761286b812d3f71d89&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">Exit status is zero when there is an error creating the migration file.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"% bin/rails generate migration ChangeFieldToUsers\n      invoke  active_record\n    conflict    db/migrate/20231015071420_change_field_to_users.rb\nAnother migration is already named change_field_to_users: /path/to/rails/db/migrate/20231015020422_change_field_to_users.rb. Use --force to replace this migration or --skip to ignore conflicted file.\n% echo $?\n0\"><pre class=\"notranslate\"><code class=\"notranslate\">% bin/rails generate migration ChangeFieldToUsers\n      invoke  active_record\n    conflict    db/migrate/20231015071420_change_field_to_users.rb\nAnother migration is already named change_field_to_users: /path/to/rails/db/migrate/20231015020422_change_field_to_users.rb. Use --force to replace this migration or --skip to ignore conflicted file.\n% echo $?\n0\n</code></pre></div>\n<p dir=\"auto\">This is a success status despite the failure, so it is considered a success by a script, for example. This pull request returns 1 as the exit status on failure.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"% bin/rails generate migration ChangeFieldToUsers\n      invoke  active_record\n    conflict    db/migrate/20231015071420_change_field_to_users.rb\nAnother migration is already named change_field_to_users: /path/to/rails/db/migrate/20231015020422_change_field_to_users.rb. Use --force to replace this migration or --skip to ignore conflicted file.\n% echo $?\n1\"><pre class=\"notranslate\"><code class=\"notranslate\">% bin/rails generate migration ChangeFieldToUsers\n      invoke  active_record\n    conflict    db/migrate/20231015071420_change_field_to_users.rb\nAnother migration is already named change_field_to_users: /path/to/rails/db/migrate/20231015020422_change_field_to_users.rb. Use --force to replace this migration or --skip to ignore conflicted file.\n% echo $?\n1\n</code></pre></div>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">The change that the exit status always be zero was made in <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/rails/rails/commit/c49bb4d58587ddc2f3eee9944f92c97189094b46/hovercard\" href=\"https://github.com/rails/rails/commit/c49bb4d58587ddc2f3eee9944f92c97189094b46\"><tt>c49bb4d</tt></a>. The commit message says</p>\n<blockquote>\n<p dir=\"auto\">We should investigate which command we want to return a non-zero<br>\nstatus when it fails but for now I'm just disabling the warning and<br>\nkeeping the old behavior.</p>\n</blockquote>\n<p dir=\"auto\">However, I think it should always be non-zero on failure; there are probably no cases where it should be zero.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49644",
            "title": "Non-zero exit status on migration file creation errors",
            "date_modified": "2023-10-15T07:38:58.000Z",
            "date_published": "2023-10-15T07:38:54.000Z",
            "author": {
                "name": "kyoshidajp",
                "url": "https://github.com/kyoshidajp"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4085?u=1a6686201552c6d1ef1136ee76bbbeaa8317a41f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because it decouples ActionView and Rails::HTML::Sanitizer. This allows other frameworks like <a href=\"https://rubyonjets.com/\" rel=\"nofollow\">Jets</a> to use ActionView for rendering.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the actionview <code class=\"notranslate\">sanitize_helper.rb</code> to remove</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"require &quot;rails-html-sanitzer&quot;\"><pre class=\"notranslate\"><span class=\"pl-en\">require</span> <span class=\"pl-s\">\"rails-html-sanitzer\"</span></pre></div>\n<p dir=\"auto\">And the default <code class=\"notranslate\">sanitizer_vendor</code> of <code class=\"notranslate\">Rails::HTML4::Sanitizer</code></p>\n<p dir=\"auto\">This decouples actionview from Rails. It takes care of the only spot in actionview that refers to <code class=\"notranslate\">Rails</code> and couples actionview to Rails.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Related PR: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1943733259\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails-html-sanitizer/issues/170\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails-html-sanitizer/pull/170/hovercard\" href=\"https://github.com/rails/rails-html-sanitizer/pull/170\">rails/rails-html-sanitizer#170</a></p>\n<p dir=\"auto\">Note, I updated the relevant gemspec to use an <code class=\"notranslate\">rails-html-sanitizer ~&gt; 1.6.1</code>. This is just a suggested patch bump and just helps to explain what would need to be done to roll this out.</p>\n<ol dir=\"auto\">\n<li>Release rails-html-sanitizer</li>\n<li>Release rails to use the updated rails-html-sanitizer that has the railtie</li>\n</ol>\n<p dir=\"auto\">Thanks for considering this PR.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49643",
            "title": "Decouple ActionView and Rails HTML Sanitizer to Allow Other Frameworks to Use ActionView",
            "date_modified": "2023-10-15T22:30:25.000Z",
            "date_published": "2023-10-15T06:16:40.000Z",
            "author": {
                "name": "tongueroo",
                "url": "https://github.com/tongueroo"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/99301559?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created because it would be very helpful to provide a link that explains ERB in more depth for people learning the Rails framework. ERB is a very essential part of a Rails application.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds the important fact that ERB stands for \"Embedded Ruby.\" This helps readers better understand the meaning of ERB. This Pull Request also provides a link to a very useful Wikipedia page explaining ERB in more depth for readers who want to explore the topic in more depth.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49640",
            "title": "Added link further explaining ERB in the 'Getting Started' documentation [ci skip]",
            "date_modified": "2023-10-17T10:09:10.000Z",
            "date_published": "2023-10-14T18:54:48.000Z",
            "author": {
                "name": "mguan2020",
                "url": "https://github.com/mguan2020"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Largely inspired by the Active Record implementation, this commit introduces support for assigning instances of objects to classes that <code class=\"notranslate\">include ActiveModel::Model</code>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">It aims to handle assignment of <code class=\"notranslate\">_attributes</code>-suffixed values in an ActionView- and ActionPack-compliant way:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Author = Struct.new(:name)\nCategory = Struct.new(:name)\n\nclass Article\n  include ActiveModel::Model\n  include ActiveModel::NestedAttributes\n\n  attr_accessor :author\n  attr_accessor :tags\n\n  accepts_nested_attributes_for :author\n  accepts_nested_attributes_for :tags, class_name: Category\nend\n\narticle = Article.new(\n  author_attributes: { name: &quot;Pseudo Nym&quot; },\n  tags_attributes: {\n      0 =&gt; { name: &quot;actionview&quot; },\n      1 =&gt; { name: &quot;actionpack&quot; },\n  }\n)\n\narticle.author.name # =&gt; &quot;Pseudo Nym&quot;\narticle.tags.pluck(:name) # =&gt; [&quot;actionview&quot;, &quot;actionpack&quot;]\"><pre class=\"notranslate\"><span class=\"pl-v\">Author</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Struct</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:name</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-v\">Category</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Struct</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:name</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">Article</span>\n  <span class=\"pl-en\">include</span> <span class=\"pl-v\">ActiveModel</span>::<span class=\"pl-v\">Model</span>\n  <span class=\"pl-en\">include</span> <span class=\"pl-v\">ActiveModel</span>::<span class=\"pl-v\">NestedAttributes</span>\n\n  <span class=\"pl-en\">attr_accessor</span> <span class=\"pl-pds\">:author</span>\n  <span class=\"pl-en\">attr_accessor</span> <span class=\"pl-pds\">:tags</span>\n\n  <span class=\"pl-en\">accepts_nested_attributes_for</span> <span class=\"pl-pds\">:author</span>\n  <span class=\"pl-en\">accepts_nested_attributes_for</span> <span class=\"pl-pds\">:tags</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">class_name</span>: <span class=\"pl-v\">Category</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-s1\">article</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">new</span><span class=\"pl-kos\">(</span>\n  <span class=\"pl-pds\">author_attributes</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"Pseudo Nym\"</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-pds\">tags_attributes</span>: <span class=\"pl-kos\">{</span>\n      <span class=\"pl-c1\">0</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"actionview\"</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n      <span class=\"pl-c1\">1</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"actionpack\"</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">)</span>\n\n<span class=\"pl-s1\">article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">author</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">name</span> <span class=\"pl-c\"># =&gt; \"Pseudo Nym\"</span>\n<span class=\"pl-s1\">article</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">tags</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">pluck</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:name</span><span class=\"pl-kos\">)</span> <span class=\"pl-c\"># =&gt; [\"actionview\", \"actionpack\"]</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49637",
            "title": "Introduce `ActiveModel::NestedAttributes`",
            "date_modified": "2023-10-15T21:56:01.000Z",
            "date_published": "2023-10-14T15:36:22.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/3461?u=9efd36318b3e64f5d97809072d39f6312321ad4b&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">PostgreSQL's <code class=\"notranslate\">NOTIFY</code> command which is used by the ActionCable PostgreSQL adapter has a hard coded payload limit of 8000 bytes. As stated in the <a href=\"https://www.postgresql.org/docs/16/sql-notify.html\" rel=\"nofollow\">NOTIFY docs</a>:</p>\n<blockquote>\n<p dir=\"auto\">The “payload” string to be communicated along with the notification. This must be specified as a simple string literal. In the default configuration it must be shorter than 8000 bytes. (If binary data or large amounts of information need to be communicated, it's best to put it in a database table and send the key of the record.)</p>\n</blockquote>\n<p dir=\"auto\">Note that the limit can not be reconfigured, even though the documentation makes it seem like it by mentioning \"default configuration\".</p>\n<p dir=\"auto\">In practice this implies that whenever <code class=\"notranslate\">ActionCable::SubscriptionAdapter::PostgreSQL#broadcast</code> is invoked with a large payload it will fail with the <code class=\"notranslate\">PG::InvalidParameterValue: ERROR: payload string too long</code> exception.</p>\n<p dir=\"auto\">When googling for information about this adapter, this issue surfaced in quite a few places and seems to be a major reason why it sees so little real world usage.</p>\n<p dir=\"auto\">Also, given the push from 37 signals to move caching and queuing to the SQL database layer via Solid Cache / Solid Queue this leaves only ActionCable left to enable a super simple \"SQL database only\" deployment possibility for a fully featured Rails app. Which was a big motivation for me to look into solving this issue.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request evolves the implementation of the adapter by following the advice given in the Postgres documentation, ie. to store large payloads in a table, then pass the record ID as the message payload, then fetch the payload from the table when running the listener callback.</p>\n<p dir=\"auto\">Documentation is provided in the Rails Guides for how to create the table. If no table exists, instead of the previous <code class=\"notranslate\">PG::InvalidParameterValue</code> exception, a helpful custom exception will be raised instead, linking to the documentation.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<h4 dir=\"auto\">Performance</h4>\n<p dir=\"auto\">Storing and fetching payloads from a table will clearly have a performance impact. However, since the approach is used only for payloads violating the limit, and only if a dedicated table has been explicitly created, this PR avoids any performance implications for existing users (if there even are any 😅).</p>\n<h4 dir=\"auto\">Alternatives / ideas</h4>\n<p dir=\"auto\">Having to manually create the large payloads table doesn't make for a completely seamless developer experience. I considered lazily creating the table \"on the fly\" as needed. However this might go too far in hiding what's going on in the database from the developer, it would also create confusing diffs from <code class=\"notranslate\">db:schema:dump</code> which would now include the lazily created table unless we also add the table to <code class=\"notranslate\">ActiveRecord::SchemaDumper.ignore_tables</code> during Rails boot.</p>\n<p dir=\"auto\">Not having built in expiry of old payloads could be reconsidered. One approach of doing it would be to delete old payloads at the same time as we insert new entries (simiilar to how <a href=\"https://github.com/rails/solid_cache/blob/e4865809025d650736d818fce26d09737f6623b1/lib/solid_cache/cluster/expiry.rb#L6-L7\">Solid Cache approaches this problem</a>). To avoid too much database churn we could do it for every 100 or 1000 messages by looking at the auto incrementing ID returned during insert-time. Feedback appreciated!</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49634",
            "title": "ActionCable PostgreSQL adapter: support payloads larger than 8000 bytes",
            "date_modified": "2023-10-17T11:43:03.000Z",
            "date_published": "2023-10-14T12:32:22.000Z",
            "author": {
                "name": "dbackeus",
                "url": "https://github.com/dbackeus"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4289625?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because the <code class=\"notranslate\">config.active_record.sqlite3_production_warning</code> config that was merged as <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"883978598\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/42191\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/42191/hovercard\" href=\"https://github.com/rails/rails/pull/42191\">#42191</a> in <a href=\"https://github.com/rails/rails/blob/7-0-stable/activerecord/CHANGELOG.md#rails-700alpha1-september-15-2021\">Rails 7.0.0.alpha1</a> still has not been added to the configuring guide.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds the entry for <code class=\"notranslate\">config.active_record.sqlite3_production_warning</code>.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">As far as I see, the current config entries for Active Record are unsorted and I'm a bit wondering if the line I added is appropriate or not. This time I added it to the next line of <code class=\"notranslate\">sqlite3_adapter_strict_strings_by_default</code>.</p>\n<p dir=\"auto\">Or if you think adding <code class=\"notranslate\">config.active_record.sqlite3_production_warning</code> to the configuring guide is redundant because the warning indicates the one, just close the PR.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Oct 14 05:38:10 PM  W, [2023-10-14T08:38:07.617001 #1]  WARN -- : You are running SQLite in production, this is generally not recommended. You can disable this warning by setting &quot;config.active_record.sqlite3_production_warning=false&quot;.\"><pre class=\"notranslate\"><code class=\"notranslate\">Oct 14 05:38:10 PM  W, [2023-10-14T08:38:07.617001 #1]  WARN -- : You are running SQLite in production, this is generally not recommended. You can disable this warning by setting \"config.active_record.sqlite3_production_warning=false\".\n</code></pre></div>\n<p dir=\"auto\">cc: <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/intrip/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/intrip\">@intrip</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49633",
            "title": "[ci-skip][Docs]Add sqlite3_production_warning to configuring guide",
            "date_modified": "2023-10-17T01:28:06.000Z",
            "date_published": "2023-10-14T08:57:03.000Z",
            "author": {
                "name": "hachi8833",
                "url": "https://github.com/hachi8833"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This fixes the following warnings with initialized apps:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"DEPRECATION WARNING: Support for `config.active_support.cache_format_version = 6.1` has been deprecated and will be removed in Rails 7.2.\n\nCheck the Rails upgrade guide at https://guides.rubyonrails.org/upgrading_ruby_on_rails.html#new-activesupport-cache-serialization-format\nfor more information on how to upgrade.\n (called from &lt;main&gt; at bug_report_templates/action_mailbox_main.rb:43)\"><pre class=\"notranslate\"><code class=\"notranslate\">DEPRECATION WARNING: Support for `config.active_support.cache_format_version = 6.1` has been deprecated and will be removed in Rails 7.2.\n\nCheck the Rails upgrade guide at https://guides.rubyonrails.org/upgrading_ruby_on_rails.html#new-activesupport-cache-serialization-format\nfor more information on how to upgrade.\n (called from &lt;main&gt; at bug_report_templates/action_mailbox_main.rb:43)\n</code></pre></div>\n<p dir=\"auto\">I've opted to use 7.0 (rather than 7.1) since that is the lowest possible change to resolve the warning.</p>\n<p dir=\"auto\">Another question is why not use <code class=\"notranslate\">load_defaults</code> to the latest version in the bug_report_templates?</p>",
            "url": "https://github.com/rails/rails/pull/49631",
            "title": "Add cache_format_version 7.0 to bug_report_templates",
            "date_modified": "2023-10-15T21:42:24.000Z",
            "date_published": "2023-10-14T00:10:27.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4289625?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because the current querying guide has no entries for CTE and the link to <code class=\"notranslate\">with</code> method.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds the entry for CTE.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">ref: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"536810238\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/37944\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/37944/hovercard\" href=\"https://github.com/rails/rails/pull/37944\">#37944</a><br>\nref: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1512256975\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46843\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/46843/hovercard\" href=\"https://github.com/rails/rails/pull/46843\">#46843</a></p>\n<p dir=\"auto\">cc: <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/vlado/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vlado\">@vlado</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/palkan/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/palkan\">@palkan</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49630",
            "title": "[ci-skip][Docs]Add description for CTE to querying guide",
            "date_modified": "2023-10-13T23:34:48.000Z",
            "date_published": "2023-10-13T23:33:02.000Z",
            "author": {
                "name": "hachi8833",
                "url": "https://github.com/hachi8833"
            }
        }
    ]
}