{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4910785?u=bb262553df264faad2f515f6ea75067266e0d129&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because of the comment <a href=\"https://github.com/rails/rails/pull/48921#issuecomment-1674978552\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48921/hovercard\">here</a>. If there are other things that need to happen before this change, please let me know and I'll try to come up with a solution.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">It includes <code class=\"notranslate\">ActiveModel::Attributes</code> to <code class=\"notranslate\">ActiveModel::Model</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49137",
            "title": "Include ActiveModel::Attributes to ActiveModel::Model",
            "date_modified": "2023-09-04T19:45:28.000Z",
            "date_published": "2023-09-04T19:45:25.000Z",
            "author": {
                "name": "codergeek121",
                "url": "https://github.com/codergeek121"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #49132.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1880021482\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49132\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49132/hovercard\" href=\"https://github.com/rails/rails/issues/49132\">#49132</a>.</p>\n<p dir=\"auto\"><code class=\"notranslate\">_counter_cache_columns</code> class attribute is defined on <code class=\"notranslate\">ActiveRecord::Base</code> class and all models share its value. We should not modify it in place, but reassign to it.</p>",
            "url": "https://github.com/rails/rails/pull/49136",
            "title": "Fix in-place modification of shared `_counter_cache_columns` class attribute",
            "date_modified": "2023-09-04T17:12:11.000Z",
            "date_published": "2023-09-04T16:38:13.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR fixes warnings, currently produced by ActiveRecord tests:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"$ SEED=29905 rake test:sqlite3\"><pre class=\"notranslate\"><code class=\"notranslate\">$ SEED=29905 rake test:sqlite3\n</code></pre></div>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"..............................................................................................................................................................................................................SSSSSSS...S...................................................................................................DEPRECATION WARNING: assert_deprecated without a deprecator is deprecated (called from block (3 levels) in run at /Users/fatkodima/.asdf/installs/ruby/3.2.1/lib/ruby/gems/3.2.0/gems/minitest-5.19.0/lib/minitest/test.rb:94)\nDEPRECATION WARNING: assert_deprecated without a deprecator is deprecated (called from block (3 levels) in run at /Users/fatkodima/.asdf/installs/ruby/3.2.1/lib/ruby/gems/3.2.0/gems/minitest-5.19.0/lib/minitest/test.rb:94)\n.DEPRECATION WARNING: assert_deprecated without a deprecator is deprecated (called from block (3 levels) in run at /Users/fatkodima/.asdf/installs/ruby/3.2.1/lib/ruby/gems/3.2.0/gems/minitest-5.19.0/lib/minitest/test.rb:94)\nDEPRECATION WARNING: assert_deprecated without a deprecator is deprecated (called from block (3 levels) in run at /Users/fatkodima/.asdf/installs/ruby/3.2.1/lib/ruby/gems/3.2.0/gems/minitest-5.19.0/lib/minitest/test.rb:94)\nDEPRECATION WARNING: assert_deprecated without a deprecator is deprecated (called from block (3 levels) in run at /Users/fatkodima/.asdf/installs/ruby/3.2.1/lib/ruby/gems/3.2.0/gems/minitest-5.19.0/lib/minitest/test.rb:94)\nDEPRECATION WARNING: assert_deprecated without a deprecator is deprecated (called from block (3 levels) in run at /Users/fatkodima/.asdf/installs/ruby/3.2.1/lib/ruby/gems/3.2.0/gems/minitest-5.19.0/lib/minitest/test.rb:94)\"><pre class=\"notranslate\"><code class=\"notranslate\">..............................................................................................................................................................................................................SSSSSSS...S...................................................................................................DEPRECATION WARNING: assert_deprecated without a deprecator is deprecated (called from block (3 levels) in run at /Users/fatkodima/.asdf/installs/ruby/3.2.1/lib/ruby/gems/3.2.0/gems/minitest-5.19.0/lib/minitest/test.rb:94)\nDEPRECATION WARNING: assert_deprecated without a deprecator is deprecated (called from block (3 levels) in run at /Users/fatkodima/.asdf/installs/ruby/3.2.1/lib/ruby/gems/3.2.0/gems/minitest-5.19.0/lib/minitest/test.rb:94)\n.DEPRECATION WARNING: assert_deprecated without a deprecator is deprecated (called from block (3 levels) in run at /Users/fatkodima/.asdf/installs/ruby/3.2.1/lib/ruby/gems/3.2.0/gems/minitest-5.19.0/lib/minitest/test.rb:94)\nDEPRECATION WARNING: assert_deprecated without a deprecator is deprecated (called from block (3 levels) in run at /Users/fatkodima/.asdf/installs/ruby/3.2.1/lib/ruby/gems/3.2.0/gems/minitest-5.19.0/lib/minitest/test.rb:94)\nDEPRECATION WARNING: assert_deprecated without a deprecator is deprecated (called from block (3 levels) in run at /Users/fatkodima/.asdf/installs/ruby/3.2.1/lib/ruby/gems/3.2.0/gems/minitest-5.19.0/lib/minitest/test.rb:94)\nDEPRECATION WARNING: assert_deprecated without a deprecator is deprecated (called from block (3 levels) in run at /Users/fatkodima/.asdf/installs/ruby/3.2.1/lib/ruby/gems/3.2.0/gems/minitest-5.19.0/lib/minitest/test.rb:94)\n</code></pre></div>",
            "url": "https://github.com/rails/rails/pull/49134",
            "title": "Fix `assert_deprecated` related warnings in ActiveRecord tests",
            "date_modified": "2023-09-04T13:28:18.000Z",
            "date_published": "2023-09-04T13:28:14.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #49130.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1879828938\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49130\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49130/hovercard\" href=\"https://github.com/rails/rails/issues/49130\">#49130</a>.</p>",
            "url": "https://github.com/rails/rails/pull/49133",
            "title": "Fix `has_secure_token on: :initialize` when column is not selected",
            "date_modified": "2023-09-04T13:50:43.000Z",
            "date_published": "2023-09-04T12:58:00.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1272897?u=19661497b6fe87cb1aa919b1b50163dcd944214c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">When concurrent requests are made from the browser to the server, all of them load the session to get the information about the current user, and one of the requests stores some data in the session. Due to racing, there is a chance that a response that reads from the session will overwrite the session value set by a response that writes to the session.</p>\n<p dir=\"auto\">These changes are not going to solve the issue of the overwritten session but are going to make them less frequent. Also will reduce actions done in runtime like cookie encrypting and signing.</p>\n<p dir=\"auto\">The issue was reported:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://stackoverflow.com/questions/42044076/why-is-rails-constantly-sending-back-a-set-cookie-header\" rel=\"nofollow\">https://stackoverflow.com/questions/42044076/why-is-rails-constantly-sending-back-a-set-cookie-header</a></li>\n</ul>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Related to:</p>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1879784297\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rack/rack-session/issues/24\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rack/rack-session/pull/24/hovercard\" href=\"https://github.com/rack/rack-session/pull/24\">rack/rack-session#24</a></li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49129",
            "title": "Expose ActionDispatch::Request::Session changed state",
            "date_modified": "2023-09-04T15:51:08.000Z",
            "date_published": "2023-09-04T08:17:59.000Z",
            "author": {
                "name": "ardevelop",
                "url": "https://github.com/ardevelop"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/58332033?u=7aa838b7c0f20fd09510535cb09bf5ec078bd1d0&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because some browsers have a bug and didn't respect the cache max-age and never invalidate the cached URLs even if service_urls_expire_in is set to zero. Hence, I had to override the redirect controller and disable the cache.</p>\n<p dir=\"auto\">This PR makes it easy to toggle caching without override and</p>\n<h3 dir=\"auto\">Detail</h3>\n<ul dir=\"auto\">\n<li>Active storage by default allows caching service URLs in browsers by adding cache-control max-age = <code class=\"notranslate\">service_urls_expire_in</code> value</li>\n<li>This PR adds the ability to control caching by decoupling it from service_urls_expire_in.</li>\n<li>Adds a new boolean active storage config <code class=\"notranslate\">cache_service_urls</code> equal to true by default</li>\n<li>If it is set to false It will set <code class=\"notranslate\">cache-control</code> to <code class=\"notranslate\">no-store</code></li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49124",
            "title": "Feat: control active storage service urls caching",
            "date_modified": "2023-09-02T17:59:44.000Z",
            "date_published": "2023-09-02T17:54:03.000Z",
            "author": {
                "name": "civilcoder55",
                "url": "https://github.com/civilcoder55"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">There were a few 6.1 migration compatibility fixes in <a href=\"https://github.com/rails/rails/commit/c2f838e80c76c9a3407e1e7af1ecbd738511fd72\">previous</a> <a href=\"https://github.com/rails/rails/commit/9b07b2d6ca2ee9854cd986da0bf914b9ace9d547\">commits</a>. Most importantly, those commits reorganized some of the compatibility tests to ensure that the tests would run against every Migration version. To continue the effort of improving test coverage for Migration compatibility, this commit converts tests for create_table and change_column setting the correct precision on datetime columns.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">While the create_table tests all pass, the change_column test did not pass for 7.0 versioned Migrations on sqlite. This was due to the sqlite adapter not using new_column_definition to set the options on the new column (new_column_definition is where precision: 6 gets set if no precision is specified). This happens because columns can't be modified in place in sqlite and instead the whole table must be recreated and the data copied. Before this commit, change_column would use the options of the existing column as a base and merge in the exact options (and type) passed to change_column.</p>\n<p dir=\"auto\">This commit changes the change_column method to replace the existing column without using the existing options. This ensures that precision: 6 is set consistently across adapters when change_column is used to create a datetime column.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Ref <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1874509445\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49090\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49090/hovercard\" href=\"https://github.com/rails/rails/pull/49090\">#49090</a></p>\n<p dir=\"auto\">(manually backported to 7-0-stable because it did not apply cleanly)</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49121",
            "title": "Fix change_column not setting precision for sqlite [7-0-stable]",
            "date_modified": "2023-09-02T16:17:45.000Z",
            "date_published": "2023-09-02T16:17:41.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22231095?u=fc75f9764434943effe06d6c1dc48d40a5003b0c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #44948.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1213589208\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/44948\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/44948/hovercard\" href=\"https://github.com/rails/rails/issues/44948\">#44948</a></p>\n<p dir=\"auto\">By default <code class=\"notranslate\">simple_format</code> method returns the text wrapped with <code class=\"notranslate\">&lt;p&gt;</code>. But if we explicitly specify the <code class=\"notranslate\">wrapper_tag: nil</code> or <code class=\"notranslate\">wrapper_tag: \"\"</code> in the options, it returns the text wrapped with <code class=\"notranslate\">&lt;&gt;&lt;/&gt;</code> tag.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"simple_format(&quot;Hello World&quot;)\n# &lt;p&gt;Hello World&lt;/p&gt;\n\nsimple_format(&quot;Hello World&quot;, {},  {wrapper_tag: &quot;div&quot;})\n# &lt;div&gt;Hello World&lt;/div&gt;\n\nsimple_format(&quot;Hello World&quot;, {},  {wrapper_tag: &quot;&quot;})\n# &lt;&gt;Hello World&lt;/&gt;\n\nsimple_format(&quot;Hello World&quot;, {},  {wrapper_tag: nil})\n# &lt;&gt;Hello World&lt;/&gt;\"><pre class=\"notranslate\"><span class=\"pl-en\">simple_format</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Hello World\"</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># &lt;p&gt;Hello World&lt;/p&gt;</span>\n\n<span class=\"pl-en\">simple_format</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Hello World\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span><span class=\"pl-pds\">wrapper_tag</span>: <span class=\"pl-s\">\"div\"</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># &lt;div&gt;Hello World&lt;/div&gt;</span>\n\n<span class=\"pl-en\">simple_format</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Hello World\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span><span class=\"pl-pds\">wrapper_tag</span>: <span class=\"pl-s\">\"\"</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># &lt;&gt;Hello World&lt;/&gt;</span>\n\n<span class=\"pl-en\">simple_format</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Hello World\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span><span class=\"pl-pds\">wrapper_tag</span>: <span class=\"pl-c1\">nil</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># &lt;&gt;Hello World&lt;/&gt;</span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">In this PR, it updates the behavior of the <code class=\"notranslate\">simple_format</code> helper, If the user passes <code class=\"notranslate\">nil</code> or an empty string as a value for <code class=\"notranslate\">wrapper_tag</code> it defaults to use the <code class=\"notranslate\">&lt;p&gt;</code> tag for wrapping.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"simple_format(&quot;Hello World&quot;, {},  {wrapper_tag: &quot;div&quot;})\n# &lt;div&gt;Hello World&lt;/div&gt;\n\nsimple_format(&quot;Hello World&quot;, {},  {wrapper_tag: &quot;&quot;})\n# &lt;p&gt;Hello World&lt;/p&gt;\n\nsimple_format(&quot;Hello World&quot;, {},  {wrapper_tag: nil})\n# &lt;p&gt;Hello World&lt;/p&gt;\"><pre class=\"notranslate\"><span class=\"pl-en\">simple_format</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Hello World\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span><span class=\"pl-pds\">wrapper_tag</span>: <span class=\"pl-s\">\"div\"</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># &lt;div&gt;Hello World&lt;/div&gt;</span>\n\n<span class=\"pl-en\">simple_format</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Hello World\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span><span class=\"pl-pds\">wrapper_tag</span>: <span class=\"pl-s\">\"\"</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># &lt;p&gt;Hello World&lt;/p&gt;</span>\n\n<span class=\"pl-en\">simple_format</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Hello World\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>  <span class=\"pl-kos\">{</span><span class=\"pl-pds\">wrapper_tag</span>: <span class=\"pl-c1\">nil</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-c\"># &lt;p&gt;Hello World&lt;/p&gt;</span></pre></div>\n<p dir=\"auto\">Co-authored-by: <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/JunichiIto/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/JunichiIto\">@JunichiIto</a></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49120",
            "title": "Fix: simple_format with blank wrapper_tag option returns plain html tag.",
            "date_modified": "2023-09-04T12:51:59.000Z",
            "date_published": "2023-09-02T15:34:32.000Z",
            "author": {
                "name": "akhilgkrishnan",
                "url": "https://github.com/akhilgkrishnan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22231095?u=fc75f9764434943effe06d6c1dc48d40a5003b0c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR updated the deprecate changes of ActiveSupport in the rails 7.1 release note.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49119",
            "title": "[skip ci] ActiveSupport deprecate changes added to 7.1 release note",
            "date_modified": "2023-09-02T10:21:00.000Z",
            "date_published": "2023-09-02T10:20:57.000Z",
            "author": {
                "name": "akhilgkrishnan",
                "url": "https://github.com/akhilgkrishnan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22231095?u=fc75f9764434943effe06d6c1dc48d40a5003b0c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds the description for <a href=\"44189\"><code class=\"notranslate\">ActiveRecord::Base.generates_token_for</code></a> method in the rails 7.1 release note.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49118",
            "title": "[skip ci] Description added for `ActiveRecord::Base.generates_token_for` method in 7.1 release note",
            "date_modified": "2023-09-04T05:23:59.000Z",
            "date_published": "2023-09-02T10:05:41.000Z",
            "author": {
                "name": "akhilgkrishnan",
                "url": "https://github.com/akhilgkrishnan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5162312?u=e1b3c0f7c6dc600253bf15c99f618b9b2d39c500&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because docs for tuple syntax in Active Record where clauses needs to be documented.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes Active Record to add the appropriate docs.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Adds documentation to ActiveRecord::QueryMethods#where mentioning tuple syntax support added in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1634792256\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47729\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/47729/hovercard\" href=\"https://github.com/rails/rails/pull/47729\">#47729</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49116",
            "title": "Document tuple support in Active Record where clauses",
            "date_modified": "2023-09-03T14:59:37.000Z",
            "date_published": "2023-09-01T22:20:40.000Z",
            "author": {
                "name": "gmcgibbon",
                "url": "https://github.com/gmcgibbon"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/50139?u=2dc5ba0e2ccf832493c256b9981ae892980cd9b6&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because it's annoying that HABTM doesn't alert you when you supply the wrong options.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes HABTM so it works like the other associations and raises <code class=\"notranslate\">ArgumentError</code> when you supply options that it doesn't handle.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #48939.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1850332701\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48939\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48939/hovercard\" href=\"https://github.com/rails/rails/issues/48939\">#48939</a></p>",
            "url": "https://github.com/rails/rails/pull/49115",
            "title": "Add option validation to HABTM, closes #48939",
            "date_modified": "2023-09-02T05:01:17.000Z",
            "date_published": "2023-09-01T21:17:02.000Z",
            "author": {
                "name": "smathy",
                "url": "https://github.com/smathy"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5162312?u=e1b3c0f7c6dc600253bf15c99f618b9b2d39c500&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because the Rails guides don't mention composite primary key usage yet.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes Rails guides to add CPK examples in Action Controller and Action View docs.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Is there anywhere else we should mention composite primary keys in the guides?</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49114",
            "title": "Add composite primary key examples to Rails guides",
            "date_modified": "2023-09-02T00:04:08.000Z",
            "date_published": "2023-09-01T20:53:49.000Z",
            "author": {
                "name": "gmcgibbon",
                "url": "https://github.com/gmcgibbon"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22918438?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Previously, a composite primary key model would need to specify either a <code class=\"notranslate\">primary_key</code> or <code class=\"notranslate\">query_constraints</code> option on its associations. Without it, a <code class=\"notranslate\">CompositePrimaryKeyMismatchError</code> would be raised.</p>\n<p dir=\"auto\">Most of the time, the composite primary key includes the <code class=\"notranslate\">:id</code> column, and associations already expect that <code class=\"notranslate\">:id</code> is being used as the primary key for the association (and the associated model is inferring a foreign key of <code class=\"notranslate\">&lt;cpk_model&gt;_id</code>).</p>\n<p dir=\"auto\">Rather than requiring users to define <code class=\"notranslate\">primary_key: :id</code> throughout an application with composite primary key associations, we can infer that the <code class=\"notranslate\">:id</code> column should be used. Users can still override this behaviour by specifying <code class=\"notranslate\">primary_key:</code> or <code class=\"notranslate\">query_constraints:</code> on the association.</p>\n<p dir=\"auto\">Note that, if the composite primary key for a model does <em>not</em> include <code class=\"notranslate\">:id</code>, Rails <strong>won't</strong> infer the primary key for any related associations, and users must still specify <code class=\"notranslate\">query_constraints</code> or <code class=\"notranslate\">primary_key</code>.</p>\n<p dir=\"auto\">Prior to this change, you'd need to do the following to set up associations for composite primary key models:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Order\n  self.primary_key = [:shop_id, :id]\n\n  has_many :order_agreements, primary_key :id\nend\n\nclass OrderAgreement\n  belongs_to :order, primary_key: :id\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Order</span>\n  <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">primary_key</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:shop_id</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:id</span><span class=\"pl-kos\">]</span>\n\n  <span class=\"pl-en\">has_many</span> <span class=\"pl-pds\">:order_agreements</span><span class=\"pl-kos\">,</span> <span class=\"pl-en\">primary_key</span> <span class=\"pl-pds\">:id</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">OrderAgreement</span>\n  <span class=\"pl-en\">belongs_to</span> <span class=\"pl-pds\">:order</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">primary_key</span>: <span class=\"pl-pds\">:id</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">After this change, the <code class=\"notranslate\">primary_key</code> option no longer needs to be specified:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Order\n  self.primary_key = [:shop_id, :id]\n\n  has_many :order_agreements\nend\n\nclass OrderAgreement\n  belongs_to :order\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Order</span>\n  <span class=\"pl-smi\">self</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">primary_key</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:shop_id</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:id</span><span class=\"pl-kos\">]</span>\n\n  <span class=\"pl-en\">has_many</span> <span class=\"pl-pds\">:order_agreements</span>\n<span class=\"pl-k\">end</span>\n\n<span class=\"pl-k\">class</span> <span class=\"pl-v\">OrderAgreement</span>\n  <span class=\"pl-en\">belongs_to</span> <span class=\"pl-pds\">:order</span>\n<span class=\"pl-k\">end</span></pre></div>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Most of the changes in this PR involve inferring the <code class=\"notranslate\">primary_key</code> for an association, when a) the owner in the association is a composite primary key model, and b) the composite primary key includes <code class=\"notranslate\">:id</code>.</p>\n<p dir=\"auto\">I ended up refactoring <code class=\"notranslate\">#save_has_one_association</code> to use <code class=\"notranslate\">#compute_primary_key</code> so it could share this PK-inference logic with <code class=\"notranslate\">#save_belongs_to_association</code>.</p>\n<p dir=\"auto\">I also needed to change some of the models that were testing logic related to <code class=\"notranslate\">CompositePrimaryKeyMismatchError</code>, since these associations are no longer malformed (as Active Record can now infer the primary_key on those associations properly). I opted to change the primary key on those \"broken\" models to exclude the <code class=\"notranslate\">id</code> column, since that prevents Rails from inferring the PK on the association, and causes the expected <code class=\"notranslate\">CompositePrimaryKeyMismatchError</code> to be raised.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49113",
            "title": "Infer `primary_key: :id` on associations with composite primary key models",
            "date_modified": "2023-09-02T00:02:23.000Z",
            "date_published": "2023-09-01T20:24:20.000Z",
            "author": {
                "name": "adrianna-chang-shopify",
                "url": "https://github.com/adrianna-chang-shopify"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/15172605?u=c9831ccf188358c7be46eb4c634002b47ebb1068&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\"><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1185054594\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/44792\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/44792/hovercard\" href=\"https://github.com/rails/rails/issues/44792\">#44792</a> was originally filed as a bug but ultimately is unavoidable as the ongoing behavior moving forward. <code class=\"notranslate\">scope</code> can start a new clean chain against the model it is defined on. Class methods will never support this behavior.</p>\n<p dir=\"auto\">This PR documents that behavior in a public place to help with awareness.</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #44792.\">Closes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1185054594\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/44792\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/44792/hovercard\" href=\"https://github.com/rails/rails/issues/44792\">#44792</a></p>",
            "url": "https://github.com/rails/rails/pull/49096",
            "title": "Document clean chain behavior for ActiveRecord scope",
            "date_modified": "2023-09-03T16:09:41.000Z",
            "date_published": "2023-08-31T12:35:57.000Z",
            "author": {
                "name": "abaldwin88",
                "url": "https://github.com/abaldwin88"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/646693?u=62e1fec459de18a2ba098b8f90dba89c9d74fa72&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">In case of mail delivery errors, the old ActionMailer::LogSubscriber erroneously logged a \"Delivered mail ...\" line.<br>\nWith this change it checks the passed exception object and logs a \"Failed delivery of mail\" line instead.</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> <del>CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</del></li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49083",
            "title": "Log delivery errors in ActionMailer::LogSubscriber",
            "date_modified": "2023-08-31T07:02:57.000Z",
            "date_published": "2023-08-30T11:14:34.000Z",
            "author": {
                "name": "1st8",
                "url": "https://github.com/1st8"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/96156234?u=9ced8d6ac6128a8dea78e7f0d9233669ff0ffecf&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">By transforming the values hash and adding in the type from the table it's being added to it ensures that the correct Type is used for the table.  This enables a user to make sure the specified type is used if one is set in the model.</p>\n<p dir=\"auto\">Fixes #<a href=\"https://github.com/rails/rails/issues/49009\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49009/hovercard\">49009</a>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul dir=\"auto\">\n<li>[ X] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li>[ X] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li>[ X] Tests are added or updated if you fix a bug or add a feature.</li>\n<li>[ X] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49079",
            "title": "Makes sure values have the correct type in _update_record. Fixes #49009.",
            "date_modified": "2023-09-01T14:58:27.000Z",
            "date_published": "2023-08-29T16:47:38.000Z",
            "author": {
                "name": "paulreece",
                "url": "https://github.com/paulreece"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/509837?u=697e4a265d5359363a5d57a24b07f9a79cb0b08a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">If <code class=\"notranslate\">ActiveRecord::Encryption.config.support_unencrypted_data == true</code>, this allows you to do:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class User &lt; ActiveRecord::Base\n  encrypts :name, deterministic: true, support_unencrypted_data: false\n  encrypts :email, deterministic: true\nend\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">User</span> &lt; <span class=\"pl-v\">ActiveRecord</span>::<span class=\"pl-v\">Base</span>\n  <span class=\"pl-en\">encrypts</span> <span class=\"pl-pds\">:name</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">deterministic</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">support_unencrypted_data</span>: <span class=\"pl-c1\">false</span>\n  <span class=\"pl-en\">encrypts</span> <span class=\"pl-pds\">:email</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">deterministic</span>: <span class=\"pl-c1\">true</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">Now only the <code class=\"notranslate\">email</code> column will allow unencrypted data (and if <code class=\"notranslate\">extend_queries</code> is true, only <code class=\"notranslate\">email</code> queries will get extended). <a href=\"https://github.com/rails/rails/pull/49072#issuecomment-1697170252\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49072/hovercard\">Here</a> is some back story on why you might want this.</p>",
            "url": "https://github.com/rails/rails/pull/49072",
            "title": "Encryption: support `support_unencrypted_data` at a per-attribute level",
            "date_modified": "2023-09-04T00:01:50.000Z",
            "date_published": "2023-08-29T00:57:39.000Z",
            "author": {
                "name": "ghiculescu",
                "url": "https://github.com/ghiculescu"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/54629302?u=be8de5137bf940532cddd05aff823129ab8a39db&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n\n<p dir=\"auto\">This Pull Request has been created to <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #49055.\">fix</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1869073918\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49055\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49055/hovercard\" href=\"https://github.com/rails/rails/issues/49055\">#49055</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes <code class=\"notranslate\">ActiveRecord::NestedAttributes#accepts_nested_attributes_for</code> to raise an <code class=\"notranslate\">ArgumentError</code> when it has already been declared for an association <strong>in the same class</strong>. There is a use case for overriding this in subclasses, that functionality is unchanged.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49056",
            "title": "[Fix #49055] Raise an `ArgumentError` when `#accepts_nested_attributes_for` is redeclared for an association",
            "date_modified": "2023-08-30T13:07:18.000Z",
            "date_published": "2023-08-28T06:38:38.000Z",
            "author": {
                "name": "joshuay03",
                "url": "https://github.com/joshuay03"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/42195321?u=810b1a1449a94590f2ff9e2f189d4c37f90691b3&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This PR addresses the issues <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1766266191\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48535\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48535/hovercard\" href=\"https://github.com/rails/rails/issues/48535\">#48535</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1685480928\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48072\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48072/hovercard\" href=\"https://github.com/rails/rails/issues/48072\">#48072</a>.</p>\n<p dir=\"auto\">With the introduction of PR <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"782710170\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/41068\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/41068/hovercard\" href=\"https://github.com/rails/rails/pull/41068\">#41068</a>, an unintended behavior surfaced, causing the <code class=\"notranslate\">proc_for_binds</code> to apply casting to attributes that were already casted. Consequently, this led to the malfunctioning of queries, as noted in the referenced issues.</p>\n<p dir=\"auto\">My proposed solution revolves around the incorporation of a new attribute \"type\" named <code class=\"notranslate\">BindAttribute</code>. This type facilitates the desired functionality within the <code class=\"notranslate\">proc_for_binds</code> implementation, while abstaining from unnecessary casting, given that the values are already casted. This correction has obviated the need for changes such as \"Fix deterministic queries that were broken after <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"782710170\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/41068\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/41068/hovercard\" href=\"https://github.com/rails/rails/pull/41068\">#41068</a>,\" as detailed in <a href=\"https://github.com/wbotelhos/rails/commit/37361bfb4222c5d210f11e48ecee46b05ea7d50e\">this commit</a>. These changes had inadvertently caused the tests initially intended for <code class=\"notranslate\">proc_for_binds</code> within <code class=\"notranslate\">HomogeneousIn</code> to erroneously evaluate the <code class=\"notranslate\">proc_for_binds</code> within <code class=\"notranslate\">InWithAdditionalValues</code>. This resulted in false positives whenever adjustments were made to the <code class=\"notranslate\">proc_for_binds</code> within <code class=\"notranslate\">HomogeneousIn</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49050",
            "title": "[Fix #48535]: fix behavior of `proc_for_binds` in `Arel::Nodes::HomogenousIn`",
            "date_modified": "2023-09-02T18:45:33.000Z",
            "date_published": "2023-08-27T14:57:07.000Z",
            "author": {
                "name": "JohnAnon9771",
                "url": "https://github.com/JohnAnon9771"
            }
        }
    ]
}