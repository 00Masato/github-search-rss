{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Add direct links to #get, #post, #parsed_body, and #open_session.</p>\n<p dir=\"auto\">Remove links to Session when already on the Session page.</p>",
            "url": "https://github.com/rails/rails/pull/48819",
            "title": "Add and remove some links in IntegrationTest docs [ci skip]",
            "date_modified": "2023-07-26T22:20:18.000Z",
            "date_published": "2023-07-26T22:20:13.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Ref <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1822315973\" data-permission-text=\"Title is private\" data-url=\"https://github.com/skipkayhil/rails/issues/5\" data-hovercard-type=\"issue\" data-hovercard-url=\"/skipkayhil/rails/issues/5/hovercard\" href=\"https://github.com/skipkayhil/rails/issues/5\">skipkayhil#5</a></p>\n<p dir=\"auto\">This adds additional test coverage to PermissionsPolicy::Middleware to validate that it conforms to the Rack SPEC.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The only changes necessary were to use the appropriate header casing for Content-Type and Feature-Policy. Since this was the only usage of the CONTENT_TYPE constant, I opted to remove it, but I can replace it with a DeprecatedConstantProxy if that's more desirable.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48818",
            "title": "Add Rack::Lint to PermissionsPolicy tests",
            "date_modified": "2023-07-26T17:38:27.000Z",
            "date_published": "2023-07-26T17:22:12.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5512772?u=bbae6d87b3499e6b3662664cf4be0e84cc40f6d2&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR fixes a bug introduced in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1812036086\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48761\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48761/hovercard\" href=\"https://github.com/rails/rails/pull/48761\">#48761</a> which leads to a <code class=\"notranslate\">NoMethodError</code> when a non Active Record object passed to <code class=\"notranslate\">include?</code> or <code class=\"notranslate\">member?</code> since only Active Record objects respond to <code class=\"notranslate\">composite_primary_key?</code>.</p>\n<h3 dir=\"auto\">Alternative solution</h3>\n<p dir=\"auto\">I decided to put the early <code class=\"notranslate\">return</code> at the top before even performing the <code class=\"notranslate\">loaded? || offset_value || limit_value || having_clause.any?</code> checks. I don't think this will impact performance in any noticeable way but if you have concerns feel free to speak up and we will move the check to the <code class=\"notranslate\">else</code> branch</p>",
            "url": "https://github.com/rails/rails/pull/48817",
            "title": "Return `false` early when a non-AR object passed to `FinderMethods#include?`",
            "date_modified": "2023-07-27T03:15:58.000Z",
            "date_published": "2023-07-26T17:05:32.000Z",
            "author": {
                "name": "nvasilevski",
                "url": "https://github.com/nvasilevski"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Ref <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1822315973\" data-permission-text=\"Title is private\" data-url=\"https://github.com/skipkayhil/rails/issues/5\" data-hovercard-type=\"issue\" data-hovercard-url=\"/skipkayhil/rails/issues/5/hovercard\" href=\"https://github.com/skipkayhil/rails/issues/5\">skipkayhil#5</a></p>\n<p dir=\"auto\">This adds additional test coverage to HostAuthorization to validate that its behavior conforms to the Rack SPEC.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">By using Rack:: constants for Content-Type and Content-Length, we are able to use the \"correct\" versions of the headers for applications using each Rack version.</p>\n<p dir=\"auto\">Additionally, two tests had to be updated that use an ipv6 address without brackets in the HOST header because Rack::Lint warned that these addresses were not valid HOST values. Rack::Lint checks HOST headers using <code class=\"notranslate\">URI.parse(\"http://#{HOST}/\")</code>, and from what I could find, this requirement follows RFC 3986 Section 3.2.2:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"host        = IP-literal / IPv4address / reg-name\nIP-literal = &quot;[&quot; ( IPv6address / IPvFuture  ) &quot;]&quot;\nIPvFuture  = &quot;v&quot; 1*HEXDIG &quot;.&quot; 1*( unreserved / sub-delims / &quot;:&quot; )\"><pre class=\"notranslate\"><code class=\"notranslate\">host        = IP-literal / IPv4address / reg-name\nIP-literal = \"[\" ( IPv6address / IPvFuture  ) \"]\"\nIPvFuture  = \"v\" 1*HEXDIG \".\" 1*( unreserved / sub-delims / \":\" )\n</code></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48814",
            "title": "Add Rack::Lint to HostAuthorization tests",
            "date_modified": "2023-07-26T14:14:30.000Z",
            "date_published": "2023-07-26T14:14:27.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Ref <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1822315973\" data-permission-text=\"Title is private\" data-url=\"https://github.com/skipkayhil/rails/issues/5\" data-hovercard-type=\"issue\" data-hovercard-url=\"/skipkayhil/rails/issues/5/hovercard\" href=\"https://github.com/skipkayhil/rails/issues/5\">skipkayhil#5</a></p>\n<p dir=\"auto\">This adds additional test coverage to ActionableExceptions to validate that its behavior conforms to the Rack SPEC.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The changes neccesary were to ensure that Response headers are downcased when using Rack 3. For Content-Type and Content-Length, this is trivial because Rack provides constants who's casing is dependent on the version (Rack 2 is mixed, and Rack 3 is downcased). Since Rack does not include a LOCATION constant, the Response::LOCATION constant was updated to have a downcased value when using Rack 3.</p>\n<p dir=\"auto\">Additionally, there was some missing coverage for invalid redirect URLs which was addressed as well.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48813",
            "title": "Add Rack::Lint to ActionableExceptions tests",
            "date_modified": "2023-07-26T14:15:24.000Z",
            "date_published": "2023-07-26T13:02:48.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1113178?u=8f52f76dba58e5f01ac0520f1a137edb52d33cbb&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">To ensure Rails is and remains compliant with <a href=\"https://github.com/rack/rack/blob/6d16306192349e665e4ec820a9bfcc0967009b6a/UPGRADE-GUIDE.md\">the Rack 3 spec</a> we can add <code class=\"notranslate\">Rack::Lint</code> to the Rails middleware tests.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This adds additional test coverage to<br>\n<code class=\"notranslate\">ContentSecurityPolicy::Middleware</code> to validate that its input and output follow the Rack SPEC.</p>\n<p dir=\"auto\">The only changes required were to the tests, even though the header keys defined by this middleware are not compliant with the Rack SPEC (<a href=\"https://github.com/rack/rack/blob/6d16306192349e665e4ec820a9bfcc0967009b6a/UPGRADE-GUIDE.md#response-headers-must-be-lower-case\">Response Headers must be lower case</a>).</p>\n<p dir=\"auto\"></p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/3a8b9baa51125567053869375147b69f31874c8f/actionpack/lib/action_dispatch/http/content_security_policy.rb#L28-L30\">rails/actionpack/lib/action_dispatch/http/content_security_policy.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 28 to 30\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/rails/rails/commit/3a8b9baa51125567053869375147b69f31874c8f\">3a8b9ba</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L28\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"28\"></td>\n          <td id=\"LC28\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c1\">CONTENT_TYPE</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">\"Content-Type\"</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L29\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"29\"></td>\n          <td id=\"LC29\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c1\">POLICY</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">\"Content-Security-Policy\"</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L30\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"30\"></td>\n          <td id=\"LC30\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c1\">POLICY_REPORT_ONLY</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s\">\"Content-Security-Policy-Report-Only\"</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n<p></p>\n<p dir=\"auto\">This is because the middleware sets these headers through the <code class=\"notranslate\">Rack::Headers</code> class, which handles the compatability between Rack v2 and v3.</p>\n<p dir=\"auto\">The tests are still valuable as it will ensure that the middleware remains Rack 3 compliant, if it stops using <code class=\"notranslate\">Rack::Headers</code>, or any other change that would cause it to become non-compliant.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1822315973\" data-permission-text=\"Title is private\" data-url=\"https://github.com/skipkayhil/rails/issues/5\" data-hovercard-type=\"issue\" data-hovercard-url=\"/skipkayhil/rails/issues/5/hovercard\" href=\"https://github.com/skipkayhil/rails/issues/5\">skipkayhil#5</a></li>\n</ul>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48812",
            "title": "Add Rack::Lint to ContentSecurityPolicy::Middleware tests",
            "date_modified": "2023-07-26T13:01:23.000Z",
            "date_published": "2023-07-26T13:01:19.000Z",
            "author": {
                "name": "nunosilva800",
                "url": "https://github.com/nunosilva800"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1113178?u=8f52f76dba58e5f01ac0520f1a137edb52d33cbb&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">To ensure Rails is and remains compliant with <a href=\"https://github.com/rack/rack/blob/6d16306192349e665e4ec820a9bfcc0967009b6a/UPGRADE-GUIDE.md\">the Rack 3 spec</a> we can add <code class=\"notranslate\">Rack::Lint</code> to the Rails middleware tests.</p>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1822315973\" data-permission-text=\"Title is private\" data-url=\"https://github.com/skipkayhil/rails/issues/5\" data-hovercard-type=\"issue\" data-hovercard-url=\"/skipkayhil/rails/issues/5/hovercard\" href=\"https://github.com/skipkayhil/rails/issues/5\">skipkayhil#5</a></li>\n</ul>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">There was no test file for ActionDispatch::AssumeSSL, so this change<br>\nadds one and validating that its input and output follow the Rack SPEC.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48811",
            "title": "Add Rack::Lint to AssumeSSL middleware tests",
            "date_modified": "2023-07-26T12:33:15.000Z",
            "date_published": "2023-07-26T11:12:14.000Z",
            "author": {
                "name": "nunosilva800",
                "url": "https://github.com/nunosilva800"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1113178?u=8f52f76dba58e5f01ac0520f1a137edb52d33cbb&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">To ensure Rails is and remains compliant with <a href=\"https://github.com/rack/rack/blob/6d16306192349e665e4ec820a9bfcc0967009b6a/UPGRADE-GUIDE.md\">the Rack 3 spec</a> we can add <code class=\"notranslate\">Rack::Lint</code> to the Rails middleware tests.</p>\n<p dir=\"auto\">This adds additional test coverage for ActionDispatch::Callbacks by validating that its input and output follow the Rack SPEC.</p>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1822315973\" data-permission-text=\"Title is private\" data-url=\"https://github.com/skipkayhil/rails/issues/5\" data-hovercard-type=\"issue\" data-hovercard-url=\"/skipkayhil/rails/issues/5/hovercard\" href=\"https://github.com/skipkayhil/rails/issues/5\">skipkayhil#5</a></li>\n</ul>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\"><code class=\"notranslate\">ActionDispatch::Callbacks</code> makes no changes to the input or output of the Rack app itself, so these tests are trivial.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">The <code class=\"notranslate\">\"rack.input\" =&gt; StringIO.new(\"\")</code> header value raised the following error:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Rack::Lint::LintError: rack.input #&lt;StringIO:0x00007fd7513fe550&gt; does not have ASCII-8BIT as its external encoding\"><pre class=\"notranslate\"><code class=\"notranslate\">Rack::Lint::LintError: rack.input #&lt;StringIO:0x00007fd7513fe550&gt; does not have ASCII-8BIT as its external encoding\n</code></pre></div>\n<p dir=\"auto\">Since this header is not required for the test, it is now removed.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48810",
            "title": "Add Rack::Lint to ActionDispatch::Callbacks tests",
            "date_modified": "2023-07-26T12:33:09.000Z",
            "date_published": "2023-07-26T09:00:08.000Z",
            "author": {
                "name": "nunosilva800",
                "url": "https://github.com/nunosilva800"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">For the <code class=\"notranslate\">7-0-stable</code> branch, this reverts the tests added in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1748309647\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48425\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48425/hovercard\" href=\"https://github.com/rails/rails/pull/48425\">#48425</a>, and the original breaking change from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1507204629\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46790\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/46790/hovercard\" href=\"https://github.com/rails/rails/pull/46790\">#46790</a>.</p>\n<p dir=\"auto\">While this breaks the behavior expected from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1498296167\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46737\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/46737/hovercard\" href=\"https://github.com/rails/rails/issues/46737\">#46737</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1606489873\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47554\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/47554/hovercard\" href=\"https://github.com/rails/rails/issues/47554\">#47554</a>, it restores the original behavior expected of <code class=\"notranslate\">create_record</code> on a singular association which has persisted for many years. Due to this change, reports came in about the uniqueness validation failing, such as <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1785808864\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48632\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48632/hovercard\" href=\"https://github.com/rails/rails/issues/48632\">#48632</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1730182935\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48330\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48330/hovercard\" href=\"https://github.com/rails/rails/issues/48330\">#48330</a>, as well as breaking many tests in one of the applications at work.</p>\n<p dir=\"auto\">This lead to attempts to circumvent this breaking change like <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1787232963\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48643\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48643/hovercard\" href=\"https://github.com/rails/rails/pull/48643\">#48643</a>, and others to try and prevent the support of the original behavior by raising in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1792862016\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48683\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48683/hovercard\" href=\"https://github.com/rails/rails/pull/48683\">#48683</a>.</p>\n<p dir=\"auto\">These are hard problems to solve, and after discussing with <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewd/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewd\">@matthewd</a>, the best path forward is to revert and start from scratch. Then we can discuss future changes to this behavior over new PRs.</p>\n<hr>\n<p dir=\"auto\">There is an equivalent PR for <code class=\"notranslate\">main</code> at <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1821669498\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48808\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48808/hovercard\" href=\"https://github.com/rails/rails/pull/48808\">#48808</a></p>\n<p dir=\"auto\">/cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/byroot/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/byroot\">@byroot</a></p>",
            "url": "https://github.com/rails/rails/pull/48809",
            "title": "[7-0-stable] Revert singular association breaking changes",
            "date_modified": "2023-07-26T22:27:50.000Z",
            "date_published": "2023-07-26T06:22:30.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Pumping the breaks on the recent changes to singular create associations.</p>\n<p dir=\"auto\">This reverts the tests added in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1745303016\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48416\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48416/hovercard\" href=\"https://github.com/rails/rails/pull/48416\">#48416</a> (which added back the behavior from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1507204629\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46790\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/46790/hovercard\" href=\"https://github.com/rails/rails/pull/46790\">#46790</a>), and the original breaking change from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1428636877\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46386\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/46386/hovercard\" href=\"https://github.com/rails/rails/pull/46386\">#46386</a>.</p>\n<p dir=\"auto\">While this breaks the behavior expected from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1498296167\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46737\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/46737/hovercard\" href=\"https://github.com/rails/rails/issues/46737\">#46737</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1606489873\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47554\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/47554/hovercard\" href=\"https://github.com/rails/rails/issues/47554\">#47554</a>, it restores the original behavior expected of <code class=\"notranslate\">create_record</code> on a singular association which has persisted for many years. Due to this change, reports came in about the uniqueness validation failing, such as <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1785808864\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48632\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48632/hovercard\" href=\"https://github.com/rails/rails/issues/48632\">#48632</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1730182935\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48330\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/48330/hovercard\" href=\"https://github.com/rails/rails/issues/48330\">#48330</a>, as well as breaking many tests in one of the applications at work.</p>\n<p dir=\"auto\">This lead to attempts to circumvent this breaking change like <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1787232963\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48643\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48643/hovercard\" href=\"https://github.com/rails/rails/pull/48643\">#48643</a>, and others to try and prevent the support of the original behavior by raising in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1792862016\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48683\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48683/hovercard\" href=\"https://github.com/rails/rails/pull/48683\">#48683</a>.</p>\n<p dir=\"auto\">These are hard problems to solve, and after discussing with <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewd/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewd\">@matthewd</a>, the best path forward is to revert and start from scratch. Then we can discuss future changes to this behavior over new PRs.</p>\n<hr>\n<p dir=\"auto\">There is an equivalent PR for <code class=\"notranslate\">7-0-stable</code> at <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1821669532\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48809\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48809/hovercard\" href=\"https://github.com/rails/rails/pull/48809\">#48809</a></p>\n<p dir=\"auto\">/cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/byroot/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/byroot\">@byroot</a></p>",
            "url": "https://github.com/rails/rails/pull/48808",
            "title": "Revert singular association breaking changes",
            "date_modified": "2023-07-26T09:05:25.000Z",
            "date_published": "2023-07-26T06:22:28.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/99586?u=b4abd791d83e768c72cb832147b4a210caecf47d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">The new syntax allows you to filter tests by line ranges. For example, the following command runs tests from line 10 to 20.</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ rails test test/models/user_test.rb:10-20\"><pre class=\"notranslate\">$ rails <span class=\"pl-c1\">test</span> test/models/user_test.rb:10-20</pre></div>",
            "url": "https://github.com/rails/rails/pull/48807",
            "title": "Support filtering tests by line ranges",
            "date_modified": "2023-07-26T06:00:16.000Z",
            "date_published": "2023-07-26T05:57:52.000Z",
            "author": {
                "name": "shouichi",
                "url": "https://github.com/shouichi"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22231095?u=fc75f9764434943effe06d6c1dc48d40a5003b0c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This PR includes grammatical changes and added some missing punctuation to the active record multiple database guide.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48806",
            "title": "Added some grammatical changes and missing punctuations",
            "date_modified": "2023-07-26T05:25:24.000Z",
            "date_published": "2023-07-26T05:09:20.000Z",
            "author": {
                "name": "akhilgkrishnan",
                "url": "https://github.com/akhilgkrishnan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Ref <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1822315973\" data-permission-text=\"Title is private\" data-url=\"https://github.com/skipkayhil/rails/issues/5\" data-hovercard-type=\"issue\" data-hovercard-url=\"/skipkayhil/rails/issues/5/hovercard\" href=\"https://github.com/skipkayhil/rails/issues/5\">skipkayhil#5</a></p>\n<p dir=\"auto\">This adds additional test coverage to RequestId to validate that its input and output follow the Rack SPEC.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">In this case, the only changes necessary were to the Request tests. This is due to the fact that the Request and Response tests use different classes for their Response headers. The Response tests simulate a Rails app, where the Response headers will be a Rack::Headers object for compatbility with both Rack 2 and 3. However, since the Request tests are only using the Hash returned by the test app, the tests must use a downcased header to support both Rack 2 and Rack 3.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">In the future when Rack::Headers is eventually removed, <code class=\"notranslate\">config.action_dispatch.request_id_header</code> will need to be changed from \"X-Request-Id\" to \"x-request-id\".</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48805",
            "title": "Add Rack::Lint to RequestId tests",
            "date_modified": "2023-07-26T12:35:11.000Z",
            "date_published": "2023-07-26T04:48:26.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/277819?u=f88292414deeecfd67fee18ae9d7297bcc001138&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This address the bug identified in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1561049658\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47171\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/47171/hovercard\" href=\"https://github.com/rails/rails/issues/47171\">#47171</a>, which is occurs when an autosave is triggered in a before_create, resulting in a the create callbacks occurring twice. The second time on a record that was already persisted, but since there are no attributes changed (it's a clean record), the new record receives the default values.</p>\n<p dir=\"auto\">Now when an autosave occurs in a before_create, we run the update callbacks as well as any create callbacks to avoid confusing situation.</p>\n<h3 dir=\"auto\">Alternatives Considered</h3>\n<h4 dir=\"auto\">1) Call an aliased method <code class=\"notranslate\">_update_record_without_callbacks</code> and return</h4>\n<p dir=\"auto\">This would avoid creating the duplicate record, but may surprise the developer if any <code class=\"notranslate\">after_*</code> callbacks they were expecting didn't occur.</p>\n<p dir=\"auto\">We wanted to retain that same guarantee.</p>\n<h4 dir=\"auto\">2) Raise if the record is already persisted</h4>\n<p dir=\"auto\">The previous behavior of creating multiple records may have simply gone unnoticed to users, and raising would be a breaking change.</p>\n<p dir=\"auto\">We could roll out that behavior behind a flag and deprecation warning, but we wanted to try and solve for this edge-case.</p>\n<h4 dir=\"auto\">3) Return if record is already persisted and no dirty changes</h4>\n<p dir=\"auto\">Similar to the second option, silently allowing this behavior to change could have unexpected consequences.</p>\n<p dir=\"auto\">The interesting thing was also non of the Active Record tests failed if we just stopped the callback chain there.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #47171.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1561049658\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/47171\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/47171/hovercard\" href=\"https://github.com/rails/rails/issues/47171\">#47171</a></p>",
            "url": "https://github.com/rails/rails/pull/48804",
            "title": "Change lanes to update callbacks when an autosaved record already exists",
            "date_modified": "2023-07-26T04:24:53.000Z",
            "date_published": "2023-07-26T04:05:40.000Z",
            "author": {
                "name": "zzak",
                "url": "https://github.com/zzak"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2661?u=7639a5a525578b2a1cb4231a04e720645eeec96b&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h4 dir=\"auto\">Motivation</h4>\n<p dir=\"auto\">I was bitten by a subtle bug where code was depending on the order of records being returned by <code class=\"notranslate\">.find</code>, however turns out <code class=\"notranslate\">reorder(\"\")</code> does not actually clear the order scope, which meant that the order of results was not the order of the ids being passed in.</p>\n<p dir=\"auto\">This change makes it clearer what is required to have records be returned in order.</p>",
            "url": "https://github.com/rails/rails/pull/48799",
            "title": "Clarify on how to return records in order of ids in ActiveRecord",
            "date_modified": "2023-07-25T07:11:35.000Z",
            "date_published": "2023-07-25T07:01:29.000Z",
            "author": {
                "name": "chendo",
                "url": "https://github.com/chendo"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/19192189?u=dd60737844a9db7f1475bab21fc3e5258a405e15&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Followup: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1807536420\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/48743\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/48743/hovercard\" href=\"https://github.com/rails/rails/pull/48743\">#48743</a></p>\n<p dir=\"auto\">After careful consideration, unless users have a schema cache dump loaded and <code class=\"notranslate\">check_schema_cache_dump_version = false</code>, we have no choice but to arbitrate between resiliency and performance.</p>\n<p dir=\"auto\">If we define attribute methods during boot, we allow them to be shared between forked workers, and prevent the first requests to be slower.</p>\n<p dir=\"auto\">However, by doing so we'd trigger a connection to the datase, which if it's unresponsive could lead to workers not being able to restart triggering a cascading failure.</p>\n<p dir=\"auto\">Previously Rails used to be in some sort of middle-ground where it would define attribute methods during boot if for some reason it was already connected to the database at this point.</p>\n<p dir=\"auto\">But this is now deemed undesirable, as an application initializer inadvertantly establishing the database connection woudl lead to a readically different behavior.</p>\n<p dir=\"auto\">FYI: <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/zarqman/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/zarqman\">@zarqman</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/matthewd/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/matthewd\">@matthewd</a></p>",
            "url": "https://github.com/rails/rails/pull/48793",
            "title": "Never connect to the database in define_attribute_methods initializer",
            "date_modified": "2023-07-24T14:38:03.000Z",
            "date_published": "2023-07-24T13:31:16.000Z",
            "author": {
                "name": "casperisfine",
                "url": "https://github.com/casperisfine"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/22231095?u=fc75f9764434943effe06d6c1dc48d40a5003b0c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\"><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1501582214\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46762\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/46762/hovercard\" href=\"https://github.com/rails/rails/pull/46762\">#46762</a> Added the default Dockerfiles for new rails applications. These files can be skipped via the <code class=\"notranslate\">--skip-docker</code> argument.<br>\nRight now we only have a test for <code class=\"notranslate\">--skip-docker</code>. So this PR introduces tests for the <code class=\"notranslate\">--no-skip-docker</code> command line argument.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48792",
            "title": "Added test for --no-skip-docker command line argument",
            "date_modified": "2023-07-27T05:23:27.000Z",
            "date_published": "2023-07-24T10:07:34.000Z",
            "author": {
                "name": "akhilgkrishnan",
                "url": "https://github.com/akhilgkrishnan"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1866809?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">In <a class=\"commit-link\" href=\"https://github.com/rails/rails/commit/af2129b4c74732c88ffce76e5c55c805cb9431f6#diff-b39ef19c83412a9c4f132238a266be37e0bc7ed6f1e9d3fc4f98684ba3f6dabc\"><tt>af2129b</tt>#diff-b39ef19c83412a9c4f132238a266be37e0bc7ed6f1e9d3fc4f98684ba3f6dabc</a> the try calls were improperly replaced by &amp;.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">The driver path can be a string (a filesystem path), here is an example from selenium specs: <a href=\"https://github.com/SeleniumHQ/selenium/blob/1d459cd52850d3d5189c3003a9dfa2b53b98cacd/rb/lib/selenium/webdriver/safari.rb#L36\">https://github.com/SeleniumHQ/selenium/blob/1d459cd52850d3d5189c3003a9dfa2b53b98cacd/rb/lib/selenium/webdriver/safari.rb#L36</a></p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">I'm not sure about the test as it is kind of hackish</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48788",
            "title": "Fix: Do not execute selenium driver_path if it is a string.",
            "date_modified": "2023-07-26T14:23:53.000Z",
            "date_published": "2023-07-22T16:22:49.000Z",
            "author": {
                "name": "ylecuyer",
                "url": "https://github.com/ylecuyer"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2439912?u=e0efe799964725edf81f64af072ae8a14991cee4&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Strict loading in <code class=\"notranslate\">:n_plus_one_only</code> mode is designed to prevent performance issues when deeply traversing associations. It allows <code class=\"notranslate\">Person.find(1).posts</code>, but <em>not</em> <code class=\"notranslate\">Person.find(1).posts.map(&amp;:category)</code>. This fix avoids the surprise that occurs when <code class=\"notranslate\">person.posts.first</code> eagerly loads the whole association rather than allowing the user to manage the child association.</p>\n<p dir=\"auto\">This fixes a serious correctness issue as well. Without strict loading, <code class=\"notranslate\">person.posts.first</code> is guaranteed to return the first post in primary key order. On the other hand, <code class=\"notranslate\">person.posts.load.first</code> is nondeterministic. The database is not guaranteed to return in a consistent order, in particular under load with other operations occurring. This is a rude surprise when trying to use <code class=\"notranslate\">:n_plus_one_only</code> mode.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Before:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"person = Person.find(1)\nperson.strict_loading!(mode: :n_plus_one_only)\nperson.posts.first\n# SELECT * FROM posts WHERE person_id = 1;\"><pre class=\"notranslate\"><span class=\"pl-s1\">person</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">strict_loading!</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">mode</span>: <span class=\"pl-pds\">:n_plus_one_only</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">posts</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">first</span>\n<span class=\"pl-c\"># SELECT * FROM posts WHERE person_id = 1;</span></pre></div>\n<p dir=\"auto\">After:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"person = Person.find(1)\nperson.strict_loading!(mode: :n_plus_one_only)\nperson.posts.first # this is 1+1, not N+1\n# SELECT * FROM posts WHERE person_id = 1 ORDER BY id LIMIT 1;\"><pre class=\"notranslate\"><span class=\"pl-s1\">person</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">find</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">strict_loading!</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">mode</span>: <span class=\"pl-pds\">:n_plus_one_only</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-s1\">person</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">posts</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">first</span> <span class=\"pl-c\"># this is 1+1, not N+1</span>\n<span class=\"pl-c\"># SELECT * FROM posts WHERE person_id = 1 ORDER BY id LIMIT 1;</span></pre></div>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48785",
            "title": "Strict loading using `:n_plus_one_only` does not eagerly load child associations",
            "date_modified": "2023-07-22T16:32:30.000Z",
            "date_published": "2023-07-21T21:44:39.000Z",
            "author": {
                "name": "reid-rigo",
                "url": "https://github.com/reid-rigo"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/111346?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation</h3>\n<p dir=\"auto\">The SMTP envelope recipient usually reflects the <code class=\"notranslate\">To</code>, <code class=\"notranslate\">Cc</code> and <code class=\"notranslate\">Bcc</code> email headers. The mailer preview only shows SMTP the envelope recipient (SMTP-To) if it differs from <code class=\"notranslate\">To</code>, but it does not take Cc and Bcc into account.</p>\n<p dir=\"auto\">Screenshot:<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/111346/255164062-5ea59067-4c5c-480e-b550-e22ecfdc306c.png\"><img src=\"https://user-images.githubusercontent.com/111346/255164062-5ea59067-4c5c-480e-b550-e22ecfdc306c.png\" alt=\"image\" style=\"max-width: 100%;\"></a></p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request extends the check for SMTP-To to cover also <code class=\"notranslate\">Cc</code> and <code class=\"notranslate\">Bcc</code>, so it is only displayed in the rare event that the envelope recipient has been manually overriden.</p>\n<p dir=\"auto\">Also, show the list of email addresses without array brackets and quotes.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/48782",
            "title": "Only show SMTP envelope recipient when relevant",
            "date_modified": "2023-07-25T11:18:47.000Z",
            "date_published": "2023-07-21T17:03:49.000Z",
            "author": {
                "name": "c960657",
                "url": "https://github.com/c960657"
            }
        }
    ]
}