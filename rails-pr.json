{
    "version": "https://jsonfeed.org/version/1",
    "title": "rails/rails pr",
    "home_page_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "feed_url": "https://00masato.github.io/github-search-rss/rails-pr.json",
    "description": "rails/rails pr on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/47848?u=41ccf0d1865a17f47d140f73a3293f1f3559fc0f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">It is not removing all the shards connections when we call it.</p>\n<p dir=\"auto\">It is because the first time we call it we are resetting the <code class=\"notranslate\">connection_specification_name</code> so the next call doesn't find the right connection pool.</p>",
            "url": "https://github.com/rails/rails/pull/49382",
            "title": "Add failing test for remove_connection",
            "date_modified": "2023-09-26T01:45:29.000Z",
            "date_published": "2023-09-26T00:16:29.000Z",
            "author": {
                "name": "rafaelfranca",
                "url": "https://github.com/rafaelfranca"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/19192189?u=dd60737844a9db7f1475bab21fc3e5258a405e15&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Ideally we should be able to checkout an Adapter instance without triggering a connection to the server.</p>\n<p dir=\"auto\">For some adapters like Trilogy that is the case today, but only if you have a schema cache loaded, otherwise <code class=\"notranslate\">check_version</code> will trigger a query.</p>\n<p dir=\"auto\">I think this check can be delayed to when we actually use the connection.</p>",
            "url": "https://github.com/rails/rails/pull/49378",
            "title": "Delay Adapter#check_version to #configure_connection",
            "date_modified": "2023-09-25T16:24:55.000Z",
            "date_published": "2023-09-25T13:47:30.000Z",
            "author": {
                "name": "casperisfine",
                "url": "https://github.com/casperisfine"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Follow-up to <a href=\"https://github.com/rails/rails/pull/49371\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/49371/hovercard\">#49371</a></p>\n<p dir=\"auto\">In the wake of the deprecation of <code class=\"notranslate\">tag(:div)</code> in favor of <code class=\"notranslate\">tag.div</code>, this commit replaces all calls made internally with the more modern syntax.</p>\n<p dir=\"auto\">This change is separate from the deprecation cycle, since there are <strong>slight</strong> behavioral changes, since the HTML output changes from self-closing elements like <code class=\"notranslate\">&lt;input /&gt;</code> to open void elements like <code class=\"notranslate\">&lt;input&gt;</code>.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49377",
            "title": "Action View: Remove internal calls to `tag` with positional arguments",
            "date_modified": "2023-09-26T02:15:47.000Z",
            "date_published": "2023-09-25T13:10:59.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5077225?u=e9f968c9eb790ee7734442f6b7998155400ad1d8&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">SQLite is a feature-rich database engine, and production usage is only growing. We need Rails' support to offer developers the range and scope of its features.</p>\n<p dir=\"auto\">The PostgreSQL adapter supports deferred foreign keys, and SQLite itself has support <a href=\"https://www.sqlite.org/foreignkeys.html#fk_deferred\" rel=\"nofollow\">deferred foreign keys</a> <a href=\"https://www.sqlite.org/releaselog/3_7_6.html\" rel=\"nofollow\">since at least 2011</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">Implementing the full <code class=\"notranslate\">supports_deferrable_constraints?</code> contract allows foreign keys to be deferred by adding the <code class=\"notranslate\">:deferrable</code> key to the <code class=\"notranslate\">foreign_key</code> options in the <code class=\"notranslate\">add_reference</code> and <code class=\"notranslate\">add_foreign_key</code> methods.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"add_reference :person, :alias, foreign_key: { deferrable: :deferred }\nadd_reference :alias, :person, foreign_key: { deferrable: :deferred }\"><pre class=\"notranslate\"><span class=\"pl-en\">add_reference</span> <span class=\"pl-pds\">:person</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:alias</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">foreign_key</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">deferrable</span>: <span class=\"pl-pds\">:deferred</span> <span class=\"pl-kos\">}</span>\n<span class=\"pl-en\">add_reference</span> <span class=\"pl-pds\">:alias</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:person</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">foreign_key</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">deferrable</span>: <span class=\"pl-pds\">:deferred</span> <span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">In this PR, I am adding full support for the SQLite3Adapter by implementing:</p>\n<p dir=\"auto\"><code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3::SchemaCreation#visit_AddForeignKey</code><br>\n<code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3::SchemaCreation#visit_ForeignKeyDefinition</code><br>\n<code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3Adapter#supports_deferrable_constraints?</code><br>\n<code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3::SchemaStatements#assert_valid_deferrable</code></p>\n<p dir=\"auto\">and altering:</p>\n<p dir=\"auto\"><code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3::SchemaStatements#add_foreign_key</code><br>\n<code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3Adapter#foreign_keys</code></p>\n<h3 dir=\"auto\">Additional Info</h3>\n<p dir=\"auto\">In order to get the <code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3Adapter#foreign_keys</code> method working properly, I had to add a query to get the <code class=\"notranslate\">CREATE TABLE</code> sql and parse which foreign key constraints are deferrable and which of those are deferred. In order to support this use-case, I extracted a <code class=\"notranslate\">table_structure_sql</code> method which now <code class=\"notranslate\">table_structure_with_collation</code> relies on.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49376",
            "title": "The SQLite3 adapter now implements the `supports_deferrable_constraints?` contract",
            "date_modified": "2023-09-26T03:45:19.000Z",
            "date_published": "2023-09-25T08:41:00.000Z",
            "author": {
                "name": "fractaledmind",
                "url": "https://github.com/fractaledmind"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/13130705?u=c91ddc42cdbe8620020f2935052801734da051cf&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Thanks to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"241752753\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/29742\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/29742/hovercard\" href=\"https://github.com/rails/rails/pull/29742\">#29742</a>, newly created Rails apps after Rails 5.2 don't have to deep dive into CSRF problems, and they don't require direct call of <code class=\"notranslate\">protect_from_forgery</code>. However, some projects sill have to consider the case where <code class=\"notranslate\">protect_from_forgery</code> should be called.</p>\n<p dir=\"auto\">Calling <code class=\"notranslate\">protect_from_forgery</code> without <code class=\"notranslate\">:with</code> option treats <code class=\"notranslate\">:with</code> as <code class=\"notranslate\">:null_session</code> by default, not <code class=\"notranslate\">:exception</code>, so I was a bit confused by the inconsistency between <code class=\"notranslate\">default_protect_from_forgery</code> and <code class=\"notranslate\">protect_from_forgery</code>. Maybe, changing the default <code class=\"notranslate\">:with</code> to <code class=\"notranslate\">:exception</code> will bring significant breaking changes, so I want to suggest adding a notice to the method.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li><del>[ ] Tests are added or updated if you fix a bug or add a feature.</del></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49374",
            "title": "Add notice to documentation for protect_from_forgery's :with option",
            "date_modified": "2023-09-25T23:56:00.000Z",
            "date_published": "2023-09-25T06:50:11.000Z",
            "author": {
                "name": "yykamei",
                "url": "https://github.com/yykamei"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h2 dir=\"auto\">The bulk of this diff is related to indentation changes, so it's best reviewed <a href=\"https://github.com/rails/rails/pull/49371/files?w=1\">ignoring spacing changes</a></h2>\n<h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Modern evolutions of the <code class=\"notranslate\">ActionView::Helpers::TagHelper#tag</code> method are intended to be called <em>on</em> the <code class=\"notranslate\">TagBuilder</code> instance itself instead of with positional arguments.</p>\n<p dir=\"auto\">For example, <code class=\"notranslate\">tag(\"div\")</code> would be called with <code class=\"notranslate\">tag.div</code>.</p>\n<p dir=\"auto\">According to the <a href=\"https://api.rubyonrails.org/classes/ActionView/Helpers/TagHelper.html#method-i-tag-label-Legacy+syntax\" rel=\"nofollow\">Legacy Syntax</a> heading of the <a href=\"https://api.rubyonrails.org/classes/ActionView/Helpers/TagHelper.html#method-i-tag\" rel=\"nofollow\">ActionView::Helpers::TagHelper#tag</a> guides:</p>\n<blockquote>\n<p dir=\"auto\">The following format is for legacy syntax support. It will be deprecated in future versions of Rails.</p>\n</blockquote>\n<p dir=\"auto\">Since deprecations must occur during releases, this commit proposes that 7.2 be the release to start the deprecation process so that a subsequent release can remove \"Legacy syntax\" support entirely.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit adds a deprecation warning to encourage callers to invoke the helper in the more modern style.</p>\n<p dir=\"auto\">Internally, Rails utilizes the positional argument syntax in several places. Since deprecations must be part of minor version releases, this commit wraps the internal invocations in <code class=\"notranslate\">ActionView.deprecator.silence</code> blocks so that they can remain while the deprecation is made public. This compromise buys the framework time to re-structure those invocations to be compatible with the more modern syntax before the next major release.</p>\n<p dir=\"auto\">There are several calls to <code class=\"notranslate\">tag</code> with positional arguments in the test suite. This commit wraps those as well. In the future, some of those tests will be able to remove those blocks, while other tests will be able to be removed entirely once that style of invocation is no longer supported.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49371",
            "title": "Deprecate `tag` with positional arguments",
            "date_modified": "2023-09-25T20:29:14.000Z",
            "date_published": "2023-09-25T00:50:17.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/509837?u=697e4a265d5359363a5d57a24b07f9a79cb0b08a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #49363.\">Fixes</span>: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1909999602\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49363\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49363/hovercard\" href=\"https://github.com/rails/rails/issues/49363\">#49363</a></p>\n<p dir=\"auto\">Mentions <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1482807682\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46664\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/46664/hovercard\" href=\"https://github.com/rails/rails/pull/46664\">#46664</a> in the upgrade guide.</p>",
            "url": "https://github.com/rails/rails/pull/49370",
            "title": "Upgrade guide: mention `test:prepare` enhnacements",
            "date_modified": "2023-09-25T00:05:53.000Z",
            "date_published": "2023-09-25T00:05:19.000Z",
            "author": {
                "name": "ghiculescu",
                "url": "https://github.com/ghiculescu"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The <code class=\"notranslate\">TagBuilder</code> instance returned by the<br>\n<a href=\"https://api.rubyonrails.org/classes/ActionView/Helpers/TagHelper.html#method-i-tag\" rel=\"nofollow\">ActionView::Helpers::TagHelper#tag</a> method has the ability to build various HTML elements through its reliance on <code class=\"notranslate\">method_missing</code>. The magic of that instance hinges on the fact that it has a <strong>minimal</strong> public interface, and transforms missing methods names into HTML elements. For example, calling <code class=\"notranslate\">tag.div</code> invokes a missing <code class=\"notranslate\">#div</code> method, which renders a <code class=\"notranslate\">&lt;div&gt;</code> element.</p>\n<p dir=\"auto\">There are two exceptional cases:</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">tag.p</code> is defined, since the existing <a href=\"https://ruby-doc.org/3.2.2/Kernel.html#method-i-p\" rel=\"nofollow\">Kernel#p</a> definition would prevent the underlying <code class=\"notranslate\">#method_missing</code> invocation</li>\n<li><code class=\"notranslate\">tag.attributes</code> is a defined method to transform <code class=\"notranslate\">Hash</code> instances and keyword arguments in HTML attribute strings</li>\n</ul>\n<p dir=\"auto\">In addition to those two <em>intentional</em> exceptions, there are also several methods that are incidentally part of the public interface:</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">#tag_string</code></li>\n<li><code class=\"notranslate\">#content_tag_string</code></li>\n<li><code class=\"notranslate\">#tag_options</code></li>\n<li><code class=\"notranslate\">#boolean_tag_option</code></li>\n<li><code class=\"notranslate\">#tag_option</code></li>\n</ul>\n<p dir=\"auto\">Along with those methods, the class also includes <a href=\"https://api.rubyonrails.org/classes/ActionView/Helpers/OutputSafetyHelper.html\" rel=\"nofollow\">OutputSafetyHelper</a> and <a href=\"https://api.rubyonrails.org/classes/ActionView/Helpers/CaptureHelper.html\" rel=\"nofollow\">CaptureHelper</a>, which expand surface area of the class's public interface even further.</p>\n<p dir=\"auto\">While it's unlikely that these methods would collide with method invocations intended to construct HTML elements, they still impact that design of the object.</p>\n<p dir=\"auto\">The \"public\" nature of the <code class=\"notranslate\">TagBuilder</code> interface has some subtle nuances. While it <strong>is</strong> marked with <code class=\"notranslate\">:nodoc:</code>, instances are returned by a public <code class=\"notranslate\">tag</code> method, despite it being considered a private class only meant for internal consumption.</p>\n<p dir=\"auto\">That same is true for the incidentally public methods mentioned above: no consuming applications should be invoking <code class=\"notranslate\">#tag_string</code> or <code class=\"notranslate\">#tag_options</code>. While that's true, those methods <em>are</em> being invoked <strong>directly</strong> by other Action View classes.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit removes those invocations, and instead replaces them with public method calls.</p>\n<p dir=\"auto\">In cases where the tag name is statically know ahead of time, they're replaced with calls to that method (for example, <code class=\"notranslate\">tag(:option)</code> becomes <code class=\"notranslate\">tag.option</code>). When they're dynamic, they're replaced by calls to <a href=\"https://ruby-doc.org/3.2.2/Object.html#method-i-public_send\" rel=\"nofollow\">public_send</a> (for example, <code class=\"notranslate\">tag(name)</code> becomes<br>\n<code class=\"notranslate\">tag.public_send(name)</code>).</p>\n<p dir=\"auto\">The majority of these changes are painless, with one exception. Some calls to the <code class=\"notranslate\">#tag</code> helper also pass an <code class=\"notranslate\">open</code> positional argument that isn't part of the <code class=\"notranslate\">TagBuilder</code> class's public interface. As a result, that becomes slightly more complicated, and requires some String mutation to continue to pass the test suite.</p>\n<p dir=\"auto\">This commit also removes the <code class=\"notranslate\">OutputSafetyHelper</code> and <code class=\"notranslate\">CaptureHelper</code> modules from the class, and delegates to the methods it depended on to j<code class=\"notranslate\">@view_context</code>.</p>\n<p dir=\"auto\">Hopefully, calls to <code class=\"notranslate\">#tag</code> with positional arguments are less and less common, since the documentation describes it as a <a href=\"https://api.rubyonrails.org/classes/ActionView/Helpers/TagHelper.html#method-i-tag-label-Legacy+syntax\" rel=\"nofollow\">Legacy Syntax</a> marked for deprecation in future versions of Rails.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49369",
            "title": "Action View: Reduce public API of `tag` helper",
            "date_modified": "2023-09-26T02:32:21.000Z",
            "date_published": "2023-09-24T21:36:45.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/2575027?u=e7a9fe052c03fa59da09e064fdfacf2b1f627c2f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Since the <code class=\"notranslate\">ActionView::Helpers::TagBuilder</code> class is marked with <code class=\"notranslate\">:nodoc:</code>, the <code class=\"notranslate\">tag.attributes</code> method isn't directly discoverable by the <a href=\"https://api.rubyonrails.org\" rel=\"nofollow\">API Documentation</a>, despite it being mentioned under the <a href=\"https://api.rubyonrails.org/classes/ActionView/Helpers/TagHelper.html#method-i-tag-label-Building+HTML+attributes\" rel=\"nofollow\">Building HTML Attributes</a> subheading of the <a href=\"https://api.rubyonrails.org/classes/ActionView/Helpers/TagHelper.html#method-i-tag\" rel=\"nofollow\">tag</a> helper method documentation.</p>\n<p dir=\"auto\">Similarly, methods like <code class=\"notranslate\">tag.div</code> and <code class=\"notranslate\">tag.h1</code> are also not discoverable, since they're dependent on method missing.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit adds RubyDoc comments for <code class=\"notranslate\">tag.attributes</code> and <code class=\"notranslate\">tag.*</code> to provide hooks for the <a href=\"https://api.rubyonrails.org\" rel=\"nofollow\">API Documentation</a> to serve search results.</p>\n<p dir=\"auto\">The contents of the new comments is lifted directly from the longer-form <a href=\"https://api.rubyonrails.org/classes/ActionView/Helpers/TagHelper.html#method-i-tag\" rel=\"nofollow\">tag</a> helper method comment block.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49368",
            "title": "Action View: Document `tag.attributes` and `tag.$ELEMENT` [ci skip]",
            "date_modified": "2023-09-26T03:13:01.000Z",
            "date_published": "2023-09-24T21:19:34.000Z",
            "author": {
                "name": "seanpdoyle",
                "url": "https://github.com/seanpdoyle"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/25947043?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">The <code class=\"notranslate\">actioncable-examples</code> repo referenced in the guide is no longer maintained: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1796796167\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/actioncable-examples/issues/46\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/actioncable-examples/pull/46/hovercard?comment_id=1647505744&amp;comment_type=issue_comment\" href=\"https://github.com/rails/actioncable-examples/pull/46#issuecomment-1647505744\">rails/actioncable-examples#46 (comment)</a>. We should remove it from the guide.</p>\n<p dir=\"auto\">I also took the opportunity to update the guide with new sections on importing JavaScript channel files, <code class=\"notranslate\">bin/rails generate channel</code>, and stopping streams.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the following:</p>\n<ul dir=\"auto\">\n<li>Remove unmaintained <code class=\"notranslate\">actioncable-examples</code> reference. For more info: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1796796167\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/actioncable-examples/issues/46\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/actioncable-examples/pull/46/hovercard?comment_id=1647505744&amp;comment_type=issue_comment\" href=\"https://github.com/rails/actioncable-examples/pull/46#issuecomment-1647505744\">rails/actioncable-examples#46 (comment)</a></li>\n<li>Add <code class=\"notranslate\">disconnect</code> and <code class=\"notranslate\">unsubscribed</code> methods to the example connection and channel files.</li>\n<li>Add reference for <code class=\"notranslate\">bin/rails generate channel</code></li>\n<li>Add guide on importing JavaScript channel files with import maps.</li>\n<li>Add section on stopping streams</li>\n</ul>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">The new sections are easily found in the API documentation. That said, I still think it's valuable to add them to the guide for new developers.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49365",
            "title": "Update Action Cable Overview guide",
            "date_modified": "2023-09-24T23:32:01.000Z",
            "date_published": "2023-09-24T04:07:09.000Z",
            "author": {
                "name": "julianfssen",
                "url": "https://github.com/julianfssen"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4289625?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because the new config entry for <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1441155267\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/46453\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/46453/hovercard\" href=\"https://github.com/rails/rails/pull/46453\">#46453</a> is missing in configuring.md guide.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request adds <code class=\"notranslate\">config.active_record.encryption.add_to_filter_parameters</code> to configuring.md.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49364",
            "title": "[Docs]Add missing entry for encryption.add_to_filter_paramters",
            "date_modified": "2023-09-24T02:19:09.000Z",
            "date_published": "2023-09-24T01:08:39.000Z",
            "author": {
                "name": "hachi8833",
                "url": "https://github.com/hachi8833"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/6014046?u=3972bfb97451f7f90e051df2e49fb7b8ee83e28d&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Previously, new apps would have a Ruby version set in both the Gemfile and the .ruby-version file. This duplication makes it more difficult to quickly change an application's ruby version as users must remember to update multiple files.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This commit updates the app generator's Gemfile to read the Ruby version from the .ruby-version file. Since this feature was introduced in the latest version of Bundler, it will only be enabled if a supported version of Bundler is used.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">Alternatively, another solution mentioned on the original PR adding .ruby-version was that the .ruby-version file could be removed once rvm/rbenv support reading the Ruby version from the Gemfile. This has a downside that many other tools like chruby do not have plans to support reading a Ruby version from the Gemfile, and so users of those tools would have a worse experience if the .ruby-version file is removed.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49360",
            "title": "Use `ruby file: \".ruby-version\"` for new apps",
            "date_modified": "2023-09-24T07:34:16.000Z",
            "date_published": "2023-09-23T20:06:37.000Z",
            "author": {
                "name": "skipkayhil",
                "url": "https://github.com/skipkayhil"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1558372?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because I'd like to get the label of the fixture that created a record.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">When working with fixtures, it inserts records in the database at the beginning of the test suite. I like to validate those fixtures to avoid inserting invalid data for testing. In case of validation error, I need to find out which fixture created the failing record. For some models it's easy to go from one record  to the fixture that created it, for other models it can be more complicated, for example a join model with an id and foreign_keys.</p>\n<p dir=\"auto\">This PR introduces <code class=\"notranslate\">ActiveRecord::FixtureSet.label_of(record)</code> which will return the fixture label of the record if it was created by a fixture.</p>\n<p dir=\"auto\">I'd like to get feedback regarding this PR and could it be useful in the project ?<br>\nThis is working for records with primary_key.<br>\nComposite primary keys are not supported, should it be supported in this PR ?</p>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49348",
            "title": "Get fixture label from a record",
            "date_modified": "2023-09-21T23:43:41.000Z",
            "date_published": "2023-09-21T21:27:36.000Z",
            "author": {
                "name": "jean-francois-labbe",
                "url": "https://github.com/jean-francois-labbe"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5077225?u=e9f968c9eb790ee7734442f6b7998155400ad1d8&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">SQLite is a feature-rich database engine, and production usage is only growing. We need Rails' support to offer developers the range and scope of its features.</p>\n<p dir=\"auto\">Both the MySQL and PostgreSQL adapters support virtual columns, and SQLite itself has support generated columns <a href=\"https://www.sqlite.org/releaselog/3_31_0.html\" rel=\"nofollow\">since 2020</a>.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">PR <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"851659992\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/41856\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/rails/rails/pull/41856/hovercard\" href=\"https://github.com/rails/rails/pull/41856\">#41856</a> introduced virtual columns to the PostgreSQLAdapter. This is effectively a clone of that feature, with some necessary tweaks.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"create_table :users do |t|\n  t.string :name\n  t.virtual :name_upper, type: :string, as: 'UPPER(name)'\n  t.virtual :name_lower, type: :string, as: 'LOWER(name)', stored: true\nend\"><pre class=\"notranslate\"><span class=\"pl-en\">create_table</span> <span class=\"pl-pds\">:users</span> <span class=\"pl-k\">do</span> |<span class=\"pl-s1\">t</span>|\n  <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">string</span> <span class=\"pl-pds\">:name</span>\n  <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">virtual</span> <span class=\"pl-pds\">:name_upper</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">type</span>: <span class=\"pl-pds\">:string</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">as</span>: <span class=\"pl-s\">'UPPER(name)'</span>\n  <span class=\"pl-s1\">t</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">virtual</span> <span class=\"pl-pds\">:name_lower</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">type</span>: <span class=\"pl-pds\">:string</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">as</span>: <span class=\"pl-s\">'LOWER(name)'</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">stored</span>: <span class=\"pl-c1\">true</span>\n<span class=\"pl-k\">end</span></pre></div>\n<p dir=\"auto\">Firstly, SQLite supported both <code class=\"notranslate\">STORED</code> and <code class=\"notranslate\">VIRTUAL</code> generated columns, while PostgreSQL only supports <code class=\"notranslate\">VIRTUAL</code>. Secondly, SQLite doesn't support <code class=\"notranslate\">ALTER TABLE</code> commands with generated columns.</p>\n<p dir=\"auto\">In this PR, I am adding full support for the SQLite3Adapter by implementing:</p>\n<p dir=\"auto\"><code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3::Column#virtual?</code><br>\n<code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3Adapter#supports_virtual_columns?</code></p>\n<p dir=\"auto\">and altering:</p>\n<p dir=\"auto\"><code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3::SchemaCreation#add_column_options</code><br>\n<code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3::SchemaDefinitions#new_column_definition</code><br>\n<code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3::SchemaDumper#prepare_column_options</code><br>\n<code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3::SchemaStatements#new_column_from_field</code><br>\n<code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3Adapter#table_structure</code><br>\n<code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3Adapter#invalid_alter_table_type?</code><br>\n<code class=\"notranslate\">ActiveRecord::ConnectionAdapters::SQLite3Adapter#table_structure_with_collation</code></p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49346",
            "title": "Add support for generated columns in SQLite3 adapter",
            "date_modified": "2023-09-25T08:45:14.000Z",
            "date_published": "2023-09-21T14:01:38.000Z",
            "author": {
                "name": "fractaledmind",
                "url": "https://github.com/fractaledmind"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/39735028?u=91330295c614cf3cec0b64bf242a14fc2ceb358f&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because I want to have the ability to use <code class=\"notranslate\">ActiveSupport::ErrorReport#handle</code> to handle errors in production, but still have these errors be raised when encountered in test or development mode. Sometimes for un-expected / rare issues is better to handle it gracefully in production but I would still prefer to raise it in dev / test.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request introduces a <code class=\"notranslate\">production_only</code> flag to the <code class=\"notranslate\">ActiveSupport::ErrorReporter#handle</code> and <code class=\"notranslate\">#report</code> methods and <code class=\"notranslate\">production</code> attribute to <code class=\"notranslate\">ActiveSupport::ErrorReporter</code>. When this flag is <code class=\"notranslate\">true</code> errors will be raised in non-production environments instead of reported. The flag is <code class=\"notranslate\">false</code> by default to preserve existing behaviour.</p>\n<p dir=\"auto\">I added a <code class=\"notranslate\">production</code> attribute to <code class=\"notranslate\">ActiveSupport::ErrorReporter</code> instances to capture what environment we are in. It is <code class=\"notranslate\">true</code> by default.</p>\n<p dir=\"auto\">In <code class=\"notranslate\">Rails#error</code> I <code class=\"notranslate\">tap</code> the error handler and set the <code class=\"notranslate\">production</code> flag based on the Rails environment.</p>\n<h3 dir=\"auto\">Additional information</h3>\n\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49339",
            "title": "Introduce :production_only flag for ActiveSupport::ErorrReporter#handle",
            "date_modified": "2023-09-21T19:19:42.000Z",
            "date_published": "2023-09-20T21:04:43.000Z",
            "author": {
                "name": "andrewn617",
                "url": "https://github.com/andrewn617"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/5657035?u=48dc5950e98b199e1ed1e8c5c3f1e4bfd2b39691&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #49331.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1905093936\" data-permission-text=\"Title is private\" data-url=\"https://github.com/rails/rails/issues/49331\" data-hovercard-type=\"issue\" data-hovercard-url=\"/rails/rails/issues/49331/hovercard\" href=\"https://github.com/rails/rails/issues/49331\">#49331</a>.</p>",
            "url": "https://github.com/rails/rails/pull/49337",
            "title": "Include connection specification name into `ActiveRecord::StatementInvalid` errors",
            "date_modified": "2023-09-25T16:32:34.000Z",
            "date_published": "2023-09-20T20:12:27.000Z",
            "author": {
                "name": "fatkodima",
                "url": "https://github.com/fatkodima"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/76983?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">This Pull Request has been created because the current behavior is misleading and could cause potential data loss. If you define a scope and you try to call an <code class=\"notranslate\">update</code> or <code class=\"notranslate\">update!</code> on the scope then you would expect that the updates will be executed on the scope and not on every record by ignoring the scope completely.</p>\n<p dir=\"auto\">If I wanted to update every record, then I would call the <code class=\"notranslate\">update</code> or <code class=\"notranslate\">update!</code> on the model directly.</p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This change updates the behavior of the <code class=\"notranslate\">update</code> and <code class=\"notranslate\">update!</code> methods of the <code class=\"notranslate\">ActiveRecord::Relation</code>. If you pass a set of ids then the update will be executed on those records that match the selected ids but also satisfy the scope.</p>\n<p dir=\"auto\">With this change, we also make the <code class=\"notranslate\">update</code> and <code class=\"notranslate\">update!</code> methods symmetric regardless of whether the first parameter was <code class=\"notranslate\">:all</code> or a set of ids.</p>\n<h3 dir=\"auto\">Additional information</h3>\n<p dir=\"auto\">This might be considered a breaking change, but I do believe this is an actual bugfix since the behavior was misleading and it was asymmetric depending on the first argument.</p>\n<p dir=\"auto\">Consider the following scenario, if you want to update the <code class=\"notranslate\">Model</code> record and set all of the <code class=\"notranslate\">sent_at</code> attributes to the actual time if the items have been sent, then this would work.</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Model.unsent.update!(:all, sent_at: Time.zone.now)\"><pre class=\"notranslate\"><span class=\"pl-v\">Model</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">unsent</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">update!</span><span class=\"pl-kos\">(</span><span class=\"pl-pds\">:all</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">sent_at</span>: <span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">zone</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">now</span><span class=\"pl-kos\">)</span></pre></div>\n<p dir=\"auto\">But if you want to reduce it to just a subset of ids:</p>\n<div class=\"highlight highlight-source-ruby notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"Model.unsent.update!([1, 2], { sent_at: Time.zone.now }, { sent_at: Time.zone.now })\"><pre class=\"notranslate\"><span class=\"pl-v\">Model</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">unsent</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">update!</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">[</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">2</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">sent_at</span>: <span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">zone</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">now</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span> <span class=\"pl-pds\">sent_at</span>: <span class=\"pl-v\">Time</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">zone</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">now</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span></pre></div>\n<p dir=\"auto\">Then this method call would update all the <code class=\"notranslate\">Model</code> records with the matching ids in the DB and we would lose the previous <code class=\"notranslate\">sent_at</code> values if for example Model with id <code class=\"notranslate\">1</code> was sent already.</p>\n<h4 dir=\"auto\">Undocumented and untested behavior</h4>\n<p dir=\"auto\">I made my change symmetric to <code class=\"notranslate\">ActiveRecord::Persistence</code> so it will also raise an <code class=\"notranslate\">ActiveRecord::RecordNotFound</code> error if a record could not be found, it also raises similar <code class=\"notranslate\">ArgumentError</code> exceptions when invalid arguments are passed.  This behavior was undocumented and untested, now I added tests to cover the cases.</p>\n<p dir=\"auto\">I was using <code class=\"notranslate\">respond_to?</code> to check if we received an <code class=\"notranslate\">Enumerable</code> like argument. This code is almost the exact copy of the <code class=\"notranslate\">ActiveRecord::Persistence#update</code> or <code class=\"notranslate\">ActiveRecord::Persistence#update!</code>, we could merge these three methods into one concern, but I did not want to introduce any bigger changes with this PR.</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49332",
            "title": "Handle update and update! on scopes properly",
            "date_modified": "2023-09-23T08:21:42.000Z",
            "date_published": "2023-09-20T14:34:30.000Z",
            "author": {
                "name": "raszi",
                "url": "https://github.com/raszi"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1068531?u=86f00938be9f39ec677b8dd5f3518aab3d2d8585&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">MariaDB have supported <a href=\"https://mariadb.com/kb/en/insertreturning/\" rel=\"nofollow\">INSERT RETURNING</a> starting with 10.5.0.</p>\n<p dir=\"auto\">This is very convenient to use in methods such as <code class=\"notranslate\">ActiveRecord::Persistence.insert_all</code> to return default or setted by trigger attributes.</p>\n<p dir=\"auto\">Now you can use returning option with MariaDB the same way as with PostgreSQL in ActiveRecord::Persistence <a href=\"https://api.rubyonrails.org/classes/ActiveRecord/Persistence/ClassMethods.html#method-i-insert_all\" rel=\"nofollow\">insert</a> methods.</p>\n<p dir=\"auto\">There are tests </p><div class=\"Box Box--condensed my-2\">\n  <div class=\"Box-header f6\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/rails/rails/blob/ebcd7233ea1307448f2d97eaf56a8d303200e5f7/activerecord/test/cases/insert_all_test.rb#L87-L120\">rails/activerecord/test/cases/insert_all_test.rb</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n        Lines 87 to 120\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/rails/rails/commit/ebcd7233ea1307448f2d97eaf56a8d303200e5f7\">ebcd723</a>\n    </p>\n  </div>\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L87\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"87\"></td>\n          <td id=\"LC87\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_insert_all_returns_primary_key_if_returning_is_supported</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L88\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"88\"></td>\n          <td id=\"LC88\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">skip</span> <span class=\"pl-k\">unless</span> <span class=\"pl-en\">supports_insert_returning?</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L89\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"89\"></td>\n          <td id=\"LC89\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L90\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"90\"></td>\n          <td id=\"LC90\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Book</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">insert_all!</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">{</span> <span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"Rework\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">author_id</span>: <span class=\"pl-c1\">1</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">]</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L91\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"91\"></td>\n          <td id=\"LC91\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">assert_equal</span> <span class=\"pl-kos\">%w[</span> <span class=\"pl-s\">id</span> <span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">columns</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L92\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"92\"></td>\n          <td id=\"LC92\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L93\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"93\"></td>\n          <td id=\"LC93\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L94\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"94\"></td>\n          <td id=\"LC94\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_insert_all_returns_nothing_if_returning_is_empty</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L95\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"95\"></td>\n          <td id=\"LC95\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">skip</span> <span class=\"pl-k\">unless</span> <span class=\"pl-en\">supports_insert_returning?</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L96\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"96\"></td>\n          <td id=\"LC96\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L97\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"97\"></td>\n          <td id=\"LC97\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Book</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">insert_all!</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">{</span> <span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"Rework\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">author_id</span>: <span class=\"pl-c1\">1</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">returning</span>: <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L98\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"98\"></td>\n          <td id=\"LC98\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">assert_equal</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">columns</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L99\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"99\"></td>\n          <td id=\"LC99\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L100\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"100\"></td>\n          <td id=\"LC100\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L101\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"101\"></td>\n          <td id=\"LC101\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_insert_all_returns_nothing_if_returning_is_false</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L102\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"102\"></td>\n          <td id=\"LC102\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">skip</span> <span class=\"pl-k\">unless</span> <span class=\"pl-en\">supports_insert_returning?</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L103\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"103\"></td>\n          <td id=\"LC103\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L104\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"104\"></td>\n          <td id=\"LC104\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Book</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">insert_all!</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">{</span> <span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"Rework\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">author_id</span>: <span class=\"pl-c1\">1</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">returning</span>: <span class=\"pl-c1\">false</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L105\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"105\"></td>\n          <td id=\"LC105\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">assert_equal</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">columns</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L106\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"106\"></td>\n          <td id=\"LC106\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L107\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"107\"></td>\n          <td id=\"LC107\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L108\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"108\"></td>\n          <td id=\"LC108\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_insert_all_returns_requested_fields</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L109\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"109\"></td>\n          <td id=\"LC109\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">skip</span> <span class=\"pl-k\">unless</span> <span class=\"pl-en\">supports_insert_returning?</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L110\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"110\"></td>\n          <td id=\"LC110\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L111\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"111\"></td>\n          <td id=\"LC111\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Book</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">insert_all!</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">{</span> <span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"Rework\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">author_id</span>: <span class=\"pl-c1\">1</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">returning</span>: <span class=\"pl-kos\">[</span><span class=\"pl-pds\">:id</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">:name</span><span class=\"pl-kos\">]</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L112\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"112\"></td>\n          <td id=\"LC112\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">assert_equal</span> <span class=\"pl-kos\">%w[</span> <span class=\"pl-s\">Rework</span> <span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">pluck</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"name\"</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L113\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"113\"></td>\n          <td id=\"LC113\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L114\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"114\"></td>\n          <td id=\"LC114\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L115\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"115\"></td>\n          <td id=\"LC115\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">def</span> <span class=\"pl-en\">test_insert_all_returns_requested_sql_fields</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L116\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"116\"></td>\n          <td id=\"LC116\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">skip</span> <span class=\"pl-k\">unless</span> <span class=\"pl-en\">supports_insert_returning?</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L117\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"117\"></td>\n          <td id=\"LC117\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">  </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L118\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"118\"></td>\n          <td id=\"LC118\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-s1\">result</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">Book</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">insert_all!</span> <span class=\"pl-kos\">[</span><span class=\"pl-kos\">{</span> <span class=\"pl-pds\">name</span>: <span class=\"pl-s\">\"Rework\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">author_id</span>: <span class=\"pl-c1\">1</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-pds\">returning</span>: <span class=\"pl-v\">Arel</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">sql</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"UPPER(name) as name\"</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L119\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"119\"></td>\n          <td id=\"LC119\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\">   <span class=\"pl-en\">assert_equal</span> <span class=\"pl-kos\">%w[</span> <span class=\"pl-s\">REWORK</span> <span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">result</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">pluck</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"name\"</span><span class=\"pl-kos\">)</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L120\" class=\"blob-num border-0 px-3 py-0 color-bg-default\" data-line-number=\"120\"></td>\n          <td id=\"LC120\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-k\">end</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n  that will automatically run in the required version of MariaDB.<p></p>\n<p dir=\"auto\">We've been using this patch in production for several months.</p>",
            "url": "https://github.com/rails/rails/pull/49315",
            "title": "Support returning option in insert_all for MariaDB",
            "date_modified": "2023-09-20T14:53:51.000Z",
            "date_published": "2023-09-19T09:46:58.000Z",
            "author": {
                "name": "nkondratyev",
                "url": "https://github.com/nkondratyev"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4910785?u=bb262553df264faad2f515f6ea75067266e0d129&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">Many apps use the <a href=\"https://github.com/rmm5t/strip_attributes\">https://github.com/rmm5t/strip_attributes</a> gem to strip most string attributes.<br>\nThe new <code class=\"notranslate\">normalizes</code> API is a perfect fit for this. One \"downside\" in contrast to the strip_attributes gem, is that you have to explicitly list all attributes you want to normalize. It would be nice to have a simple way to e.g. \"strip all string attributes in most models\".</p>\n<h3 dir=\"auto\">Checklist</h3>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49314",
            "title": "Add normalizes_type to apply common normalizations",
            "date_modified": "2023-09-20T18:57:04.000Z",
            "date_published": "2023-09-18T22:00:16.000Z",
            "author": {
                "name": "codergeek121",
                "url": "https://github.com/codergeek121"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/107635?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><h3 dir=\"auto\">Motivation / Background</h3>\n<p dir=\"auto\">I've been stuck on a failing test about a job that was supposed to be rescued from exceptions, and after an embarrassing amount of time I came to realise that using <code class=\"notranslate\">perform</code> shortcuts all of the ActiveJob niceties.</p>\n<p dir=\"auto\">This Pull Request has been created because I don't want other people to confuse the <code class=\"notranslate\">perform</code>, <code class=\"notranslate\">perform_now</code> or <code class=\"notranslate\">perform_later</code> altogether and waste valuable time trying to understand why the first one doesn't behave like the two others.</p>\n<p dir=\"auto\">Feel free to challenge the wording as you please </p>\n<h3 dir=\"auto\">Detail</h3>\n<p dir=\"auto\">This Pull Request changes the ActiveJob guide.</p>\n<p dir=\"auto\">Before submitting the PR make sure the following are checked:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: <code class=\"notranslate\">[Fix #issue-number]</code></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Tests are added or updated if you fix a bug or add a feature.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.</li>\n</ul>",
            "url": "https://github.com/rails/rails/pull/49301",
            "title": "[ci skip] clarify the benefits of using ActiveJob's execution wrappers",
            "date_modified": "2023-09-23T12:55:07.000Z",
            "date_published": "2023-09-16T10:36:45.000Z",
            "author": {
                "name": "freesteph",
                "url": "https://github.com/freesteph"
            }
        }
    ]
}